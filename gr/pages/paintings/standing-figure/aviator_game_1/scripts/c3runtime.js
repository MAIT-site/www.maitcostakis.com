// Generated by Construct, the game and app creator :: https://www.construct.net
var aa;"use strict";var ba=this;
function ca(a){function b(f,h,m){var q=h[0],t=h[1],u=h[2];h=h[3];var v=m[0],y=m[1],A=m[2];m=m[3];f[0]=q*v+u*y;f[1]=t*v+h*y;f[2]=q*A+u*m;f[3]=t*A+h*m;return f}function d(f,h,m){f[0]=h[0]-m[0];f[1]=h[1]-m[1];f[2]=h[2]-m[2];f[3]=h[3]-m[3];return f}function c(f,h,m){var q=h[0],t=h[1],u=h[2],v=h[3],y=h[4];h=h[5];var A=m[0],B=m[1],E=m[2],H=m[3],N=m[4];m=m[5];f[0]=q*A+u*B;f[1]=t*A+v*B;f[2]=q*E+u*H;f[3]=t*E+v*H;f[4]=q*N+u*m+y;f[5]=t*N+v*m+h;return f}function e(f,h,m){f[0]=h[0]-m[0];f[1]=h[1]-m[1];f[2]=h[2]-
m[2];f[3]=h[3]-m[3];f[4]=h[4]-m[4];f[5]=h[5]-m[5];return f}function g(){var f=new va(9);va!=Float32Array&&(f[1]=0,f[2]=0,f[3]=0,f[5]=0,f[6]=0,f[7]=0);f[0]=1;f[4]=1;f[8]=1;return f}function k(f,h,m){var q=h[0],t=h[1],u=h[2],v=h[3],y=h[4],A=h[5],B=h[6],E=h[7];h=h[8];var H=m[0],N=m[1],M=m[2],W=m[3],X=m[4],R=m[5],oa=m[6],ea=m[7];m=m[8];f[0]=H*q+N*v+M*B;f[1]=H*t+N*y+M*E;f[2]=H*u+N*A+M*h;f[3]=W*q+X*v+R*B;f[4]=W*t+X*y+R*E;f[5]=W*u+X*A+R*h;f[6]=oa*q+ea*v+m*B;f[7]=oa*t+ea*y+m*E;f[8]=oa*u+ea*A+m*h;return f}
function l(f,h,m){f[0]=h[0]-m[0];f[1]=h[1]-m[1];f[2]=h[2]-m[2];f[3]=h[3]-m[3];f[4]=h[4]-m[4];f[5]=h[5]-m[5];f[6]=h[6]-m[6];f[7]=h[7]-m[7];f[8]=h[8]-m[8];return f}function n(f){f[0]=1;f[1]=0;f[2]=0;f[3]=0;f[4]=0;f[5]=1;f[6]=0;f[7]=0;f[8]=0;f[9]=0;f[10]=1;f[11]=0;f[12]=0;f[13]=0;f[14]=0;f[15]=1;return f}function p(f,h,m){var q=h[0],t=h[1],u=h[2],v=h[3],y=h[4],A=h[5],B=h[6],E=h[7],H=h[8],N=h[9],M=h[10],W=h[11],X=h[12],R=h[13],oa=h[14];h=h[15];var ea=m[0],sa=m[1],ta=m[2],pa=m[3];f[0]=ea*q+sa*y+ta*H+pa*
X;f[1]=ea*t+sa*A+ta*N+pa*R;f[2]=ea*u+sa*B+ta*M+pa*oa;f[3]=ea*v+sa*E+ta*W+pa*h;ea=m[4];sa=m[5];ta=m[6];pa=m[7];f[4]=ea*q+sa*y+ta*H+pa*X;f[5]=ea*t+sa*A+ta*N+pa*R;f[6]=ea*u+sa*B+ta*M+pa*oa;f[7]=ea*v+sa*E+ta*W+pa*h;ea=m[8];sa=m[9];ta=m[10];pa=m[11];f[8]=ea*q+sa*y+ta*H+pa*X;f[9]=ea*t+sa*A+ta*N+pa*R;f[10]=ea*u+sa*B+ta*M+pa*oa;f[11]=ea*v+sa*E+ta*W+pa*h;ea=m[12];sa=m[13];ta=m[14];pa=m[15];f[12]=ea*q+sa*y+ta*H+pa*X;f[13]=ea*t+sa*A+ta*N+pa*R;f[14]=ea*u+sa*B+ta*M+pa*oa;f[15]=ea*v+sa*E+ta*W+pa*h;return f}function r(f,
h,m){var q=h[0],t=h[1],u=h[2],v=h[3],y=q+q,A=t+t,B=u+u;h=q*y;var E=q*A;q*=B;var H=t*A;t*=B;u*=B;y*=v;A*=v;v*=B;f[0]=1-(H+u);f[1]=E+v;f[2]=q-A;f[3]=0;f[4]=E-v;f[5]=1-(h+u);f[6]=t+y;f[7]=0;f[8]=q+A;f[9]=t-y;f[10]=1-(h+H);f[11]=0;f[12]=m[0];f[13]=m[1];f[14]=m[2];f[15]=1;return f}function w(f,h){f[0]=h[12];f[1]=h[13];f[2]=h[14];return f}function x(f,h){var m=h[4],q=h[5],t=h[6],u=h[8],v=h[9],y=h[10];f[0]=Math.hypot(h[0],h[1],h[2]);f[1]=Math.hypot(m,q,t);f[2]=Math.hypot(u,v,y);return f}function z(f,h){var m=
new va(3);x(m,h);var q=1/m[0],t=1/m[1],u=1/m[2],v=h[0]*q;m=h[1]*t;var y=h[2]*u,A=h[4]*q,B=h[5]*t,E=h[6]*u;q*=h[8];t*=h[9];h=h[10]*u;u=v+B+h;0<u?(v=2*Math.sqrt(u+1),f[3]=.25*v,f[0]=(E-t)/v,f[1]=(q-y)/v,f[2]=(m-A)/v):v>B&&v>h?(v=2*Math.sqrt(1+v-B-h),f[3]=(E-t)/v,f[0]=.25*v,f[1]=(m+A)/v,f[2]=(q+y)/v):B>h?(v=2*Math.sqrt(1+B-v-h),f[3]=(q-y)/v,f[0]=(m+A)/v,f[1]=.25*v,f[2]=(E+t)/v):(v=2*Math.sqrt(1+h-v-B),f[3]=(m-A)/v,f[0]=(q+y)/v,f[1]=(E+t)/v,f[2]=.25*v);return f}function F(f,h,m,q,t){h=1/Math.tan(h/2);
f[0]=h/m;f[1]=0;f[2]=0;f[3]=0;f[4]=0;f[5]=h;f[6]=0;f[7]=0;f[8]=0;f[9]=0;f[11]=-1;f[12]=0;f[13]=0;f[15]=0;null!=t&&Infinity!==t?(m=1/(q-t),f[10]=(t+q)*m,f[14]=2*t*q*m):(f[10]=-1,f[14]=-2*q);return f}function C(f,h,m,q,t,u,v){var y=1/(h-m),A=1/(q-t),B=1/(u-v);f[0]=-2*y;f[1]=0;f[2]=0;f[3]=0;f[4]=0;f[5]=-2*A;f[6]=0;f[7]=0;f[8]=0;f[9]=0;f[10]=2*B;f[11]=0;f[12]=(h+m)*y;f[13]=(t+q)*A;f[14]=(v+u)*B;f[15]=1;return f}function G(f,h,m){f[0]=h[0]-m[0];f[1]=h[1]-m[1];f[2]=h[2]-m[2];f[3]=h[3]-m[3];f[4]=h[4]-m[4];
f[5]=h[5]-m[5];f[6]=h[6]-m[6];f[7]=h[7]-m[7];f[8]=h[8]-m[8];f[9]=h[9]-m[9];f[10]=h[10]-m[10];f[11]=h[11]-m[11];f[12]=h[12]-m[12];f[13]=h[13]-m[13];f[14]=h[14]-m[14];f[15]=h[15]-m[15];return f}function J(){var f=new va(3);va!=Float32Array&&(f[0]=0,f[1]=0,f[2]=0);return f}function K(f){return Math.hypot(f[0],f[1],f[2])}function O(f,h,m){var q=new va(3);q[0]=f;q[1]=h;q[2]=m;return q}function na(f,h,m){f[0]=h[0]-m[0];f[1]=h[1]-m[1];f[2]=h[2]-m[2];return f}function ka(f,h,m){f[0]=h[0]*m[0];f[1]=h[1]*m[1];
f[2]=h[2]*m[2];return f}function Ja(f,h,m){f[0]=h[0]/m[0];f[1]=h[1]/m[1];f[2]=h[2]/m[2];return f}function $b(f,h){return Math.hypot(h[0]-f[0],h[1]-f[1],h[2]-f[2])}function id(f,h){var m=h[0]-f[0],q=h[1]-f[1];f=h[2]-f[2];return m*m+q*q+f*f}function Gb(f){var h=f[0],m=f[1];f=f[2];return h*h+m*m+f*f}function vc(f,h){var m=h[0],q=h[1],t=h[2];m=m*m+q*q+t*t;0<m&&(m=1/Math.sqrt(m));f[0]=h[0]*m;f[1]=h[1]*m;f[2]=h[2]*m;return f}function Sd(f,h){return f[0]*h[0]+f[1]*h[1]+f[2]*h[2]}function Td(f,h,m){var q=
h[0],t=h[1];h=h[2];var u=m[0],v=m[1];m=m[2];f[0]=t*m-h*v;f[1]=h*u-q*m;f[2]=q*v-t*u;return f}function qe(){var f=new va(4);va!=Float32Array&&(f[0]=0,f[1]=0,f[2]=0,f[3]=0);return f}function Ud(f){var h=new va(4);h[0]=f[0];h[1]=f[1];h[2]=f[2];h[3]=f[3];return h}function Ad(f,h,m,q){var t=new va(4);t[0]=f;t[1]=h;t[2]=m;t[3]=q;return t}function Jc(f,h){f[0]=h[0];f[1]=h[1];f[2]=h[2];f[3]=h[3];return f}function Ze(f,h,m,q,t){f[0]=h;f[1]=m;f[2]=q;f[3]=t;return f}function pb(f,h,m){f[0]=h[0]+m[0];f[1]=h[1]+
m[1];f[2]=h[2]+m[2];f[3]=h[3]+m[3];return f}function bb(f,h,m){f[0]=h[0]-m[0];f[1]=h[1]-m[1];f[2]=h[2]-m[2];f[3]=h[3]-m[3];return f}function Kc(f,h,m){f[0]=h[0]*m[0];f[1]=h[1]*m[1];f[2]=h[2]*m[2];f[3]=h[3]*m[3];return f}function Hb(f,h,m){f[0]=h[0]/m[0];f[1]=h[1]/m[1];f[2]=h[2]/m[2];f[3]=h[3]/m[3];return f}function jc(f,h,m){f[0]=h[0]*m;f[1]=h[1]*m;f[2]=h[2]*m;f[3]=h[3]*m;return f}function $e(f,h){return Math.hypot(h[0]-f[0],h[1]-f[1],h[2]-f[2],h[3]-f[3])}function gi(f,h){var m=h[0]-f[0],q=h[1]-f[1],
t=h[2]-f[2];f=h[3]-f[3];return m*m+q*q+t*t+f*f}function re(f){return Math.hypot(f[0],f[1],f[2],f[3])}function ua(f){var h=f[0],m=f[1],q=f[2];f=f[3];return h*h+m*m+q*q+f*f}function fa(f,h){var m=h[0],q=h[1],t=h[2];h=h[3];var u=m*m+q*q+t*t+h*h;0<u&&(u=1/Math.sqrt(u));f[0]=m*u;f[1]=q*u;f[2]=t*u;f[3]=h*u;return f}function Ka(f,h){return f[0]*h[0]+f[1]*h[1]+f[2]*h[2]+f[3]*h[3]}function Ab(f,h,m,q){var t=h[0],u=h[1],v=h[2];h=h[3];f[0]=t+q*(m[0]-t);f[1]=u+q*(m[1]-u);f[2]=v+q*(m[2]-v);f[3]=h+q*(m[3]-h);return f}
function Bb(f,h){return f[0]===h[0]&&f[1]===h[1]&&f[2]===h[2]&&f[3]===h[3]}function Bd(){var f=new va(4);va!=Float32Array&&(f[0]=0,f[1]=0,f[2]=0);f[3]=1;return f}function se(f,h,m){m*=.5;var q=Math.sin(m);f[0]=q*h[0];f[1]=q*h[1];f[2]=q*h[2];f[3]=Math.cos(m);return f}function Vd(f,h,m){var q=h[0],t=h[1],u=h[2];h=h[3];var v=m[0],y=m[1],A=m[2];m=m[3];f[0]=q*m+h*v+t*A-u*y;f[1]=t*m+h*y+u*v-q*A;f[2]=u*m+h*A+q*y-t*v;f[3]=h*m-q*v-t*y-u*A;return f}function Wd(f,h,m){m*=.5;var q=h[0],t=h[1],u=h[2];h=h[3];var v=
Math.sin(m);m=Math.cos(m);f[0]=q*m+h*v;f[1]=t*m+u*v;f[2]=u*m-t*v;f[3]=h*m-q*v;return f}function Vf(f,h,m){m*=.5;var q=h[0],t=h[1],u=h[2];h=h[3];var v=Math.sin(m);m=Math.cos(m);f[0]=q*m-u*v;f[1]=t*m+h*v;f[2]=u*m+q*v;f[3]=h*m-t*v;return f}function jd(f,h,m){m*=.5;var q=h[0],t=h[1],u=h[2];h=h[3];var v=Math.sin(m);m=Math.cos(m);f[0]=q*m+t*v;f[1]=t*m-q*v;f[2]=u*m+h*v;f[3]=h*m-u*v;return f}function Ib(f,h){var m=h[0],q=h[1],t=h[2],u=Math.sqrt(m*m+q*q+t*t);h=Math.exp(h[3]);var v=0<u?h*Math.sin(u)/u:0;f[0]=
m*v;f[1]=q*v;f[2]=t*v;f[3]=h*Math.cos(u);return f}function Xd(f,h){var m=h[0],q=h[1],t=h[2];h=h[3];var u=Math.sqrt(m*m+q*q+t*t);u=0<u?Math.atan2(u,h)/u:0;f[0]=m*u;f[1]=q*u;f[2]=t*u;f[3]=.5*Math.log(m*m+q*q+t*t+h*h);return f}function af(f,h,m,q){var t=h[0],u=h[1],v=h[2];h=h[3];var y=m[0],A=m[1],B=m[2];m=m[3];var E=t*y+u*A+v*B+h*m;0>E&&(E=-E,y=-y,A=-A,B=-B,m=-m);if(1E-6<1-E){var H=Math.acos(E);var N=Math.sin(H);E=Math.sin((1-q)*H)/N;q=Math.sin(q*H)/N}else E=1-q;f[0]=E*t+q*y;f[1]=E*u+q*A;f[2]=E*v+q*
B;f[3]=E*h+q*m;return f}function te(f,h){var m=h[0]+h[4]+h[8];if(0<m)m=Math.sqrt(m+1),f[3]=.5*m,m=.5/m,f[0]=(h[5]-h[7])*m,f[1]=(h[6]-h[2])*m,f[2]=(h[1]-h[3])*m;else{var q=0;h[4]>h[0]&&(q=1);h[8]>h[3*q+q]&&(q=2);var t=(q+1)%3,u=(q+2)%3;m=Math.sqrt(h[3*q+q]-h[3*t+t]-h[3*u+u]+1);f[q]=.5*m;m=.5/m;f[3]=(h[3*t+u]-h[3*u+t])*m;f[t]=(h[3*t+q]+h[3*q+t])*m;f[u]=(h[3*u+q]+h[3*q+u])*m}return f}function Tb(f,h,m){var q=.5*m[0],t=.5*m[1];m=.5*m[2];var u=h[0],v=h[1],y=h[2];h=h[3];f[0]=u;f[1]=v;f[2]=y;f[3]=h;f[4]=
q*h+t*y-m*v;f[5]=t*h+m*u-q*y;f[6]=m*h+q*v-t*u;f[7]=-q*u-t*v-m*y;return f}function wc(f,h){f[0]=h[0];f[1]=h[1];f[2]=h[2];f[3]=h[3];f[4]=h[4];f[5]=h[5];f[6]=h[6];f[7]=h[7];return f}function cc(f,h,m){var q=h[0],t=h[1],u=h[2],v=h[3],y=m[4],A=m[5],B=m[6],E=m[7],H=h[4],N=h[5],M=h[6];h=h[7];var W=m[0],X=m[1],R=m[2];m=m[3];f[0]=q*m+v*W+t*R-u*X;f[1]=t*m+v*X+u*W-q*R;f[2]=u*m+v*R+q*X-t*W;f[3]=v*m-q*W-t*X-u*R;f[4]=q*E+v*y+t*B-u*A+H*m+h*W+N*R-M*X;f[5]=t*E+v*A+u*y-q*B+N*m+h*X+M*W-H*R;f[6]=u*E+v*B+q*A-t*y+M*m+
h*R+H*X-N*W;f[7]=v*E-q*y-t*A-u*B+h*m-H*W-N*X-M*R;return f}function ue(){var f=new va(2);va!=Float32Array&&(f[0]=0,f[1]=0);return f}function bf(f,h,m){f[0]=h[0]-m[0];f[1]=h[1]-m[1];return f}function hi(f,h,m){f[0]=h[0]*m[0];f[1]=h[1]*m[1];return f}function Mr(f,h,m){f[0]=h[0]/m[0];f[1]=h[1]/m[1];return f}function Nr(f,h){return Math.hypot(h[0]-f[0],h[1]-f[1])}function Or(f,h){var m=h[0]-f[0];f=h[1]-f[1];return m*m+f*f}function Pr(f){return Math.hypot(f[0],f[1])}function Qr(f){var h=f[0];f=f[1];return h*
h+f*f}var va="undefined"!==typeof Float32Array?Float32Array:Array,Cd=Math.random,yA=Math.PI/180;Math.hypot||(Math.hypot=function(){for(var f=0,h=arguments.length;h--;)f+=arguments[h]*arguments[h];return Math.sqrt(f)});var zA=Object.freeze({__proto__:null,EPSILON:1E-6,get u5(){return va},hba:Cd,t5:"zyx",lja:function(f){va=f},Cja:function(f){return f*yA},Pd:function(f,h){return Math.abs(f-h)<=1E-6*Math.max(1,Math.abs(f),Math.abs(h))}}),AA=Object.freeze({__proto__:null,create:function(){var f=new va(4);
va!=Float32Array&&(f[1]=0,f[2]=0);f[0]=1;f[3]=1;return f},clone:function(f){var h=new va(4);h[0]=f[0];h[1]=f[1];h[2]=f[2];h[3]=f[3];return h},Ja:function(f,h){f[0]=h[0];f[1]=h[1];f[2]=h[2];f[3]=h[3];return f},zB:function(f){f[0]=1;f[1]=0;f[2]=0;f[3]=1;return f},Jg:function(f,h,m,q){var t=new va(4);t[0]=f;t[1]=h;t[2]=m;t[3]=q;return t},set:function(f,h,m,q,t){f[0]=h;f[1]=m;f[2]=q;f[3]=t;return f},hW:function(f,h){if(f===h){var m=h[1];f[1]=h[2];f[2]=m}else f[0]=h[0],f[1]=h[2],f[2]=h[1],f[3]=h[3];return f},
$w:function(f,h){var m=h[0],q=h[1],t=h[2];h=h[3];var u=m*h-t*q;if(!u)return null;u=1/u;f[0]=h*u;f[1]=-q*u;f[2]=-t*u;f[3]=m*u;return f},$U:function(f,h){var m=h[0];f[0]=h[3];f[1]=-h[1];f[2]=-h[2];f[3]=m;return f},lO:function(f){return f[0]*f[3]-f[2]*f[1]},multiply:b,rotate:function(f,h,m){var q=h[0],t=h[1],u=h[2];h=h[3];var v=Math.sin(m);m=Math.cos(m);f[0]=q*m+u*v;f[1]=t*m+h*v;f[2]=q*-v+u*m;f[3]=t*-v+h*m;return f},scale:function(f,h,m){var q=h[1],t=h[2],u=h[3],v=m[0];m=m[1];f[0]=h[0]*v;f[1]=q*v;f[2]=
t*m;f[3]=u*m;return f},dH:function(f,h){var m=Math.sin(h);h=Math.cos(h);f[0]=h;f[1]=m;f[2]=-m;f[3]=h;return f},pO:function(f,h){f[0]=h[0];f[1]=0;f[2]=0;f[3]=h[1];return f},Mo:function(f){return"mat2("+f[0]+", "+f[1]+", "+f[2]+", "+f[3]+")"},oO:function(f){return Math.hypot(f[0],f[1],f[2],f[3])},O9:function(f,h,m,q){f[2]=q[2]/q[0];m[0]=q[0];m[1]=q[1];m[3]=q[3]-f[2]*m[1];return[f,h,m]},add:function(f,h,m){f[0]=h[0]+m[0];f[1]=h[1]+m[1];f[2]=h[2]+m[2];f[3]=h[3]+m[3];return f},No:d,bj:function(f,h){return f[0]===
h[0]&&f[1]===h[1]&&f[2]===h[2]&&f[3]===h[3]},Pd:function(f,h){var m=f[0],q=f[1],t=f[2];f=f[3];var u=h[0],v=h[1],y=h[2];h=h[3];return Math.abs(m-u)<=1E-6*Math.max(1,Math.abs(m),Math.abs(u))&&Math.abs(q-v)<=1E-6*Math.max(1,Math.abs(q),Math.abs(v))&&Math.abs(t-y)<=1E-6*Math.max(1,Math.abs(t),Math.abs(y))&&Math.abs(f-h)<=1E-6*Math.max(1,Math.abs(f),Math.abs(h))},HO:function(f,h,m){f[0]=h[0]*m;f[1]=h[1]*m;f[2]=h[2]*m;f[3]=h[3]*m;return f},IO:function(f,h,m,q){f[0]=h[0]+m[0]*q;f[1]=h[1]+m[1]*q;f[2]=h[2]+
m[2]*q;f[3]=h[3]+m[3]*q;return f},Jo:b,sub:d}),BA=Object.freeze({__proto__:null,create:function(){var f=new va(6);va!=Float32Array&&(f[1]=0,f[2]=0,f[4]=0,f[5]=0);f[0]=1;f[3]=1;return f},clone:function(f){var h=new va(6);h[0]=f[0];h[1]=f[1];h[2]=f[2];h[3]=f[3];h[4]=f[4];h[5]=f[5];return h},Ja:function(f,h){f[0]=h[0];f[1]=h[1];f[2]=h[2];f[3]=h[3];f[4]=h[4];f[5]=h[5];return f},zB:function(f){f[0]=1;f[1]=0;f[2]=0;f[3]=1;f[4]=0;f[5]=0;return f},Jg:function(f,h,m,q,t,u){var v=new va(6);v[0]=f;v[1]=h;v[2]=
m;v[3]=q;v[4]=t;v[5]=u;return v},set:function(f,h,m,q,t,u,v){f[0]=h;f[1]=m;f[2]=q;f[3]=t;f[4]=u;f[5]=v;return f},$w:function(f,h){var m=h[0],q=h[1],t=h[2],u=h[3],v=h[4];h=h[5];var y=m*u-q*t;if(!y)return null;y=1/y;f[0]=u*y;f[1]=-q*y;f[2]=-t*y;f[3]=m*y;f[4]=(t*h-u*v)*y;f[5]=(q*v-m*h)*y;return f},lO:function(f){return f[0]*f[3]-f[1]*f[2]},multiply:c,rotate:function(f,h,m){var q=h[0],t=h[1],u=h[2],v=h[3],y=h[4];h=h[5];var A=Math.sin(m);m=Math.cos(m);f[0]=q*m+u*A;f[1]=t*m+v*A;f[2]=q*-A+u*m;f[3]=t*-A+
v*m;f[4]=y;f[5]=h;return f},scale:function(f,h,m){var q=h[1],t=h[2],u=h[3],v=h[4],y=h[5],A=m[0];m=m[1];f[0]=h[0]*A;f[1]=q*A;f[2]=t*m;f[3]=u*m;f[4]=v;f[5]=y;return f},translate:function(f,h,m){var q=h[0],t=h[1],u=h[2],v=h[3],y=h[4];h=h[5];var A=m[0];m=m[1];f[0]=q;f[1]=t;f[2]=u;f[3]=v;f[4]=q*A+u*m+y;f[5]=t*A+v*m+h;return f},dH:function(f,h){var m=Math.sin(h);h=Math.cos(h);f[0]=h;f[1]=m;f[2]=-m;f[3]=h;f[4]=0;f[5]=0;return f},pO:function(f,h){f[0]=h[0];f[1]=0;f[2]=0;f[3]=h[1];f[4]=0;f[5]=0;return f},
qO:function(f,h){f[0]=1;f[1]=0;f[2]=0;f[3]=1;f[4]=h[0];f[5]=h[1];return f},Mo:function(f){return"mat2d("+f[0]+", "+f[1]+", "+f[2]+", "+f[3]+", "+f[4]+", "+f[5]+")"},oO:function(f){return Math.hypot(f[0],f[1],f[2],f[3],f[4],f[5],1)},add:function(f,h,m){f[0]=h[0]+m[0];f[1]=h[1]+m[1];f[2]=h[2]+m[2];f[3]=h[3]+m[3];f[4]=h[4]+m[4];f[5]=h[5]+m[5];return f},No:e,HO:function(f,h,m){f[0]=h[0]*m;f[1]=h[1]*m;f[2]=h[2]*m;f[3]=h[3]*m;f[4]=h[4]*m;f[5]=h[5]*m;return f},IO:function(f,h,m,q){f[0]=h[0]+m[0]*q;f[1]=
h[1]+m[1]*q;f[2]=h[2]+m[2]*q;f[3]=h[3]+m[3]*q;f[4]=h[4]+m[4]*q;f[5]=h[5]+m[5]*q;return f},bj:function(f,h){return f[0]===h[0]&&f[1]===h[1]&&f[2]===h[2]&&f[3]===h[3]&&f[4]===h[4]&&f[5]===h[5]},Pd:function(f,h){var m=f[0],q=f[1],t=f[2],u=f[3],v=f[4];f=f[5];var y=h[0],A=h[1],B=h[2],E=h[3],H=h[4];h=h[5];return Math.abs(m-y)<=1E-6*Math.max(1,Math.abs(m),Math.abs(y))&&Math.abs(q-A)<=1E-6*Math.max(1,Math.abs(q),Math.abs(A))&&Math.abs(t-B)<=1E-6*Math.max(1,Math.abs(t),Math.abs(B))&&Math.abs(u-E)<=1E-6*Math.max(1,
Math.abs(u),Math.abs(E))&&Math.abs(v-H)<=1E-6*Math.max(1,Math.abs(v),Math.abs(H))&&Math.abs(f-h)<=1E-6*Math.max(1,Math.abs(f),Math.abs(h))},Jo:c,sub:e}),CA=Object.freeze({__proto__:null,create:g,Y3:function(f,h){f[0]=h[0];f[1]=h[1];f[2]=h[2];f[3]=h[4];f[4]=h[5];f[5]=h[6];f[6]=h[8];f[7]=h[9];f[8]=h[10];return f},clone:function(f){var h=new va(9);h[0]=f[0];h[1]=f[1];h[2]=f[2];h[3]=f[3];h[4]=f[4];h[5]=f[5];h[6]=f[6];h[7]=f[7];h[8]=f[8];return h},Ja:function(f,h){f[0]=h[0];f[1]=h[1];f[2]=h[2];f[3]=h[3];
f[4]=h[4];f[5]=h[5];f[6]=h[6];f[7]=h[7];f[8]=h[8];return f},Jg:function(f,h,m,q,t,u,v,y,A){var B=new va(9);B[0]=f;B[1]=h;B[2]=m;B[3]=q;B[4]=t;B[5]=u;B[6]=v;B[7]=y;B[8]=A;return B},set:function(f,h,m,q,t,u,v,y,A,B){f[0]=h;f[1]=m;f[2]=q;f[3]=t;f[4]=u;f[5]=v;f[6]=y;f[7]=A;f[8]=B;return f},zB:function(f){f[0]=1;f[1]=0;f[2]=0;f[3]=0;f[4]=1;f[5]=0;f[6]=0;f[7]=0;f[8]=1;return f},hW:function(f,h){if(f===h){var m=h[1],q=h[2],t=h[5];f[1]=h[3];f[2]=h[6];f[3]=m;f[5]=h[7];f[6]=q;f[7]=t}else f[0]=h[0],f[1]=h[3],
f[2]=h[6],f[3]=h[1],f[4]=h[4],f[5]=h[7],f[6]=h[2],f[7]=h[5],f[8]=h[8];return f},$w:function(f,h){var m=h[0],q=h[1],t=h[2],u=h[3],v=h[4],y=h[5],A=h[6],B=h[7];h=h[8];var E=h*v-y*B,H=-h*u+y*A,N=B*u-v*A,M=m*E+q*H+t*N;if(!M)return null;M=1/M;f[0]=E*M;f[1]=(-h*q+t*B)*M;f[2]=(y*q-t*v)*M;f[3]=H*M;f[4]=(h*m-t*A)*M;f[5]=(-y*m+t*u)*M;f[6]=N*M;f[7]=(-B*m+q*A)*M;f[8]=(v*m-q*u)*M;return f},$U:function(f,h){var m=h[0],q=h[1],t=h[2],u=h[3],v=h[4],y=h[5],A=h[6],B=h[7];h=h[8];f[0]=v*h-y*B;f[1]=t*B-q*h;f[2]=q*y-t*v;
f[3]=y*A-u*h;f[4]=m*h-t*A;f[5]=t*u-m*y;f[6]=u*B-v*A;f[7]=q*A-m*B;f[8]=m*v-q*u;return f},lO:function(f){var h=f[3],m=f[4],q=f[5],t=f[6],u=f[7],v=f[8];return f[0]*(v*m-q*u)+f[1]*(-v*h+q*t)+f[2]*(u*h-m*t)},multiply:k,translate:function(f,h,m){var q=h[0],t=h[1],u=h[2],v=h[3],y=h[4],A=h[5],B=h[6],E=h[7];h=h[8];var H=m[0];m=m[1];f[0]=q;f[1]=t;f[2]=u;f[3]=v;f[4]=y;f[5]=A;f[6]=H*q+m*v+B;f[7]=H*t+m*y+E;f[8]=H*u+m*A+h;return f},rotate:function(f,h,m){var q=h[0],t=h[1],u=h[2],v=h[3],y=h[4],A=h[5],B=h[6],E=h[7];
h=h[8];var H=Math.sin(m);m=Math.cos(m);f[0]=m*q+H*v;f[1]=m*t+H*y;f[2]=m*u+H*A;f[3]=m*v-H*q;f[4]=m*y-H*t;f[5]=m*A-H*u;f[6]=B;f[7]=E;f[8]=h;return f},scale:function(f,h,m){var q=m[0];m=m[1];f[0]=q*h[0];f[1]=q*h[1];f[2]=q*h[2];f[3]=m*h[3];f[4]=m*h[4];f[5]=m*h[5];f[6]=h[6];f[7]=h[7];f[8]=h[8];return f},qO:function(f,h){f[0]=1;f[1]=0;f[2]=0;f[3]=0;f[4]=1;f[5]=0;f[6]=h[0];f[7]=h[1];f[8]=1;return f},dH:function(f,h){var m=Math.sin(h);h=Math.cos(h);f[0]=h;f[1]=m;f[2]=0;f[3]=-m;f[4]=h;f[5]=0;f[6]=0;f[7]=0;
f[8]=1;return f},pO:function(f,h){f[0]=h[0];f[1]=0;f[2]=0;f[3]=0;f[4]=h[1];f[5]=0;f[6]=0;f[7]=0;f[8]=1;return f},Yga:function(f,h){f[0]=h[0];f[1]=h[1];f[2]=0;f[3]=h[2];f[4]=h[3];f[5]=0;f[6]=h[4];f[7]=h[5];f[8]=1;return f},Z3:function(f,h){var m=h[0],q=h[1],t=h[2];h=h[3];var u=m+m,v=q+q,y=t+t;m*=u;var A=q*u;q*=v;var B=t*u,E=t*v;t*=y;u*=h;v*=h;h*=y;f[0]=1-q-t;f[3]=A-h;f[6]=B+v;f[1]=A+h;f[4]=1-m-t;f[7]=E-u;f[2]=B-v;f[5]=E+u;f[8]=1-m-q;return f},mia:function(f,h){var m=h[0],q=h[1],t=h[2],u=h[3],v=h[4],
y=h[5],A=h[6],B=h[7],E=h[8],H=h[9],N=h[10],M=h[11],W=h[12],X=h[13],R=h[14];h=h[15];var oa=m*y-q*v,ea=m*A-t*v,sa=m*B-u*v,ta=q*A-t*y,pa=q*B-u*y,fb=t*B-u*A,gb=E*X-H*W,hb=E*R-N*W;E=E*h-M*W;var ib=H*R-N*X;H=H*h-M*X;N=N*h-M*R;M=oa*N-ea*H+sa*ib+ta*E-pa*hb+fb*gb;if(!M)return null;M=1/M;f[0]=(y*N-A*H+B*ib)*M;f[1]=(A*E-v*N-B*hb)*M;f[2]=(v*H-y*E+B*gb)*M;f[3]=(t*H-q*N-u*ib)*M;f[4]=(m*N-t*E+u*hb)*M;f[5]=(q*E-m*H-u*gb)*M;f[6]=(X*fb-R*pa+h*ta)*M;f[7]=(R*sa-W*fb-h*ea)*M;f[8]=(W*pa-X*sa+h*oa)*M;return f},PV:function(f,
h,m){f[0]=2/h;f[1]=0;f[2]=0;f[3]=0;f[4]=-2/m;f[5]=0;f[6]=-1;f[7]=1;f[8]=1;return f},Mo:function(f){return"mat3("+f[0]+", "+f[1]+", "+f[2]+", "+f[3]+", "+f[4]+", "+f[5]+", "+f[6]+", "+f[7]+", "+f[8]+")"},oO:function(f){return Math.hypot(f[0],f[1],f[2],f[3],f[4],f[5],f[6],f[7],f[8])},add:function(f,h,m){f[0]=h[0]+m[0];f[1]=h[1]+m[1];f[2]=h[2]+m[2];f[3]=h[3]+m[3];f[4]=h[4]+m[4];f[5]=h[5]+m[5];f[6]=h[6]+m[6];f[7]=h[7]+m[7];f[8]=h[8]+m[8];return f},No:l,HO:function(f,h,m){f[0]=h[0]*m;f[1]=h[1]*m;f[2]=
h[2]*m;f[3]=h[3]*m;f[4]=h[4]*m;f[5]=h[5]*m;f[6]=h[6]*m;f[7]=h[7]*m;f[8]=h[8]*m;return f},IO:function(f,h,m,q){f[0]=h[0]+m[0]*q;f[1]=h[1]+m[1]*q;f[2]=h[2]+m[2]*q;f[3]=h[3]+m[3]*q;f[4]=h[4]+m[4]*q;f[5]=h[5]+m[5]*q;f[6]=h[6]+m[6]*q;f[7]=h[7]+m[7]*q;f[8]=h[8]+m[8]*q;return f},bj:function(f,h){return f[0]===h[0]&&f[1]===h[1]&&f[2]===h[2]&&f[3]===h[3]&&f[4]===h[4]&&f[5]===h[5]&&f[6]===h[6]&&f[7]===h[7]&&f[8]===h[8]},Pd:function(f,h){var m=f[0],q=f[1],t=f[2],u=f[3],v=f[4],y=f[5],A=f[6],B=f[7];f=f[8];var E=
h[0],H=h[1],N=h[2],M=h[3],W=h[4],X=h[5],R=h[6],oa=h[7];h=h[8];return Math.abs(m-E)<=1E-6*Math.max(1,Math.abs(m),Math.abs(E))&&Math.abs(q-H)<=1E-6*Math.max(1,Math.abs(q),Math.abs(H))&&Math.abs(t-N)<=1E-6*Math.max(1,Math.abs(t),Math.abs(N))&&Math.abs(u-M)<=1E-6*Math.max(1,Math.abs(u),Math.abs(M))&&Math.abs(v-W)<=1E-6*Math.max(1,Math.abs(v),Math.abs(W))&&Math.abs(y-X)<=1E-6*Math.max(1,Math.abs(y),Math.abs(X))&&Math.abs(A-R)<=1E-6*Math.max(1,Math.abs(A),Math.abs(R))&&Math.abs(B-oa)<=1E-6*Math.max(1,Math.abs(B),
Math.abs(oa))&&Math.abs(f-h)<=1E-6*Math.max(1,Math.abs(f),Math.abs(h))},Jo:k,sub:l}),DA=Object.freeze({__proto__:null,create:function(){var f=new va(16);va!=Float32Array&&(f[1]=0,f[2]=0,f[3]=0,f[4]=0,f[6]=0,f[7]=0,f[8]=0,f[9]=0,f[11]=0,f[12]=0,f[13]=0,f[14]=0);f[0]=1;f[5]=1;f[10]=1;f[15]=1;return f},clone:function(f){var h=new va(16);h[0]=f[0];h[1]=f[1];h[2]=f[2];h[3]=f[3];h[4]=f[4];h[5]=f[5];h[6]=f[6];h[7]=f[7];h[8]=f[8];h[9]=f[9];h[10]=f[10];h[11]=f[11];h[12]=f[12];h[13]=f[13];h[14]=f[14];h[15]=
f[15];return h},Ja:function(f,h){f[0]=h[0];f[1]=h[1];f[2]=h[2];f[3]=h[3];f[4]=h[4];f[5]=h[5];f[6]=h[6];f[7]=h[7];f[8]=h[8];f[9]=h[9];f[10]=h[10];f[11]=h[11];f[12]=h[12];f[13]=h[13];f[14]=h[14];f[15]=h[15];return f},Jg:function(f,h,m,q,t,u,v,y,A,B,E,H,N,M,W,X){var R=new va(16);R[0]=f;R[1]=h;R[2]=m;R[3]=q;R[4]=t;R[5]=u;R[6]=v;R[7]=y;R[8]=A;R[9]=B;R[10]=E;R[11]=H;R[12]=N;R[13]=M;R[14]=W;R[15]=X;return R},set:function(f,h,m,q,t,u,v,y,A,B,E,H,N,M,W,X,R){f[0]=h;f[1]=m;f[2]=q;f[3]=t;f[4]=u;f[5]=v;f[6]=y;
f[7]=A;f[8]=B;f[9]=E;f[10]=H;f[11]=N;f[12]=M;f[13]=W;f[14]=X;f[15]=R;return f},zB:n,hW:function(f,h){if(f===h){var m=h[1],q=h[2],t=h[3],u=h[6],v=h[7],y=h[11];f[1]=h[4];f[2]=h[8];f[3]=h[12];f[4]=m;f[6]=h[9];f[7]=h[13];f[8]=q;f[9]=u;f[11]=h[14];f[12]=t;f[13]=v;f[14]=y}else f[0]=h[0],f[1]=h[4],f[2]=h[8],f[3]=h[12],f[4]=h[1],f[5]=h[5],f[6]=h[9],f[7]=h[13],f[8]=h[2],f[9]=h[6],f[10]=h[10],f[11]=h[14],f[12]=h[3],f[13]=h[7],f[14]=h[11],f[15]=h[15];return f},$w:function(f,h){var m=h[0],q=h[1],t=h[2],u=h[3],
v=h[4],y=h[5],A=h[6],B=h[7],E=h[8],H=h[9],N=h[10],M=h[11],W=h[12],X=h[13],R=h[14];h=h[15];var oa=m*y-q*v,ea=m*A-t*v,sa=m*B-u*v,ta=q*A-t*y,pa=q*B-u*y,fb=t*B-u*A,gb=E*X-H*W,hb=E*R-N*W,ib=E*h-M*W,Ub=H*R-N*X,Lc=H*h-M*X,Mc=N*h-M*R,jb=oa*Mc-ea*Lc+sa*Ub+ta*ib-pa*hb+fb*gb;if(!jb)return null;jb=1/jb;f[0]=(y*Mc-A*Lc+B*Ub)*jb;f[1]=(t*Lc-q*Mc-u*Ub)*jb;f[2]=(X*fb-R*pa+h*ta)*jb;f[3]=(N*pa-H*fb-M*ta)*jb;f[4]=(A*ib-v*Mc-B*hb)*jb;f[5]=(m*Mc-t*ib+u*hb)*jb;f[6]=(R*sa-W*fb-h*ea)*jb;f[7]=(E*fb-N*sa+M*ea)*jb;f[8]=(v*Lc-
y*ib+B*gb)*jb;f[9]=(q*ib-m*Lc-u*gb)*jb;f[10]=(W*pa-X*sa+h*oa)*jb;f[11]=(H*sa-E*pa-M*oa)*jb;f[12]=(y*hb-v*Ub-A*gb)*jb;f[13]=(m*Ub-q*hb+t*gb)*jb;f[14]=(X*ea-W*ta-R*oa)*jb;f[15]=(E*ta-H*ea+N*oa)*jb;return f},$U:function(f,h){var m=h[0],q=h[1],t=h[2],u=h[3],v=h[4],y=h[5],A=h[6],B=h[7],E=h[8],H=h[9],N=h[10],M=h[11],W=h[12],X=h[13],R=h[14];h=h[15];var oa=m*y-q*v,ea=m*A-t*v,sa=m*B-u*v,ta=q*A-t*y,pa=q*B-u*y,fb=t*B-u*A,gb=E*X-H*W,hb=E*R-N*W,ib=E*h-M*W,Ub=H*R-N*X,Lc=H*h-M*X,Mc=N*h-M*R;f[0]=y*Mc-A*Lc+B*Ub;f[1]=
t*Lc-q*Mc-u*Ub;f[2]=X*fb-R*pa+h*ta;f[3]=N*pa-H*fb-M*ta;f[4]=A*ib-v*Mc-B*hb;f[5]=m*Mc-t*ib+u*hb;f[6]=R*sa-W*fb-h*ea;f[7]=E*fb-N*sa+M*ea;f[8]=v*Lc-y*ib+B*gb;f[9]=q*ib-m*Lc-u*gb;f[10]=W*pa-X*sa+h*oa;f[11]=H*sa-E*pa-M*oa;f[12]=y*hb-v*Ub-A*gb;f[13]=m*Ub-q*hb+t*gb;f[14]=X*ea-W*ta-R*oa;f[15]=E*ta-H*ea+N*oa;return f},lO:function(f){var h=f[0],m=f[1],q=f[2],t=f[4],u=f[5],v=f[6],y=f[8],A=f[9],B=f[10],E=f[12],H=f[13],N=f[14],M=h*u-m*t,W=h*v-q*t,X=m*v-q*u,R=y*H-A*E,oa=y*N-B*E,ea=A*N-B*H;return f[7]*(h*ea-m*oa+
q*R)-f[3]*(t*ea-u*oa+v*R)+f[15]*(y*X-A*W+B*M)-f[11]*(E*X-H*W+N*M)},multiply:p,translate:function(f,h,m){var q=m[0],t=m[1];m=m[2];if(h===f)f[12]=h[0]*q+h[4]*t+h[8]*m+h[12],f[13]=h[1]*q+h[5]*t+h[9]*m+h[13],f[14]=h[2]*q+h[6]*t+h[10]*m+h[14],f[15]=h[3]*q+h[7]*t+h[11]*m+h[15];else{var u=h[0];var v=h[1];var y=h[2];var A=h[3];var B=h[4];var E=h[5];var H=h[6];var N=h[7];var M=h[8];var W=h[9];var X=h[10];var R=h[11];f[0]=u;f[1]=v;f[2]=y;f[3]=A;f[4]=B;f[5]=E;f[6]=H;f[7]=N;f[8]=M;f[9]=W;f[10]=X;f[11]=R;f[12]=
u*q+B*t+M*m+h[12];f[13]=v*q+E*t+W*m+h[13];f[14]=y*q+H*t+X*m+h[14];f[15]=A*q+N*t+R*m+h[15]}return f},scale:function(f,h,m){var q=m[0],t=m[1];m=m[2];f[0]=h[0]*q;f[1]=h[1]*q;f[2]=h[2]*q;f[3]=h[3]*q;f[4]=h[4]*t;f[5]=h[5]*t;f[6]=h[6]*t;f[7]=h[7]*t;f[8]=h[8]*m;f[9]=h[9]*m;f[10]=h[10]*m;f[11]=h[11]*m;f[12]=h[12];f[13]=h[13];f[14]=h[14];f[15]=h[15];return f},rotate:function(f,h,m,q){var t=q[0],u=q[1];q=q[2];var v=Math.hypot(t,u,q);if(1E-6>v)return null;v=1/v;t*=v;u*=v;q*=v;var y=Math.sin(m);var A=Math.cos(m);
var B=1-A;m=h[0];v=h[1];var E=h[2];var H=h[3];var N=h[4];var M=h[5];var W=h[6];var X=h[7];var R=h[8];var oa=h[9];var ea=h[10];var sa=h[11];var ta=t*t*B+A;var pa=u*t*B+q*y;var fb=q*t*B-u*y;var gb=t*u*B-q*y;var hb=u*u*B+A;var ib=q*u*B+t*y;var Ub=t*q*B+u*y;t=u*q*B-t*y;u=q*q*B+A;f[0]=m*ta+N*pa+R*fb;f[1]=v*ta+M*pa+oa*fb;f[2]=E*ta+W*pa+ea*fb;f[3]=H*ta+X*pa+sa*fb;f[4]=m*gb+N*hb+R*ib;f[5]=v*gb+M*hb+oa*ib;f[6]=E*gb+W*hb+ea*ib;f[7]=H*gb+X*hb+sa*ib;f[8]=m*Ub+N*t+R*u;f[9]=v*Ub+M*t+oa*u;f[10]=E*Ub+W*t+ea*u;f[11]=
H*Ub+X*t+sa*u;h!==f&&(f[12]=h[12],f[13]=h[13],f[14]=h[14],f[15]=h[15]);return f},YO:function(f,h,m){var q=Math.sin(m);m=Math.cos(m);var t=h[4],u=h[5],v=h[6],y=h[7],A=h[8],B=h[9],E=h[10],H=h[11];h!==f&&(f[0]=h[0],f[1]=h[1],f[2]=h[2],f[3]=h[3],f[12]=h[12],f[13]=h[13],f[14]=h[14],f[15]=h[15]);f[4]=t*m+A*q;f[5]=u*m+B*q;f[6]=v*m+E*q;f[7]=y*m+H*q;f[8]=A*m-t*q;f[9]=B*m-u*q;f[10]=E*m-v*q;f[11]=H*m-y*q;return f},ZO:function(f,h,m){var q=Math.sin(m);m=Math.cos(m);var t=h[0],u=h[1],v=h[2],y=h[3],A=h[8],B=h[9],
E=h[10],H=h[11];h!==f&&(f[4]=h[4],f[5]=h[5],f[6]=h[6],f[7]=h[7],f[12]=h[12],f[13]=h[13],f[14]=h[14],f[15]=h[15]);f[0]=t*m-A*q;f[1]=u*m-B*q;f[2]=v*m-E*q;f[3]=y*m-H*q;f[8]=t*q+A*m;f[9]=u*q+B*m;f[10]=v*q+E*m;f[11]=y*q+H*m;return f},$O:function(f,h,m){var q=Math.sin(m);m=Math.cos(m);var t=h[0],u=h[1],v=h[2],y=h[3],A=h[4],B=h[5],E=h[6],H=h[7];h!==f&&(f[8]=h[8],f[9]=h[9],f[10]=h[10],f[11]=h[11],f[12]=h[12],f[13]=h[13],f[14]=h[14],f[15]=h[15]);f[0]=t*m+A*q;f[1]=u*m+B*q;f[2]=v*m+E*q;f[3]=y*m+H*q;f[4]=A*m-
t*q;f[5]=B*m-u*q;f[6]=E*m-v*q;f[7]=H*m-y*q;return f},qO:function(f,h){f[0]=1;f[1]=0;f[2]=0;f[3]=0;f[4]=0;f[5]=1;f[6]=0;f[7]=0;f[8]=0;f[9]=0;f[10]=1;f[11]=0;f[12]=h[0];f[13]=h[1];f[14]=h[2];f[15]=1;return f},pO:function(f,h){f[0]=h[0];f[1]=0;f[2]=0;f[3]=0;f[4]=0;f[5]=h[1];f[6]=0;f[7]=0;f[8]=0;f[9]=0;f[10]=h[2];f[11]=0;f[12]=0;f[13]=0;f[14]=0;f[15]=1;return f},dH:function(f,h,m){var q=m[0],t=m[1];m=m[2];var u=Math.hypot(q,t,m);if(1E-6>u)return null;u=1/u;q*=u;t*=u;m*=u;u=Math.sin(h);h=Math.cos(h);var v=
1-h;f[0]=q*q*v+h;f[1]=t*q*v+m*u;f[2]=m*q*v-t*u;f[3]=0;f[4]=q*t*v-m*u;f[5]=t*t*v+h;f[6]=m*t*v+q*u;f[7]=0;f[8]=q*m*v+t*u;f[9]=t*m*v-q*u;f[10]=m*m*v+h;f[11]=0;f[12]=0;f[13]=0;f[14]=0;f[15]=1;return f},dha:function(f,h){var m=Math.sin(h);h=Math.cos(h);f[0]=1;f[1]=0;f[2]=0;f[3]=0;f[4]=0;f[5]=h;f[6]=m;f[7]=0;f[8]=0;f[9]=-m;f[10]=h;f[11]=0;f[12]=0;f[13]=0;f[14]=0;f[15]=1;return f},eha:function(f,h){var m=Math.sin(h);h=Math.cos(h);f[0]=h;f[1]=0;f[2]=-m;f[3]=0;f[4]=0;f[5]=1;f[6]=0;f[7]=0;f[8]=m;f[9]=0;f[10]=
h;f[11]=0;f[12]=0;f[13]=0;f[14]=0;f[15]=1;return f},fha:function(f,h){var m=Math.sin(h);h=Math.cos(h);f[0]=h;f[1]=m;f[2]=0;f[3]=0;f[4]=-m;f[5]=h;f[6]=0;f[7]=0;f[8]=0;f[9]=0;f[10]=1;f[11]=0;f[12]=0;f[13]=0;f[14]=0;f[15]=1;return f},a4:r,$ga:function(f,h){var m=new va(3),q=-h[0],t=-h[1],u=-h[2],v=h[3],y=h[4],A=h[5],B=h[6],E=h[7],H=q*q+t*t+u*u+v*v;0<H?(m[0]=2*(y*v+E*q+A*u-B*t)/H,m[1]=2*(A*v+E*t+B*q-y*u)/H,m[2]=2*(B*v+E*u+y*t-A*q)/H):(m[0]=2*(y*v+E*q+A*u-B*t),m[1]=2*(A*v+E*t+B*q-y*u),m[2]=2*(B*v+E*u+
y*t-A*q));r(f,h,m);return f},d4:w,qha:x,pha:z,Hga:function(f,h,m,q){h[0]=q[12];h[1]=q[13];h[2]=q[14];var t=q[0],u=q[1],v=q[2],y=q[4],A=q[5],B=q[6],E=q[8];h=q[9];q=q[10];m[0]=Math.hypot(t,u,v);m[1]=Math.hypot(y,A,B);m[2]=Math.hypot(E,h,q);var H=1/m[0],N=1/m[1],M=1/m[2];m=t*H;u*=N;v*=M;y*=H;A*=N;B*=M;E*=H;h*=N;q*=M;N=m+A+q;0<N?(q=2*Math.sqrt(N+1),f[3]=.25*q,f[0]=(B-h)/q,f[1]=(E-v)/q,f[2]=(u-y)/q):m>A&&m>q?(q=2*Math.sqrt(1+m-A-q),f[3]=(B-h)/q,f[0]=.25*q,f[1]=(u+y)/q,f[2]=(E+v)/q):A>q?(q=2*Math.sqrt(1+
A-m-q),f[3]=(E-v)/q,f[0]=(u+y)/q,f[1]=.25*q,f[2]=(B+h)/q):(q=2*Math.sqrt(1+q-m-A),f[3]=(u-y)/q,f[0]=(E+v)/q,f[1]=(B+h)/q,f[2]=.25*q);return f},aha:function(f,h,m,q){var t=h[0],u=h[1],v=h[2],y=h[3],A=t+t,B=u+u,E=v+v;h=t*A;var H=t*B;t*=E;var N=u*B;u*=E;v*=E;A*=y;B*=y;y*=E;E=q[0];var M=q[1];q=q[2];f[0]=(1-(N+v))*E;f[1]=(H+y)*E;f[2]=(t-B)*E;f[3]=0;f[4]=(H-y)*M;f[5]=(1-(h+v))*M;f[6]=(u+A)*M;f[7]=0;f[8]=(t+B)*q;f[9]=(u-A)*q;f[10]=(1-(h+N))*q;f[11]=0;f[12]=m[0];f[13]=m[1];f[14]=m[2];f[15]=1;return f},bha:function(f,
h,m,q,t){var u=h[0],v=h[1],y=h[2],A=h[3],B=u+u,E=v+v,H=y+y;h=u*B;var N=u*E,M=u*H;u=v*E;v*=H;var W=y*H;y=A*B;E*=A;var X=A*H,R=q[0],oa=q[1];H=q[2];q=t[0];A=t[1];t=t[2];B=(1-(u+W))*R;var ea=(N+X)*R;R*=M-E;N=(N-X)*oa;W=(1-(h+W))*oa;oa*=v+y;M=(M+E)*H;v=(v-y)*H;h=(1-(h+u))*H;f[0]=B;f[1]=ea;f[2]=R;f[3]=0;f[4]=N;f[5]=W;f[6]=oa;f[7]=0;f[8]=M;f[9]=v;f[10]=h;f[11]=0;f[12]=m[0]+q-(B*q+N*A+M*t);f[13]=m[1]+A-(ea*q+W*A+v*t);f[14]=m[2]+t-(R*q+oa*A+h*t);f[15]=1;return f},Z3:function(f,h){var m=h[0],q=h[1],t=h[2];
h=h[3];var u=m+m,v=q+q,y=t+t;m*=u;var A=q*u;q*=v;var B=t*u,E=t*v;t*=y;u*=h;v*=h;h*=y;f[0]=1-q-t;f[1]=A+h;f[2]=B-v;f[3]=0;f[4]=A-h;f[5]=1-m-t;f[6]=E+u;f[7]=0;f[8]=B+v;f[9]=E-u;f[10]=1-m-q;f[11]=0;f[12]=0;f[13]=0;f[14]=0;f[15]=1;return f},b4:function(f,h,m,q,t,u,v){var y=1/(m-h),A=1/(t-q),B=1/(u-v);f[0]=2*u*y;f[1]=0;f[2]=0;f[3]=0;f[4]=0;f[5]=2*u*A;f[6]=0;f[7]=0;f[8]=(m+h)*y;f[9]=(t+q)*A;f[10]=(v+u)*B;f[11]=-1;f[12]=0;f[13]=0;f[14]=v*u*2*B;f[15]=0;return f},via:F,perspective:F,M4:function(f,h,m,q,t){h=
1/Math.tan(h/2);f[0]=h/m;f[1]=0;f[2]=0;f[3]=0;f[4]=0;f[5]=h;f[6]=0;f[7]=0;f[8]=0;f[9]=0;f[11]=-1;f[12]=0;f[13]=0;f[15]=0;null!=t&&Infinity!==t?(m=1/(q-t),f[10]=t*m,f[14]=t*q*m):(f[10]=-1,f[14]=-q);return f},uia:function(f,h,m,q){var t=Math.tan(h.Kja*Math.PI/180),u=Math.tan(h.Nga*Math.PI/180),v=Math.tan(h.bia*Math.PI/180);h=Math.tan(h.Wia*Math.PI/180);var y=2/(v+h),A=2/(t+u);f[0]=y;f[1]=0;f[2]=0;f[3]=0;f[4]=0;f[5]=A;f[6]=0;f[7]=0;f[8]=-((v-h)*y*.5);f[9]=(t-u)*A*.5;f[10]=q/(m-q);f[11]=-1;f[12]=0;f[13]=
0;f[14]=q*m/(m-q);f[15]=0;return f},tia:C,K4:C,L4:function(f,h,m,q,t,u,v){var y=1/(h-m),A=1/(q-t);v=1/(u-v);f[0]=-2*y;f[1]=0;f[2]=0;f[3]=0;f[4]=0;f[5]=-2*A;f[6]=0;f[7]=0;f[8]=0;f[9]=0;f[10]=v;f[11]=0;f[12]=(h+m)*y;f[13]=(t+q)*A;f[14]=u*v;f[15]=1;return f},A4:function(f,h,m,q){var t=h[0],u=h[1];h=h[2];var v=q[0];var y=q[1];var A=q[2];var B=m[0];q=m[1];var E=m[2];if(1E-6>Math.abs(t-B)&&1E-6>Math.abs(u-q)&&1E-6>Math.abs(h-E))return n(f);m=t-B;q=u-q;B=h-E;var H=1/Math.hypot(m,q,B);m*=H;q*=H;B*=H;E=y*
B-A*q;A=A*m-v*B;v=v*q-y*m;(H=Math.hypot(E,A,v))?(H=1/H,E*=H,A*=H,v*=H):v=A=E=0;y=q*v-B*A;var N=B*E-m*v;var M=m*A-q*E;(H=Math.hypot(y,N,M))?(H=1/H,y*=H,N*=H,M*=H):M=N=y=0;f[0]=E;f[1]=y;f[2]=m;f[3]=0;f[4]=A;f[5]=N;f[6]=q;f[7]=0;f[8]=v;f[9]=M;f[10]=B;f[11]=0;f[12]=-(E*t+A*u+v*h);f[13]=-(y*t+N*u+M*h);f[14]=-(m*t+q*u+B*h);f[15]=1;return f},yja:function(f,h,m,q){var t=h[0],u=h[1];h=h[2];var v=q[0],y=q[1],A=q[2];q=t-m[0];var B=u-m[1];m=h-m[2];var E=q*q+B*B+m*m;0<E&&(E=1/Math.sqrt(E),q*=E,B*=E,m*=E);var H=
y*m-A*B;A=A*q-v*m;v=v*B-y*q;E=H*H+A*A+v*v;0<E&&(E=1/Math.sqrt(E),H*=E,A*=E,v*=E);f[0]=H;f[1]=A;f[2]=v;f[3]=0;f[4]=B*v-m*A;f[5]=m*H-q*v;f[6]=q*A-B*H;f[7]=0;f[8]=q;f[9]=B;f[10]=m;f[11]=0;f[12]=t;f[13]=u;f[14]=h;f[15]=1;return f},Mo:function(f){return"mat4("+f[0]+", "+f[1]+", "+f[2]+", "+f[3]+", "+f[4]+", "+f[5]+", "+f[6]+", "+f[7]+", "+f[8]+", "+f[9]+", "+f[10]+", "+f[11]+", "+f[12]+", "+f[13]+", "+f[14]+", "+f[15]+")"},oO:function(f){return Math.hypot(f[0],f[1],f[2],f[3],f[4],f[5],f[6],f[7],f[8],f[9],
f[10],f[11],f[12],f[13],f[14],f[15])},add:function(f,h,m){f[0]=h[0]+m[0];f[1]=h[1]+m[1];f[2]=h[2]+m[2];f[3]=h[3]+m[3];f[4]=h[4]+m[4];f[5]=h[5]+m[5];f[6]=h[6]+m[6];f[7]=h[7]+m[7];f[8]=h[8]+m[8];f[9]=h[9]+m[9];f[10]=h[10]+m[10];f[11]=h[11]+m[11];f[12]=h[12]+m[12];f[13]=h[13]+m[13];f[14]=h[14]+m[14];f[15]=h[15]+m[15];return f},No:G,HO:function(f,h,m){f[0]=h[0]*m;f[1]=h[1]*m;f[2]=h[2]*m;f[3]=h[3]*m;f[4]=h[4]*m;f[5]=h[5]*m;f[6]=h[6]*m;f[7]=h[7]*m;f[8]=h[8]*m;f[9]=h[9]*m;f[10]=h[10]*m;f[11]=h[11]*m;f[12]=
h[12]*m;f[13]=h[13]*m;f[14]=h[14]*m;f[15]=h[15]*m;return f},IO:function(f,h,m,q){f[0]=h[0]+m[0]*q;f[1]=h[1]+m[1]*q;f[2]=h[2]+m[2]*q;f[3]=h[3]+m[3]*q;f[4]=h[4]+m[4]*q;f[5]=h[5]+m[5]*q;f[6]=h[6]+m[6]*q;f[7]=h[7]+m[7]*q;f[8]=h[8]+m[8]*q;f[9]=h[9]+m[9]*q;f[10]=h[10]+m[10]*q;f[11]=h[11]+m[11]*q;f[12]=h[12]+m[12]*q;f[13]=h[13]+m[13]*q;f[14]=h[14]+m[14]*q;f[15]=h[15]+m[15]*q;return f},bj:function(f,h){return f[0]===h[0]&&f[1]===h[1]&&f[2]===h[2]&&f[3]===h[3]&&f[4]===h[4]&&f[5]===h[5]&&f[6]===h[6]&&f[7]===
h[7]&&f[8]===h[8]&&f[9]===h[9]&&f[10]===h[10]&&f[11]===h[11]&&f[12]===h[12]&&f[13]===h[13]&&f[14]===h[14]&&f[15]===h[15]},Pd:function(f,h){var m=f[0],q=f[1],t=f[2],u=f[3],v=f[4],y=f[5],A=f[6],B=f[7],E=f[8],H=f[9],N=f[10],M=f[11],W=f[12],X=f[13],R=f[14];f=f[15];var oa=h[0],ea=h[1],sa=h[2],ta=h[3],pa=h[4],fb=h[5],gb=h[6],hb=h[7],ib=h[8],Ub=h[9],Lc=h[10],Mc=h[11],jb=h[12],Rr=h[13],Sr=h[14];h=h[15];return Math.abs(m-oa)<=1E-6*Math.max(1,Math.abs(m),Math.abs(oa))&&Math.abs(q-ea)<=1E-6*Math.max(1,Math.abs(q),
Math.abs(ea))&&Math.abs(t-sa)<=1E-6*Math.max(1,Math.abs(t),Math.abs(sa))&&Math.abs(u-ta)<=1E-6*Math.max(1,Math.abs(u),Math.abs(ta))&&Math.abs(v-pa)<=1E-6*Math.max(1,Math.abs(v),Math.abs(pa))&&Math.abs(y-fb)<=1E-6*Math.max(1,Math.abs(y),Math.abs(fb))&&Math.abs(A-gb)<=1E-6*Math.max(1,Math.abs(A),Math.abs(gb))&&Math.abs(B-hb)<=1E-6*Math.max(1,Math.abs(B),Math.abs(hb))&&Math.abs(E-ib)<=1E-6*Math.max(1,Math.abs(E),Math.abs(ib))&&Math.abs(H-Ub)<=1E-6*Math.max(1,Math.abs(H),Math.abs(Ub))&&Math.abs(N-Lc)<=
1E-6*Math.max(1,Math.abs(N),Math.abs(Lc))&&Math.abs(M-Mc)<=1E-6*Math.max(1,Math.abs(M),Math.abs(Mc))&&Math.abs(W-jb)<=1E-6*Math.max(1,Math.abs(W),Math.abs(jb))&&Math.abs(X-Rr)<=1E-6*Math.max(1,Math.abs(X),Math.abs(Rr))&&Math.abs(R-Sr)<=1E-6*Math.max(1,Math.abs(R),Math.abs(Sr))&&Math.abs(f-h)<=1E-6*Math.max(1,Math.abs(f),Math.abs(h))},Jo:p,sub:G}),nn=function(){var f=J();return function(h,m,q,t,u,v){m||(m=3);q||(q=0);for(t=t?Math.min(t*m+q,h.length):h.length;q<t;q+=m)f[0]=h[q],f[1]=h[q+1],f[2]=h[q+
2],u(f,f,v),h[q]=f[0],h[q+1]=f[1],h[q+2]=f[2];return h}}();nn=Object.freeze({__proto__:null,create:J,clone:function(f){var h=new va(3);h[0]=f[0];h[1]=f[1];h[2]=f[2];return h},length:K,Jg:O,Ja:function(f,h){f[0]=h[0];f[1]=h[1];f[2]=h[2];return f},set:function(f,h,m,q){f[0]=h;f[1]=m;f[2]=q;return f},add:function(f,h,m){f[0]=h[0]+m[0];f[1]=h[1]+m[1];f[2]=h[2]+m[2];return f},No:na,multiply:ka,Go:Ja,ceil:function(f,h){f[0]=Math.ceil(h[0]);f[1]=Math.ceil(h[1]);f[2]=Math.ceil(h[2]);return f},floor:function(f,
h){f[0]=Math.floor(h[0]);f[1]=Math.floor(h[1]);f[2]=Math.floor(h[2]);return f},min:function(f,h,m){f[0]=Math.min(h[0],m[0]);f[1]=Math.min(h[1],m[1]);f[2]=Math.min(h[2],m[2]);return f},max:function(f,h,m){f[0]=Math.max(h[0],m[0]);f[1]=Math.max(h[1],m[1]);f[2]=Math.max(h[2],m[2]);return f},round:function(f,h){f[0]=Math.round(h[0]);f[1]=Math.round(h[1]);f[2]=Math.round(h[2]);return f},scale:function(f,h,m){f[0]=h[0]*m;f[1]=h[1]*m;f[2]=h[2]*m;return f},aP:function(f,h,m,q){f[0]=h[0]+m[0]*q;f[1]=h[1]+
m[1]*q;f[2]=h[2]+m[2]*q;return f},bi:$b,WV:id,qH:Gb,MV:function(f,h){f[0]=-h[0];f[1]=-h[1];f[2]=-h[2];return f},inverse:function(f,h){f[0]=1/h[0];f[1]=1/h[1];f[2]=1/h[2];return f},normalize:vc,Ho:Sd,kO:Td,Ef:function(f,h,m,q){var t=h[0],u=h[1];h=h[2];f[0]=t+q*(m[0]-t);f[1]=u+q*(m[1]-u);f[2]=h+q*(m[2]-h);return f},V4:function(f,h,m,q){var t=Math.acos(Math.min(Math.max(Sd(h,m),-1),1)),u=Math.sin(t),v=Math.sin((1-q)*t)/u;q=Math.sin(q*t)/u;f[0]=v*h[0]+q*m[0];f[1]=v*h[1]+q*m[1];f[2]=v*h[2]+q*m[2];return f},
uha:function(f,h,m,q,t,u){var v=u*u,y=v*(2*u-3)+1,A=v*(u-2)+u,B=v*(u-1);u=v*(3-2*u);f[0]=h[0]*y+m[0]*A+q[0]*B+t[0]*u;f[1]=h[1]*y+m[1]*A+q[1]*B+t[1]*u;f[2]=h[2]*y+m[2]*A+q[2]*B+t[2]*u;return f},oga:function(f,h,m,q,t,u){var v=1-u,y=v*v,A=u*u,B=y*v;y*=3*u;v*=3*A;u*=A;f[0]=h[0]*B+m[0]*y+q[0]*v+t[0]*u;f[1]=h[1]*B+m[1]*y+q[1]*v+t[1]*u;f[2]=h[2]*B+m[2]*y+q[2]*v+t[2]*u;return f},random:function(f,h){h=h||1;var m=2*Cd()*Math.PI,q=2*Cd()-1,t=Math.sqrt(1-q*q)*h;f[0]=Math.cos(m)*t;f[1]=Math.sin(m)*t;f[2]=q*
h;return f},iP:function(f,h,m){var q=h[0],t=h[1];h=h[2];var u=m[3]*q+m[7]*t+m[11]*h+m[15];u=u||1;f[0]=(m[0]*q+m[4]*t+m[8]*h+m[12])/u;f[1]=(m[1]*q+m[5]*t+m[9]*h+m[13])/u;f[2]=(m[2]*q+m[6]*t+m[10]*h+m[14])/u;return f},f5:function(f,h,m){var q=h[0],t=h[1];h=h[2];f[0]=q*m[0]+t*m[3]+h*m[6];f[1]=q*m[1]+t*m[4]+h*m[7];f[2]=q*m[2]+t*m[5]+h*m[8];return f},g5:function(f,h,m){var q=m[0],t=m[1],u=m[2],v=h[0],y=h[1];h=h[2];var A=t*h-u*y,B=u*v-q*h,E=q*y-t*v;m=2*m[3];f[0]=v+A*m+2*(t*E-u*B);f[1]=y+B*m+2*(u*A-q*E);
f[2]=h+E*m+2*(q*B-t*A);return f},YO:function(f,h,m,q){var t=[],u=[];t[0]=h[0]-m[0];t[1]=h[1]-m[1];t[2]=h[2]-m[2];u[0]=t[0];u[1]=t[1]*Math.cos(q)-t[2]*Math.sin(q);u[2]=t[1]*Math.sin(q)+t[2]*Math.cos(q);f[0]=u[0]+m[0];f[1]=u[1]+m[1];f[2]=u[2]+m[2];return f},ZO:function(f,h,m,q){var t=[],u=[];t[0]=h[0]-m[0];t[1]=h[1]-m[1];t[2]=h[2]-m[2];u[0]=t[2]*Math.sin(q)+t[0]*Math.cos(q);u[1]=t[1];u[2]=t[2]*Math.cos(q)-t[0]*Math.sin(q);f[0]=u[0]+m[0];f[1]=u[1]+m[1];f[2]=u[2]+m[2];return f},$O:function(f,h,m,q){var t=
[],u=[];t[0]=h[0]-m[0];t[1]=h[1]-m[1];t[2]=h[2]-m[2];u[0]=t[0]*Math.cos(q)-t[1]*Math.sin(q);u[1]=t[0]*Math.sin(q)+t[1]*Math.cos(q);u[2]=t[2];f[0]=u[0]+m[0];f[1]=u[1]+m[1];f[2]=u[2]+m[2];return f},angle:function(f,h){var m=f[0],q=f[1],t=f[2],u=h[0],v=h[1],y=h[2];f=(m=Math.sqrt((m*m+q*q+t*t)*(u*u+v*v+y*y)))&&Sd(f,h)/m;return Math.acos(Math.min(Math.max(f,-1),1))},tW:function(f){f[0]=0;f[1]=0;f[2]=0;return f},Mo:function(f){return"vec3("+f[0]+", "+f[1]+", "+f[2]+")"},bj:function(f,h){return f[0]===h[0]&&
f[1]===h[1]&&f[2]===h[2]},Pd:function(f,h){var m=f[0],q=f[1];f=f[2];var t=h[0],u=h[1];h=h[2];return Math.abs(m-t)<=1E-6*Math.max(1,Math.abs(m),Math.abs(t))&&Math.abs(q-u)<=1E-6*Math.max(1,Math.abs(q),Math.abs(u))&&Math.abs(f-h)<=1E-6*Math.max(1,Math.abs(f),Math.abs(h))},sub:na,Jo:ka,oV:Ja,nV:$b,VV:id,HB:K,pH:Gb,forEach:nn});var pn=function(){var f=qe();return function(h,m,q,t,u,v){m||(m=4);q||(q=0);for(t=t?Math.min(t*m+q,h.length):h.length;q<t;q+=m)f[0]=h[q],f[1]=h[q+1],f[2]=h[q+2],f[3]=h[q+3],u(f,
f,v),h[q]=f[0],h[q+1]=f[1],h[q+2]=f[2],h[q+3]=f[3];return h}}();pn=Object.freeze({__proto__:null,create:qe,clone:Ud,Jg:Ad,Ja:Jc,set:Ze,add:pb,No:bb,multiply:Kc,Go:Hb,ceil:function(f,h){f[0]=Math.ceil(h[0]);f[1]=Math.ceil(h[1]);f[2]=Math.ceil(h[2]);f[3]=Math.ceil(h[3]);return f},floor:function(f,h){f[0]=Math.floor(h[0]);f[1]=Math.floor(h[1]);f[2]=Math.floor(h[2]);f[3]=Math.floor(h[3]);return f},min:function(f,h,m){f[0]=Math.min(h[0],m[0]);f[1]=Math.min(h[1],m[1]);f[2]=Math.min(h[2],m[2]);f[3]=Math.min(h[3],
m[3]);return f},max:function(f,h,m){f[0]=Math.max(h[0],m[0]);f[1]=Math.max(h[1],m[1]);f[2]=Math.max(h[2],m[2]);f[3]=Math.max(h[3],m[3]);return f},round:function(f,h){f[0]=Math.round(h[0]);f[1]=Math.round(h[1]);f[2]=Math.round(h[2]);f[3]=Math.round(h[3]);return f},scale:jc,aP:function(f,h,m,q){f[0]=h[0]+m[0]*q;f[1]=h[1]+m[1]*q;f[2]=h[2]+m[2]*q;f[3]=h[3]+m[3]*q;return f},bi:$e,WV:gi,length:re,qH:ua,MV:function(f,h){f[0]=-h[0];f[1]=-h[1];f[2]=-h[2];f[3]=-h[3];return f},inverse:function(f,h){f[0]=1/h[0];
f[1]=1/h[1];f[2]=1/h[2];f[3]=1/h[3];return f},normalize:fa,Ho:Ka,kO:function(f,h,m,q){var t=m[0]*q[1]-m[1]*q[0],u=m[0]*q[2]-m[2]*q[0],v=m[0]*q[3]-m[3]*q[0],y=m[1]*q[2]-m[2]*q[1],A=m[1]*q[3]-m[3]*q[1];m=m[2]*q[3]-m[3]*q[2];q=h[0];var B=h[1],E=h[2];h=h[3];f[0]=B*m-E*A+h*y;f[1]=-(q*m)+E*v-h*u;f[2]=q*A-B*v+h*t;f[3]=-(q*y)+B*u-E*t;return f},Ef:Ab,random:function(f,h){h=h||1;do{var m=2*Cd()-1;var q=2*Cd()-1;var t=m*m+q*q}while(1<=t);do{var u=2*Cd()-1;var v=2*Cd()-1;var y=u*u+v*v}while(1<=y);t=Math.sqrt((1-
t)/y);f[0]=h*m;f[1]=h*q;f[2]=h*u*t;f[3]=h*v*t;return f},iP:function(f,h,m){var q=h[0],t=h[1],u=h[2];h=h[3];f[0]=m[0]*q+m[4]*t+m[8]*u+m[12]*h;f[1]=m[1]*q+m[5]*t+m[9]*u+m[13]*h;f[2]=m[2]*q+m[6]*t+m[10]*u+m[14]*h;f[3]=m[3]*q+m[7]*t+m[11]*u+m[15]*h;return f},g5:function(f,h,m){var q=h[0],t=h[1],u=h[2],v=m[0],y=m[1],A=m[2];m=m[3];var B=m*q+y*u-A*t,E=m*t+A*q-v*u,H=m*u+v*t-y*q;q=-v*q-y*t-A*u;f[0]=B*m+q*-v+E*-A-H*-y;f[1]=E*m+q*-y+H*-v-B*-A;f[2]=H*m+q*-A+B*-y-E*-v;f[3]=h[3];return f},tW:function(f){f[0]=0;
f[1]=0;f[2]=0;f[3]=0;return f},Mo:function(f){return"vec4("+f[0]+", "+f[1]+", "+f[2]+", "+f[3]+")"},bj:Bb,Pd:function(f,h){var m=f[0],q=f[1],t=f[2];f=f[3];var u=h[0],v=h[1],y=h[2];h=h[3];return Math.abs(m-u)<=1E-6*Math.max(1,Math.abs(m),Math.abs(u))&&Math.abs(q-v)<=1E-6*Math.max(1,Math.abs(q),Math.abs(v))&&Math.abs(t-y)<=1E-6*Math.max(1,Math.abs(t),Math.abs(y))&&Math.abs(f-h)<=1E-6*Math.max(1,Math.abs(f),Math.abs(h))},sub:bb,Jo:Kc,oV:Hb,nV:$e,VV:gi,HB:re,pH:ua,forEach:pn});var qn=function(){var f=
J(),h=O(1,0,0),m=O(0,1,0);return function(q,t,u){var v=Sd(t,u);if(-.999999>v)return Td(f,h,t),1E-6>K(f)&&Td(f,m,t),vc(f,f),se(q,f,Math.PI),q;if(.999999<v)return q[0]=0,q[1]=0,q[2]=0,q[3]=1,q;Td(f,t,u);q[0]=f[0];q[1]=f[1];q[2]=f[2];q[3]=1+v;return fa(q,q)}}(),rn=function(){var f=Bd(),h=Bd();return function(m,q,t,u,v,y){af(f,q,v,y);af(h,t,u,y);af(m,f,h,2*y*(1-y));return m}}(),ii=function(){var f=g();return function(h,m,q,t){f[0]=q[0];f[3]=q[1];f[6]=q[2];f[1]=t[0];f[4]=t[1];f[7]=t[2];f[2]=-m[0];f[5]=
-m[1];f[8]=-m[2];return fa(h,te(h,f))}}();qn=Object.freeze({__proto__:null,create:Bd,zB:function(f){f[0]=0;f[1]=0;f[2]=0;f[3]=1;return f},jja:se,kha:function(f,h){var m=2*Math.acos(h[3]),q=Math.sin(m/2);1E-6<q?(f[0]=h[0]/q,f[1]=h[1]/q,f[2]=h[2]/q):(f[0]=1,f[1]=0,f[2]=0);return m},iha:function(f,h){f=Ka(f,h);return Math.acos(2*f*f-1)},multiply:Vd,YO:Wd,ZO:Vf,$O:jd,pga:function(f,h){var m=h[0],q=h[1];h=h[2];f[0]=m;f[1]=q;f[2]=h;f[3]=Math.sqrt(Math.abs(1-m*m-q*q-h*h));return f},exp:Ib,y4:Xd,pow:function(f,
h,m){Xd(f,h);jc(f,f,m);Ib(f,f);return f},V4:af,random:function(f){var h=Cd(),m=Cd(),q=Cd(),t=Math.sqrt(1-h);h=Math.sqrt(h);f[0]=t*Math.sin(2*Math.PI*m);f[1]=t*Math.cos(2*Math.PI*m);f[2]=h*Math.sin(2*Math.PI*q);f[3]=h*Math.cos(2*Math.PI*q);return f},$w:function(f,h){var m=h[0],q=h[1],t=h[2];h=h[3];var u=m*m+q*q+t*t+h*h;u=u?1/u:0;f[0]=-m*u;f[1]=-q*u;f[2]=-t*u;f[3]=h*u;return f},H3:function(f,h){f[0]=-h[0];f[1]=-h[1];f[2]=-h[2];f[3]=h[3];return f},Zga:te,Xga:function(f,h,m,q){var t=4<arguments.length&&
void 0!==arguments[4]?arguments[4]:"zyx",u=Math.PI/360;h*=u;q*=u;m*=u;u=Math.sin(h);var v=Math.cos(h),y=Math.sin(m),A=Math.cos(m),B=Math.sin(q),E=Math.cos(q);switch(t){case "xyz":f[0]=u*A*E+v*y*B;f[1]=v*y*E-u*A*B;f[2]=v*A*B+u*y*E;f[3]=v*A*E-u*y*B;break;case "xzy":f[0]=u*A*E-v*y*B;f[1]=v*y*E-u*A*B;f[2]=v*A*B+u*y*E;f[3]=v*A*E+u*y*B;break;case "yxz":f[0]=u*A*E+v*y*B;f[1]=v*y*E-u*A*B;f[2]=v*A*B-u*y*E;f[3]=v*A*E+u*y*B;break;case "yzx":f[0]=u*A*E+v*y*B;f[1]=v*y*E+u*A*B;f[2]=v*A*B-u*y*E;f[3]=v*A*E-u*y*B;
break;case "zxy":f[0]=u*A*E-v*y*B;f[1]=v*y*E+u*A*B;f[2]=v*A*B+u*y*E;f[3]=v*A*E-u*y*B;break;case "zyx":f[0]=u*A*E-v*y*B;f[1]=v*y*E+u*A*B;f[2]=v*A*B-u*y*E;f[3]=v*A*E+u*y*B;break;default:throw Error("Unknown angle order "+t);}return f},Mo:function(f){return"quat("+f[0]+", "+f[1]+", "+f[2]+", "+f[3]+")"},clone:Ud,Jg:Ad,Ja:Jc,set:Ze,add:pb,Jo:Vd,scale:jc,Ho:Ka,Ef:Ab,length:re,HB:re,qH:ua,pH:ua,normalize:fa,bj:Bb,Pd:function(f,h){return.999999<=Math.abs(Ka(f,h))},$ia:qn,oja:rn,ija:ii});rn=Object.freeze({__proto__:null,
create:function(){var f=new va(8);va!=Float32Array&&(f[0]=0,f[1]=0,f[2]=0,f[4]=0,f[5]=0,f[6]=0,f[7]=0);f[3]=1;return f},clone:function(f){var h=new va(8);h[0]=f[0];h[1]=f[1];h[2]=f[2];h[3]=f[3];h[4]=f[4];h[5]=f[5];h[6]=f[6];h[7]=f[7];return h},Jg:function(f,h,m,q,t,u,v,y){var A=new va(8);A[0]=f;A[1]=h;A[2]=m;A[3]=q;A[4]=t;A[5]=u;A[6]=v;A[7]=y;return A},cha:function(f,h,m,q,t,u,v){var y=new va(8);y[0]=f;y[1]=h;y[2]=m;y[3]=q;t*=.5;u*=.5;v*=.5;y[4]=t*q+u*m-v*h;y[5]=u*q+v*f-t*m;y[6]=v*q+t*h-u*f;y[7]=
-t*f-u*h-v*m;return y},a4:Tb,qO:function(f,h){f[0]=0;f[1]=0;f[2]=0;f[3]=1;f[4]=.5*h[0];f[5]=.5*h[1];f[6]=.5*h[2];f[7]=0;return f},dH:function(f,h){f[0]=h[0];f[1]=h[1];f[2]=h[2];f[3]=h[3];f[4]=0;f[5]=0;f[6]=0;f[7]=0;return f},Y3:function(f,h){var m=Bd();z(m,h);var q=new va(3);w(q,h);Tb(f,m,q);return f},Ja:wc,zB:function(f){f[0]=0;f[1]=0;f[2]=0;f[3]=1;f[4]=0;f[5]=0;f[6]=0;f[7]=0;return f},set:function(f,h,m,q,t,u,v,y,A){f[0]=h;f[1]=m;f[2]=q;f[3]=t;f[4]=u;f[5]=v;f[6]=y;f[7]=A;return f},oha:Jc,lha:function(f,
h){f[0]=h[4];f[1]=h[5];f[2]=h[6];f[3]=h[7];return f},mja:Jc,kja:function(f,h){f[4]=h[0];f[5]=h[1];f[6]=h[2];f[7]=h[3];return f},d4:function(f,h){var m=h[4],q=h[5],t=h[6],u=h[7],v=-h[0],y=-h[1],A=-h[2];h=h[3];f[0]=2*(m*h+u*v+q*A-t*y);f[1]=2*(q*h+u*y+t*v-m*A);f[2]=2*(t*h+u*A+m*y-q*v);return f},translate:function(f,h,m){var q=h[0],t=h[1],u=h[2],v=h[3],y=.5*m[0],A=.5*m[1];m=.5*m[2];var B=h[4],E=h[5],H=h[6];h=h[7];f[0]=q;f[1]=t;f[2]=u;f[3]=v;f[4]=v*y+t*m-u*A+B;f[5]=v*A+u*y-q*m+E;f[6]=v*m+q*A-t*y+H;f[7]=
-q*y-t*A-u*m+h;return f},YO:function(f,h,m){var q=-h[0],t=-h[1],u=-h[2],v=h[3],y=h[4],A=h[5],B=h[6],E=h[7],H=y*v+E*q+A*u-B*t,N=A*v+E*t+B*q-y*u,M=B*v+E*u+y*t-A*q;y=E*v-y*q-A*t-B*u;Wd(f,h,m);q=f[0];t=f[1];u=f[2];v=f[3];f[4]=H*v+y*q+N*u-M*t;f[5]=N*v+y*t+M*q-H*u;f[6]=M*v+y*u+H*t-N*q;f[7]=y*v-H*q-N*t-M*u;return f},ZO:function(f,h,m){var q=-h[0],t=-h[1],u=-h[2],v=h[3],y=h[4],A=h[5],B=h[6],E=h[7],H=y*v+E*q+A*u-B*t,N=A*v+E*t+B*q-y*u,M=B*v+E*u+y*t-A*q;y=E*v-y*q-A*t-B*u;Vf(f,h,m);q=f[0];t=f[1];u=f[2];v=f[3];
f[4]=H*v+y*q+N*u-M*t;f[5]=N*v+y*t+M*q-H*u;f[6]=M*v+y*u+H*t-N*q;f[7]=y*v-H*q-N*t-M*u;return f},$O:function(f,h,m){var q=-h[0],t=-h[1],u=-h[2],v=h[3],y=h[4],A=h[5],B=h[6],E=h[7],H=y*v+E*q+A*u-B*t,N=A*v+E*t+B*q-y*u,M=B*v+E*u+y*t-A*q;y=E*v-y*q-A*t-B*u;jd(f,h,m);q=f[0];t=f[1];u=f[2];v=f[3];f[4]=H*v+y*q+N*u-M*t;f[5]=N*v+y*t+M*q-H*u;f[6]=M*v+y*u+H*t-N*q;f[7]=y*v-H*q-N*t-M*u;return f},Yia:function(f,h,m){var q=m[0],t=m[1],u=m[2];m=m[3];var v=h[0],y=h[1],A=h[2],B=h[3];f[0]=v*m+B*q+y*u-A*t;f[1]=y*m+B*t+A*q-
v*u;f[2]=A*m+B*u+v*t-y*q;f[3]=B*m-v*q-y*t-A*u;v=h[4];y=h[5];A=h[6];B=h[7];f[4]=v*m+B*q+y*u-A*t;f[5]=y*m+B*t+A*q-v*u;f[6]=A*m+B*u+v*t-y*q;f[7]=B*m-v*q-y*t-A*u;return f},Zia:function(f,h,m){var q=h[0],t=h[1],u=h[2];h=h[3];var v=m[0],y=m[1],A=m[2],B=m[3];f[0]=q*B+h*v+t*A-u*y;f[1]=t*B+h*y+u*v-q*A;f[2]=u*B+h*A+q*y-t*v;f[3]=h*B-q*v-t*y-u*A;v=m[4];y=m[5];A=m[6];B=m[7];f[4]=q*B+h*v+t*A-u*y;f[5]=t*B+h*y+u*v-q*A;f[6]=u*B+h*A+q*y-t*v;f[7]=h*B-q*v-t*y-u*A;return f},Xia:function(f,h,m,q){if(1E-6>Math.abs(q))return wc(f,
h);var t=Math.hypot(m[0],m[1],m[2]);q*=.5;var u=Math.sin(q),v=u*m[0]/t,y=u*m[1]/t;m=u*m[2]/t;q=Math.cos(q);t=h[0];u=h[1];var A=h[2],B=h[3];f[0]=t*q+B*v+u*m-A*y;f[1]=u*q+B*y+A*v-t*m;f[2]=A*q+B*m+t*y-u*v;f[3]=B*q-t*v-u*y-A*m;t=h[4];u=h[5];A=h[6];h=h[7];f[4]=t*q+h*v+u*m-A*y;f[5]=u*q+h*y+A*v-t*m;f[6]=A*q+h*m+t*y-u*v;f[7]=h*q-t*v-u*y-A*m;return f},add:function(f,h,m){f[0]=h[0]+m[0];f[1]=h[1]+m[1];f[2]=h[2]+m[2];f[3]=h[3]+m[3];f[4]=h[4]+m[4];f[5]=h[5]+m[5];f[6]=h[6]+m[6];f[7]=h[7]+m[7];return f},multiply:cc,
Jo:cc,scale:function(f,h,m){f[0]=h[0]*m;f[1]=h[1]*m;f[2]=h[2]*m;f[3]=h[3]*m;f[4]=h[4]*m;f[5]=h[5]*m;f[6]=h[6]*m;f[7]=h[7]*m;return f},Ho:Ka,Ef:function(f,h,m,q){var t=1-q;0>Ka(h,m)&&(q=-q);f[0]=h[0]*t+m[0]*q;f[1]=h[1]*t+m[1]*q;f[2]=h[2]*t+m[2]*q;f[3]=h[3]*t+m[3]*q;f[4]=h[4]*t+m[4]*q;f[5]=h[5]*t+m[5]*q;f[6]=h[6]*t+m[6]*q;f[7]=h[7]*t+m[7]*q;return f},$w:function(f,h){var m=ua(h);f[0]=-h[0]/m;f[1]=-h[1]/m;f[2]=-h[2]/m;f[3]=h[3]/m;f[4]=-h[4]/m;f[5]=-h[5]/m;f[6]=-h[6]/m;f[7]=h[7]/m;return f},H3:function(f,
h){f[0]=-h[0];f[1]=-h[1];f[2]=-h[2];f[3]=h[3];f[4]=-h[4];f[5]=-h[5];f[6]=-h[6];f[7]=h[7];return f},length:re,HB:re,qH:ua,pH:ua,normalize:function(f,h){var m=ua(h);if(0<m){m=Math.sqrt(m);var q=h[0]/m,t=h[1]/m,u=h[2]/m,v=h[3]/m,y=h[4],A=h[5],B=h[6];h=h[7];var E=q*y+t*A+u*B+v*h;f[0]=q;f[1]=t;f[2]=u;f[3]=v;f[4]=(y-q*E)/m;f[5]=(A-t*E)/m;f[6]=(B-u*E)/m;f[7]=(h-v*E)/m}return f},Mo:function(f){return"quat2("+f[0]+", "+f[1]+", "+f[2]+", "+f[3]+", "+f[4]+", "+f[5]+", "+f[6]+", "+f[7]+")"},bj:function(f,h){return f[0]===
h[0]&&f[1]===h[1]&&f[2]===h[2]&&f[3]===h[3]&&f[4]===h[4]&&f[5]===h[5]&&f[6]===h[6]&&f[7]===h[7]},Pd:function(f,h){var m=f[0],q=f[1],t=f[2],u=f[3],v=f[4],y=f[5],A=f[6];f=f[7];var B=h[0],E=h[1],H=h[2],N=h[3],M=h[4],W=h[5],X=h[6];h=h[7];return Math.abs(m-B)<=1E-6*Math.max(1,Math.abs(m),Math.abs(B))&&Math.abs(q-E)<=1E-6*Math.max(1,Math.abs(q),Math.abs(E))&&Math.abs(t-H)<=1E-6*Math.max(1,Math.abs(t),Math.abs(H))&&Math.abs(u-N)<=1E-6*Math.max(1,Math.abs(u),Math.abs(N))&&Math.abs(v-M)<=1E-6*Math.max(1,Math.abs(v),
Math.abs(M))&&Math.abs(y-W)<=1E-6*Math.max(1,Math.abs(y),Math.abs(W))&&Math.abs(A-X)<=1E-6*Math.max(1,Math.abs(A),Math.abs(X))&&Math.abs(f-h)<=1E-6*Math.max(1,Math.abs(f),Math.abs(h))}});ii=function(){var f=ue();return function(h,m,q,t,u,v){m||(m=2);q||(q=0);for(t=t?Math.min(t*m+q,h.length):h.length;q<t;q+=m)f[0]=h[q],f[1]=h[q+1],u(f,f,v),h[q]=f[0],h[q+1]=f[1];return h}}();ii=Object.freeze({__proto__:null,create:ue,clone:function(f){var h=new va(2);h[0]=f[0];h[1]=f[1];return h},Jg:function(f,h){var m=
new va(2);m[0]=f;m[1]=h;return m},Ja:function(f,h){f[0]=h[0];f[1]=h[1];return f},set:function(f,h,m){f[0]=h;f[1]=m;return f},add:function(f,h,m){f[0]=h[0]+m[0];f[1]=h[1]+m[1];return f},No:bf,multiply:hi,Go:Mr,ceil:function(f,h){f[0]=Math.ceil(h[0]);f[1]=Math.ceil(h[1]);return f},floor:function(f,h){f[0]=Math.floor(h[0]);f[1]=Math.floor(h[1]);return f},min:function(f,h,m){f[0]=Math.min(h[0],m[0]);f[1]=Math.min(h[1],m[1]);return f},max:function(f,h,m){f[0]=Math.max(h[0],m[0]);f[1]=Math.max(h[1],m[1]);
return f},round:function(f,h){f[0]=Math.round(h[0]);f[1]=Math.round(h[1]);return f},scale:function(f,h,m){f[0]=h[0]*m;f[1]=h[1]*m;return f},aP:function(f,h,m,q){f[0]=h[0]+m[0]*q;f[1]=h[1]+m[1]*q;return f},bi:Nr,WV:Or,length:Pr,qH:Qr,MV:function(f,h){f[0]=-h[0];f[1]=-h[1];return f},inverse:function(f,h){f[0]=1/h[0];f[1]=1/h[1];return f},normalize:function(f,h){var m=h[0],q=h[1];m=m*m+q*q;0<m&&(m=1/Math.sqrt(m));f[0]=h[0]*m;f[1]=h[1]*m;return f},Ho:function(f,h){return f[0]*h[0]+f[1]*h[1]},kO:function(f,
h,m){h=h[0]*m[1]-h[1]*m[0];f[0]=f[1]=0;f[2]=h;return f},Ef:function(f,h,m,q){var t=h[0];h=h[1];f[0]=t+q*(m[0]-t);f[1]=h+q*(m[1]-h);return f},random:function(f,h){h=h||1;var m=2*Cd()*Math.PI;f[0]=Math.cos(m)*h;f[1]=Math.sin(m)*h;return f},Gja:function(f,h,m){var q=h[0];h=h[1];f[0]=m[0]*q+m[2]*h;f[1]=m[1]*q+m[3]*h;return f},Hja:function(f,h,m){var q=h[0];h=h[1];f[0]=m[0]*q+m[2]*h+m[4];f[1]=m[1]*q+m[3]*h+m[5];return f},f5:function(f,h,m){var q=h[0];h=h[1];f[0]=m[0]*q+m[3]*h+m[6];f[1]=m[1]*q+m[4]*h+m[7];
return f},iP:function(f,h,m){var q=h[0];h=h[1];f[0]=m[0]*q+m[4]*h+m[12];f[1]=m[1]*q+m[5]*h+m[13];return f},rotate:function(f,h,m,q){var t=h[0]-m[0];h=h[1]-m[1];var u=Math.sin(q);q=Math.cos(q);f[0]=t*q-h*u+m[0];f[1]=t*u+h*q+m[1];return f},angle:function(f,h){var m=f[0];f=f[1];var q=h[0];h=h[1];var t=Math.sqrt((m*m+f*f)*(q*q+h*h));return Math.acos(Math.min(Math.max(t&&(m*q+f*h)/t,-1),1))},tW:function(f){f[0]=0;f[1]=0;return f},Mo:function(f){return"vec2("+f[0]+", "+f[1]+")"},bj:function(f,h){return f[0]===
h[0]&&f[1]===h[1]},Pd:function(f,h){var m=f[0];f=f[1];var q=h[0];h=h[1];return Math.abs(m-q)<=1E-6*Math.max(1,Math.abs(m),Math.abs(q))&&Math.abs(f-h)<=1E-6*Math.max(1,Math.abs(f),Math.abs(h))},HB:Pr,sub:bf,Jo:hi,oV:Mr,nV:Nr,VV:Or,pH:Qr,forEach:ii});a.cj=zA;a.fia=AA;a.gia=BA;a.hia=CA;a.tl=DA;a.Fia=qn;a.Gia=rn;a.Sja=ii;a.tH=nn;a.QB=pn;Object.defineProperty(a,"__esModule",{value:!0})}
"object"===typeof exports&&"undefined"!==typeof module?ca(exports):"function"===typeof define&&define.hga?define(["exports"],ca):(ba="undefined"!==typeof globalThis?globalThis:ba||self,ca(ba.cj={}));
self.cY=function(){function a(c,e){void 0===e&&(e=0);var g=c.charCodeAt(e);if(55296<=g&&56319>=g&&e<c.length-1){var k=g;c=c.charCodeAt(e+1);return 56320<=c&&57343>=c?1024*(k-55296)+(c-56320)+65536:k}return 56320<=g&&57343>=g&&1<=e?(k=c.charCodeAt(e-1),c=g,55296<=k&&56319>=k?1024*(k-55296)+(c-56320)+65536:c):g}function b(c,e,g){var k=[c].concat(e).concat([g]),l=k[k.length-2],n=k.lastIndexOf(14);if(1<n&&k.slice(1,n).every(function(p){return 3==p})&&-1==[3,13,17].indexOf(c))return 2;c=k.lastIndexOf(4);
if(0<c&&k.slice(1,c).every(function(p){return 4==p})&&-1==[12,4].indexOf(l))return 1==k.filter(function(p){return 4==p}).length%2?3:4;if(0==l&&1==g)return 0;if(2==l||0==l||1==l)return 14==g&&e.every(function(p){return 3==p})?2:1;if(2==g||0==g||1==g)return 1;if(6!=l||6!=g&&7!=g&&9!=g&&10!=g)if(9!=l&&7!=l||7!=g&&8!=g)if(10!=l&&8!=l||8!=g){if(3==g||15==g||5==g||12==l)return 0}else return 0;else return 0;else return 0;c=-1!=k.indexOf(3)?k.lastIndexOf(3)-1:k.length-2;return-1!=[13,17].indexOf(k[c])&&k.slice(c+
1,-1).every(function(p){return 3==p})&&14==g||15==l&&-1!=[16,17].indexOf(g)?0:-1!=e.indexOf(4)?2:4==l&&4==g?0:1}function d(c){return 1536<=c&&1541>=c||1757==c||1807==c||2274==c||3406==c||69821==c||70082<=c&&70083>=c||72250==c||72326<=c&&72329>=c||73030==c?12:13==c?0:10==c?1:0<=c&&9>=c||11<=c&&12>=c||14<=c&&31>=c||127<=c&&159>=c||173==c||1564==c||6158==c||8203==c||8206<=c&&8207>=c||8232==c||8233==c||8234<=c&&8238>=c||8288<=c&&8292>=c||8293==c||8294<=c&&8303>=c||55296<=c&&57343>=c||65279==c||65520<=
c&&65528>=c||65529<=c&&65531>=c||113824<=c&&113827>=c||119155<=c&&119162>=c||917504==c||917505==c||917506<=c&&917535>=c||917632<=c&&917759>=c||918E3<=c&&921599>=c?2:768<=c&&879>=c||1155<=c&&1159>=c||1160<=c&&1161>=c||1425<=c&&1469>=c||1471==c||1473<=c&&1474>=c||1476<=c&&1477>=c||1479==c||1552<=c&&1562>=c||1611<=c&&1631>=c||1648==c||1750<=c&&1756>=c||1759<=c&&1764>=c||1767<=c&&1768>=c||1770<=c&&1773>=c||1809==c||1840<=c&&1866>=c||1958<=c&&1968>=c||2027<=c&&2035>=c||2070<=c&&2073>=c||2075<=c&&2083>=
c||2085<=c&&2087>=c||2089<=c&&2093>=c||2137<=c&&2139>=c||2260<=c&&2273>=c||2275<=c&&2306>=c||2362==c||2364==c||2369<=c&&2376>=c||2381==c||2385<=c&&2391>=c||2402<=c&&2403>=c||2433==c||2492==c||2494==c||2497<=c&&2500>=c||2509==c||2519==c||2530<=c&&2531>=c||2561<=c&&2562>=c||2620==c||2625<=c&&2626>=c||2631<=c&&2632>=c||2635<=c&&2637>=c||2641==c||2672<=c&&2673>=c||2677==c||2689<=c&&2690>=c||2748==c||2753<=c&&2757>=c||2759<=c&&2760>=c||2765==c||2786<=c&&2787>=c||2810<=c&&2815>=c||2817==c||2876==c||2878==
c||2879==c||2881<=c&&2884>=c||2893==c||2902==c||2903==c||2914<=c&&2915>=c||2946==c||3006==c||3008==c||3021==c||3031==c||3072==c||3134<=c&&3136>=c||3142<=c&&3144>=c||3146<=c&&3149>=c||3157<=c&&3158>=c||3170<=c&&3171>=c||3201==c||3260==c||3263==c||3266==c||3270==c||3276<=c&&3277>=c||3285<=c&&3286>=c||3298<=c&&3299>=c||3328<=c&&3329>=c||3387<=c&&3388>=c||3390==c||3393<=c&&3396>=c||3405==c||3415==c||3426<=c&&3427>=c||3530==c||3535==c||3538<=c&&3540>=c||3542==c||3551==c||3633==c||3636<=c&&3642>=c||3655<=
c&&3662>=c||3761==c||3764<=c&&3769>=c||3771<=c&&3772>=c||3784<=c&&3789>=c||3864<=c&&3865>=c||3893==c||3895==c||3897==c||3953<=c&&3966>=c||3968<=c&&3972>=c||3974<=c&&3975>=c||3981<=c&&3991>=c||3993<=c&&4028>=c||4038==c||4141<=c&&4144>=c||4146<=c&&4151>=c||4153<=c&&4154>=c||4157<=c&&4158>=c||4184<=c&&4185>=c||4190<=c&&4192>=c||4209<=c&&4212>=c||4226==c||4229<=c&&4230>=c||4237==c||4253==c||4957<=c&&4959>=c||5906<=c&&5908>=c||5938<=c&&5940>=c||5970<=c&&5971>=c||6002<=c&&6003>=c||6068<=c&&6069>=c||6071<=
c&&6077>=c||6086==c||6089<=c&&6099>=c||6109==c||6155<=c&&6157>=c||6277<=c&&6278>=c||6313==c||6432<=c&&6434>=c||6439<=c&&6440>=c||6450==c||6457<=c&&6459>=c||6679<=c&&6680>=c||6683==c||6742==c||6744<=c&&6750>=c||6752==c||6754==c||6757<=c&&6764>=c||6771<=c&&6780>=c||6783==c||6832<=c&&6845>=c||6846==c||6912<=c&&6915>=c||6964==c||6966<=c&&6970>=c||6972==c||6978==c||7019<=c&&7027>=c||7040<=c&&7041>=c||7074<=c&&7077>=c||7080<=c&&7081>=c||7083<=c&&7085>=c||7142==c||7144<=c&&7145>=c||7149==c||7151<=c&&7153>=
c||7212<=c&&7219>=c||7222<=c&&7223>=c||7376<=c&&7378>=c||7380<=c&&7392>=c||7394<=c&&7400>=c||7405==c||7412==c||7416<=c&&7417>=c||7616<=c&&7673>=c||7675<=c&&7679>=c||8204==c||8400<=c&&8412>=c||8413<=c&&8416>=c||8417==c||8418<=c&&8420>=c||8421<=c&&8432>=c||11503<=c&&11505>=c||11647==c||11744<=c&&11775>=c||12330<=c&&12333>=c||12334<=c&&12335>=c||12441<=c&&12442>=c||42607==c||42608<=c&&42610>=c||42612<=c&&42621>=c||42654<=c&&42655>=c||42736<=c&&42737>=c||43010==c||43014==c||43019==c||43045<=c&&43046>=
c||43204<=c&&43205>=c||43232<=c&&43249>=c||43302<=c&&43309>=c||43335<=c&&43345>=c||43392<=c&&43394>=c||43443==c||43446<=c&&43449>=c||43452==c||43493==c||43561<=c&&43566>=c||43569<=c&&43570>=c||43573<=c&&43574>=c||43587==c||43596==c||43644==c||43696==c||43698<=c&&43700>=c||43703<=c&&43704>=c||43710<=c&&43711>=c||43713==c||43756<=c&&43757>=c||43766==c||44005==c||44008==c||44013==c||64286==c||65024<=c&&65039>=c||65056<=c&&65071>=c||65438<=c&&65439>=c||66045==c||66272==c||66422<=c&&66426>=c||68097<=c&&
68099>=c||68101<=c&&68102>=c||68108<=c&&68111>=c||68152<=c&&68154>=c||68159==c||68325<=c&&68326>=c||69633==c||69688<=c&&69702>=c||69759<=c&&69761>=c||69811<=c&&69814>=c||69817<=c&&69818>=c||69888<=c&&69890>=c||69927<=c&&69931>=c||69933<=c&&69940>=c||70003==c||70016<=c&&70017>=c||70070<=c&&70078>=c||70090<=c&&70092>=c||70191<=c&&70193>=c||70196==c||70198<=c&&70199>=c||70206==c||70367==c||70371<=c&&70378>=c||70400<=c&&70401>=c||70460==c||70462==c||70464==c||70487==c||70502<=c&&70508>=c||70512<=c&&70516>=
c||70712<=c&&70719>=c||70722<=c&&70724>=c||70726==c||70832==c||70835<=c&&70840>=c||70842==c||70845==c||70847<=c&&70848>=c||70850<=c&&70851>=c||71087==c||71090<=c&&71093>=c||71100<=c&&71101>=c||71103<=c&&71104>=c||71132<=c&&71133>=c||71219<=c&&71226>=c||71229==c||71231<=c&&71232>=c||71339==c||71341==c||71344<=c&&71349>=c||71351==c||71453<=c&&71455>=c||71458<=c&&71461>=c||71463<=c&&71467>=c||72193<=c&&72198>=c||72201<=c&&72202>=c||72243<=c&&72248>=c||72251<=c&&72254>=c||72263==c||72273<=c&&72278>=c||
72281<=c&&72283>=c||72330<=c&&72342>=c||72344<=c&&72345>=c||72752<=c&&72758>=c||72760<=c&&72765>=c||72767==c||72850<=c&&72871>=c||72874<=c&&72880>=c||72882<=c&&72883>=c||72885<=c&&72886>=c||73009<=c&&73014>=c||73018==c||73020<=c&&73021>=c||73023<=c&&73029>=c||73031==c||92912<=c&&92916>=c||92976<=c&&92982>=c||94095<=c&&94098>=c||113821<=c&&113822>=c||119141==c||119143<=c&&119145>=c||119150<=c&&119154>=c||119163<=c&&119170>=c||119173<=c&&119179>=c||119210<=c&&119213>=c||119362<=c&&119364>=c||121344<=
c&&121398>=c||121403<=c&&121452>=c||121461==c||121476==c||121499<=c&&121503>=c||121505<=c&&121519>=c||122880<=c&&122886>=c||122888<=c&&122904>=c||122907<=c&&122913>=c||122915<=c&&122916>=c||122918<=c&&122922>=c||125136<=c&&125142>=c||125252<=c&&125258>=c||917536<=c&&917631>=c||917760<=c&&917999>=c?3:127462<=c&&127487>=c?4:2307==c||2363==c||2366<=c&&2368>=c||2377<=c&&2380>=c||2382<=c&&2383>=c||2434<=c&&2435>=c||2495<=c&&2496>=c||2503<=c&&2504>=c||2507<=c&&2508>=c||2563==c||2622<=c&&2624>=c||2691==
c||2750<=c&&2752>=c||2761==c||2763<=c&&2764>=c||2818<=c&&2819>=c||2880==c||2887<=c&&2888>=c||2891<=c&&2892>=c||3007==c||3009<=c&&3010>=c||3014<=c&&3016>=c||3018<=c&&3020>=c||3073<=c&&3075>=c||3137<=c&&3140>=c||3202<=c&&3203>=c||3262==c||3264<=c&&3265>=c||3267<=c&&3268>=c||3271<=c&&3272>=c||3274<=c&&3275>=c||3330<=c&&3331>=c||3391<=c&&3392>=c||3398<=c&&3400>=c||3402<=c&&3404>=c||3458<=c&&3459>=c||3536<=c&&3537>=c||3544<=c&&3550>=c||3570<=c&&3571>=c||3635==c||3763==c||3902<=c&&3903>=c||3967==c||4145==
c||4155<=c&&4156>=c||4182<=c&&4183>=c||4228==c||6070==c||6078<=c&&6085>=c||6087<=c&&6088>=c||6435<=c&&6438>=c||6441<=c&&6443>=c||6448<=c&&6449>=c||6451<=c&&6456>=c||6681<=c&&6682>=c||6741==c||6743==c||6765<=c&&6770>=c||6916==c||6965==c||6971==c||6973<=c&&6977>=c||6979<=c&&6980>=c||7042==c||7073==c||7078<=c&&7079>=c||7082==c||7143==c||7146<=c&&7148>=c||7150==c||7154<=c&&7155>=c||7204<=c&&7211>=c||7220<=c&&7221>=c||7393==c||7410<=c&&7411>=c||7415==c||43043<=c&&43044>=c||43047==c||43136<=c&&43137>=c||
43188<=c&&43203>=c||43346<=c&&43347>=c||43395==c||43444<=c&&43445>=c||43450<=c&&43451>=c||43453<=c&&43456>=c||43567<=c&&43568>=c||43571<=c&&43572>=c||43597==c||43755==c||43758<=c&&43759>=c||43765==c||44003<=c&&44004>=c||44006<=c&&44007>=c||44009<=c&&44010>=c||44012==c||69632==c||69634==c||69762==c||69808<=c&&69810>=c||69815<=c&&69816>=c||69932==c||70018==c||70067<=c&&70069>=c||70079<=c&&70080>=c||70188<=c&&70190>=c||70194<=c&&70195>=c||70197==c||70368<=c&&70370>=c||70402<=c&&70403>=c||70463==c||70465<=
c&&70468>=c||70471<=c&&70472>=c||70475<=c&&70477>=c||70498<=c&&70499>=c||70709<=c&&70711>=c||70720<=c&&70721>=c||70725==c||70833<=c&&70834>=c||70841==c||70843<=c&&70844>=c||70846==c||70849==c||71088<=c&&71089>=c||71096<=c&&71099>=c||71102==c||71216<=c&&71218>=c||71227<=c&&71228>=c||71230==c||71340==c||71342<=c&&71343>=c||71350==c||71456<=c&&71457>=c||71462==c||72199<=c&&72200>=c||72249==c||72279<=c&&72280>=c||72343==c||72751==c||72766==c||72873==c||72881==c||72884==c||94033<=c&&94078>=c||119142==
c||119149==c?5:4352<=c&&4447>=c||43360<=c&&43388>=c?6:4448<=c&&4519>=c||55216<=c&&55238>=c?7:4520<=c&&4607>=c||55243<=c&&55291>=c?8:44032==c||44060==c||44088==c||44116==c||44144==c||44172==c||44200==c||44228==c||44256==c||44284==c||44312==c||44340==c||44368==c||44396==c||44424==c||44452==c||44480==c||44508==c||44536==c||44564==c||44592==c||44620==c||44648==c||44676==c||44704==c||44732==c||44760==c||44788==c||44816==c||44844==c||44872==c||44900==c||44928==c||44956==c||44984==c||45012==c||45040==c||
45068==c||45096==c||45124==c||45152==c||45180==c||45208==c||45236==c||45264==c||45292==c||45320==c||45348==c||45376==c||45404==c||45432==c||45460==c||45488==c||45516==c||45544==c||45572==c||45600==c||45628==c||45656==c||45684==c||45712==c||45740==c||45768==c||45796==c||45824==c||45852==c||45880==c||45908==c||45936==c||45964==c||45992==c||46020==c||46048==c||46076==c||46104==c||46132==c||46160==c||46188==c||46216==c||46244==c||46272==c||46300==c||46328==c||46356==c||46384==c||46412==c||46440==c||46468==
c||46496==c||46524==c||46552==c||46580==c||46608==c||46636==c||46664==c||46692==c||46720==c||46748==c||46776==c||46804==c||46832==c||46860==c||46888==c||46916==c||46944==c||46972==c||47E3==c||47028==c||47056==c||47084==c||47112==c||47140==c||47168==c||47196==c||47224==c||47252==c||47280==c||47308==c||47336==c||47364==c||47392==c||47420==c||47448==c||47476==c||47504==c||47532==c||47560==c||47588==c||47616==c||47644==c||47672==c||47700==c||47728==c||47756==c||47784==c||47812==c||47840==c||47868==c||
47896==c||47924==c||47952==c||47980==c||48008==c||48036==c||48064==c||48092==c||48120==c||48148==c||48176==c||48204==c||48232==c||48260==c||48288==c||48316==c||48344==c||48372==c||48400==c||48428==c||48456==c||48484==c||48512==c||48540==c||48568==c||48596==c||48624==c||48652==c||48680==c||48708==c||48736==c||48764==c||48792==c||48820==c||48848==c||48876==c||48904==c||48932==c||48960==c||48988==c||49016==c||49044==c||49072==c||49100==c||49128==c||49156==c||49184==c||49212==c||49240==c||49268==c||49296==
c||49324==c||49352==c||49380==c||49408==c||49436==c||49464==c||49492==c||49520==c||49548==c||49576==c||49604==c||49632==c||49660==c||49688==c||49716==c||49744==c||49772==c||49800==c||49828==c||49856==c||49884==c||49912==c||49940==c||49968==c||49996==c||50024==c||50052==c||50080==c||50108==c||50136==c||50164==c||50192==c||50220==c||50248==c||50276==c||50304==c||50332==c||50360==c||50388==c||50416==c||50444==c||50472==c||50500==c||50528==c||50556==c||50584==c||50612==c||50640==c||50668==c||50696==c||
50724==c||50752==c||50780==c||50808==c||50836==c||50864==c||50892==c||50920==c||50948==c||50976==c||51004==c||51032==c||51060==c||51088==c||51116==c||51144==c||51172==c||51200==c||51228==c||51256==c||51284==c||51312==c||51340==c||51368==c||51396==c||51424==c||51452==c||51480==c||51508==c||51536==c||51564==c||51592==c||51620==c||51648==c||51676==c||51704==c||51732==c||51760==c||51788==c||51816==c||51844==c||51872==c||51900==c||51928==c||51956==c||51984==c||52012==c||52040==c||52068==c||52096==c||52124==
c||52152==c||52180==c||52208==c||52236==c||52264==c||52292==c||52320==c||52348==c||52376==c||52404==c||52432==c||52460==c||52488==c||52516==c||52544==c||52572==c||52600==c||52628==c||52656==c||52684==c||52712==c||52740==c||52768==c||52796==c||52824==c||52852==c||52880==c||52908==c||52936==c||52964==c||52992==c||53020==c||53048==c||53076==c||53104==c||53132==c||53160==c||53188==c||53216==c||53244==c||53272==c||53300==c||53328==c||53356==c||53384==c||53412==c||53440==c||53468==c||53496==c||53524==c||
53552==c||53580==c||53608==c||53636==c||53664==c||53692==c||53720==c||53748==c||53776==c||53804==c||53832==c||53860==c||53888==c||53916==c||53944==c||53972==c||54E3==c||54028==c||54056==c||54084==c||54112==c||54140==c||54168==c||54196==c||54224==c||54252==c||54280==c||54308==c||54336==c||54364==c||54392==c||54420==c||54448==c||54476==c||54504==c||54532==c||54560==c||54588==c||54616==c||54644==c||54672==c||54700==c||54728==c||54756==c||54784==c||54812==c||54840==c||54868==c||54896==c||54924==c||54952==
c||54980==c||55008==c||55036==c||55064==c||55092==c||55120==c||55148==c||55176==c?9:44033<=c&&44059>=c||44061<=c&&44087>=c||44089<=c&&44115>=c||44117<=c&&44143>=c||44145<=c&&44171>=c||44173<=c&&44199>=c||44201<=c&&44227>=c||44229<=c&&44255>=c||44257<=c&&44283>=c||44285<=c&&44311>=c||44313<=c&&44339>=c||44341<=c&&44367>=c||44369<=c&&44395>=c||44397<=c&&44423>=c||44425<=c&&44451>=c||44453<=c&&44479>=c||44481<=c&&44507>=c||44509<=c&&44535>=c||44537<=c&&44563>=c||44565<=c&&44591>=c||44593<=c&&44619>=
c||44621<=c&&44647>=c||44649<=c&&44675>=c||44677<=c&&44703>=c||44705<=c&&44731>=c||44733<=c&&44759>=c||44761<=c&&44787>=c||44789<=c&&44815>=c||44817<=c&&44843>=c||44845<=c&&44871>=c||44873<=c&&44899>=c||44901<=c&&44927>=c||44929<=c&&44955>=c||44957<=c&&44983>=c||44985<=c&&45011>=c||45013<=c&&45039>=c||45041<=c&&45067>=c||45069<=c&&45095>=c||45097<=c&&45123>=c||45125<=c&&45151>=c||45153<=c&&45179>=c||45181<=c&&45207>=c||45209<=c&&45235>=c||45237<=c&&45263>=c||45265<=c&&45291>=c||45293<=c&&45319>=c||
45321<=c&&45347>=c||45349<=c&&45375>=c||45377<=c&&45403>=c||45405<=c&&45431>=c||45433<=c&&45459>=c||45461<=c&&45487>=c||45489<=c&&45515>=c||45517<=c&&45543>=c||45545<=c&&45571>=c||45573<=c&&45599>=c||45601<=c&&45627>=c||45629<=c&&45655>=c||45657<=c&&45683>=c||45685<=c&&45711>=c||45713<=c&&45739>=c||45741<=c&&45767>=c||45769<=c&&45795>=c||45797<=c&&45823>=c||45825<=c&&45851>=c||45853<=c&&45879>=c||45881<=c&&45907>=c||45909<=c&&45935>=c||45937<=c&&45963>=c||45965<=c&&45991>=c||45993<=c&&46019>=c||46021<=
c&&46047>=c||46049<=c&&46075>=c||46077<=c&&46103>=c||46105<=c&&46131>=c||46133<=c&&46159>=c||46161<=c&&46187>=c||46189<=c&&46215>=c||46217<=c&&46243>=c||46245<=c&&46271>=c||46273<=c&&46299>=c||46301<=c&&46327>=c||46329<=c&&46355>=c||46357<=c&&46383>=c||46385<=c&&46411>=c||46413<=c&&46439>=c||46441<=c&&46467>=c||46469<=c&&46495>=c||46497<=c&&46523>=c||46525<=c&&46551>=c||46553<=c&&46579>=c||46581<=c&&46607>=c||46609<=c&&46635>=c||46637<=c&&46663>=c||46665<=c&&46691>=c||46693<=c&&46719>=c||46721<=c&&
46747>=c||46749<=c&&46775>=c||46777<=c&&46803>=c||46805<=c&&46831>=c||46833<=c&&46859>=c||46861<=c&&46887>=c||46889<=c&&46915>=c||46917<=c&&46943>=c||46945<=c&&46971>=c||46973<=c&&46999>=c||47001<=c&&47027>=c||47029<=c&&47055>=c||47057<=c&&47083>=c||47085<=c&&47111>=c||47113<=c&&47139>=c||47141<=c&&47167>=c||47169<=c&&47195>=c||47197<=c&&47223>=c||47225<=c&&47251>=c||47253<=c&&47279>=c||47281<=c&&47307>=c||47309<=c&&47335>=c||47337<=c&&47363>=c||47365<=c&&47391>=c||47393<=c&&47419>=c||47421<=c&&47447>=
c||47449<=c&&47475>=c||47477<=c&&47503>=c||47505<=c&&47531>=c||47533<=c&&47559>=c||47561<=c&&47587>=c||47589<=c&&47615>=c||47617<=c&&47643>=c||47645<=c&&47671>=c||47673<=c&&47699>=c||47701<=c&&47727>=c||47729<=c&&47755>=c||47757<=c&&47783>=c||47785<=c&&47811>=c||47813<=c&&47839>=c||47841<=c&&47867>=c||47869<=c&&47895>=c||47897<=c&&47923>=c||47925<=c&&47951>=c||47953<=c&&47979>=c||47981<=c&&48007>=c||48009<=c&&48035>=c||48037<=c&&48063>=c||48065<=c&&48091>=c||48093<=c&&48119>=c||48121<=c&&48147>=c||
48149<=c&&48175>=c||48177<=c&&48203>=c||48205<=c&&48231>=c||48233<=c&&48259>=c||48261<=c&&48287>=c||48289<=c&&48315>=c||48317<=c&&48343>=c||48345<=c&&48371>=c||48373<=c&&48399>=c||48401<=c&&48427>=c||48429<=c&&48455>=c||48457<=c&&48483>=c||48485<=c&&48511>=c||48513<=c&&48539>=c||48541<=c&&48567>=c||48569<=c&&48595>=c||48597<=c&&48623>=c||48625<=c&&48651>=c||48653<=c&&48679>=c||48681<=c&&48707>=c||48709<=c&&48735>=c||48737<=c&&48763>=c||48765<=c&&48791>=c||48793<=c&&48819>=c||48821<=c&&48847>=c||48849<=
c&&48875>=c||48877<=c&&48903>=c||48905<=c&&48931>=c||48933<=c&&48959>=c||48961<=c&&48987>=c||48989<=c&&49015>=c||49017<=c&&49043>=c||49045<=c&&49071>=c||49073<=c&&49099>=c||49101<=c&&49127>=c||49129<=c&&49155>=c||49157<=c&&49183>=c||49185<=c&&49211>=c||49213<=c&&49239>=c||49241<=c&&49267>=c||49269<=c&&49295>=c||49297<=c&&49323>=c||49325<=c&&49351>=c||49353<=c&&49379>=c||49381<=c&&49407>=c||49409<=c&&49435>=c||49437<=c&&49463>=c||49465<=c&&49491>=c||49493<=c&&49519>=c||49521<=c&&49547>=c||49549<=c&&
49575>=c||49577<=c&&49603>=c||49605<=c&&49631>=c||49633<=c&&49659>=c||49661<=c&&49687>=c||49689<=c&&49715>=c||49717<=c&&49743>=c||49745<=c&&49771>=c||49773<=c&&49799>=c||49801<=c&&49827>=c||49829<=c&&49855>=c||49857<=c&&49883>=c||49885<=c&&49911>=c||49913<=c&&49939>=c||49941<=c&&49967>=c||49969<=c&&49995>=c||49997<=c&&50023>=c||50025<=c&&50051>=c||50053<=c&&50079>=c||50081<=c&&50107>=c||50109<=c&&50135>=c||50137<=c&&50163>=c||50165<=c&&50191>=c||50193<=c&&50219>=c||50221<=c&&50247>=c||50249<=c&&50275>=
c||50277<=c&&50303>=c||50305<=c&&50331>=c||50333<=c&&50359>=c||50361<=c&&50387>=c||50389<=c&&50415>=c||50417<=c&&50443>=c||50445<=c&&50471>=c||50473<=c&&50499>=c||50501<=c&&50527>=c||50529<=c&&50555>=c||50557<=c&&50583>=c||50585<=c&&50611>=c||50613<=c&&50639>=c||50641<=c&&50667>=c||50669<=c&&50695>=c||50697<=c&&50723>=c||50725<=c&&50751>=c||50753<=c&&50779>=c||50781<=c&&50807>=c||50809<=c&&50835>=c||50837<=c&&50863>=c||50865<=c&&50891>=c||50893<=c&&50919>=c||50921<=c&&50947>=c||50949<=c&&50975>=c||
50977<=c&&51003>=c||51005<=c&&51031>=c||51033<=c&&51059>=c||51061<=c&&51087>=c||51089<=c&&51115>=c||51117<=c&&51143>=c||51145<=c&&51171>=c||51173<=c&&51199>=c||51201<=c&&51227>=c||51229<=c&&51255>=c||51257<=c&&51283>=c||51285<=c&&51311>=c||51313<=c&&51339>=c||51341<=c&&51367>=c||51369<=c&&51395>=c||51397<=c&&51423>=c||51425<=c&&51451>=c||51453<=c&&51479>=c||51481<=c&&51507>=c||51509<=c&&51535>=c||51537<=c&&51563>=c||51565<=c&&51591>=c||51593<=c&&51619>=c||51621<=c&&51647>=c||51649<=c&&51675>=c||51677<=
c&&51703>=c||51705<=c&&51731>=c||51733<=c&&51759>=c||51761<=c&&51787>=c||51789<=c&&51815>=c||51817<=c&&51843>=c||51845<=c&&51871>=c||51873<=c&&51899>=c||51901<=c&&51927>=c||51929<=c&&51955>=c||51957<=c&&51983>=c||51985<=c&&52011>=c||52013<=c&&52039>=c||52041<=c&&52067>=c||52069<=c&&52095>=c||52097<=c&&52123>=c||52125<=c&&52151>=c||52153<=c&&52179>=c||52181<=c&&52207>=c||52209<=c&&52235>=c||52237<=c&&52263>=c||52265<=c&&52291>=c||52293<=c&&52319>=c||52321<=c&&52347>=c||52349<=c&&52375>=c||52377<=c&&
52403>=c||52405<=c&&52431>=c||52433<=c&&52459>=c||52461<=c&&52487>=c||52489<=c&&52515>=c||52517<=c&&52543>=c||52545<=c&&52571>=c||52573<=c&&52599>=c||52601<=c&&52627>=c||52629<=c&&52655>=c||52657<=c&&52683>=c||52685<=c&&52711>=c||52713<=c&&52739>=c||52741<=c&&52767>=c||52769<=c&&52795>=c||52797<=c&&52823>=c||52825<=c&&52851>=c||52853<=c&&52879>=c||52881<=c&&52907>=c||52909<=c&&52935>=c||52937<=c&&52963>=c||52965<=c&&52991>=c||52993<=c&&53019>=c||53021<=c&&53047>=c||53049<=c&&53075>=c||53077<=c&&53103>=
c||53105<=c&&53131>=c||53133<=c&&53159>=c||53161<=c&&53187>=c||53189<=c&&53215>=c||53217<=c&&53243>=c||53245<=c&&53271>=c||53273<=c&&53299>=c||53301<=c&&53327>=c||53329<=c&&53355>=c||53357<=c&&53383>=c||53385<=c&&53411>=c||53413<=c&&53439>=c||53441<=c&&53467>=c||53469<=c&&53495>=c||53497<=c&&53523>=c||53525<=c&&53551>=c||53553<=c&&53579>=c||53581<=c&&53607>=c||53609<=c&&53635>=c||53637<=c&&53663>=c||53665<=c&&53691>=c||53693<=c&&53719>=c||53721<=c&&53747>=c||53749<=c&&53775>=c||53777<=c&&53803>=c||
53805<=c&&53831>=c||53833<=c&&53859>=c||53861<=c&&53887>=c||53889<=c&&53915>=c||53917<=c&&53943>=c||53945<=c&&53971>=c||53973<=c&&53999>=c||54001<=c&&54027>=c||54029<=c&&54055>=c||54057<=c&&54083>=c||54085<=c&&54111>=c||54113<=c&&54139>=c||54141<=c&&54167>=c||54169<=c&&54195>=c||54197<=c&&54223>=c||54225<=c&&54251>=c||54253<=c&&54279>=c||54281<=c&&54307>=c||54309<=c&&54335>=c||54337<=c&&54363>=c||54365<=c&&54391>=c||54393<=c&&54419>=c||54421<=c&&54447>=c||54449<=c&&54475>=c||54477<=c&&54503>=c||54505<=
c&&54531>=c||54533<=c&&54559>=c||54561<=c&&54587>=c||54589<=c&&54615>=c||54617<=c&&54643>=c||54645<=c&&54671>=c||54673<=c&&54699>=c||54701<=c&&54727>=c||54729<=c&&54755>=c||54757<=c&&54783>=c||54785<=c&&54811>=c||54813<=c&&54839>=c||54841<=c&&54867>=c||54869<=c&&54895>=c||54897<=c&&54923>=c||54925<=c&&54951>=c||54953<=c&&54979>=c||54981<=c&&55007>=c||55009<=c&&55035>=c||55037<=c&&55063>=c||55065<=c&&55091>=c||55093<=c&&55119>=c||55121<=c&&55147>=c||55149<=c&&55175>=c||55177<=c&&55203>=c?10:9757==
c||9977==c||9994<=c&&9997>=c||127877==c||127938<=c&&127940>=c||127943==c||127946<=c&&127948>=c||128066<=c&&128067>=c||128070<=c&&128080>=c||128110==c||128112<=c&&128120>=c||128124==c||128129<=c&&128131>=c||128133<=c&&128135>=c||128170==c||128372<=c&&128373>=c||128378==c||128400==c||128405<=c&&128406>=c||128581<=c&&128583>=c||128587<=c&&128591>=c||128675==c||128692<=c&&128694>=c||128704==c||128716==c||129304<=c&&129308>=c||129310<=c&&129311>=c||129318==c||129328<=c&&129337>=c||129341<=c&&129342>=c||
129489<=c&&129501>=c?13:127995<=c&&127999>=c?14:8205==c?15:9792==c||9794==c||9877<=c&&9878>=c||9992==c||10084==c||127752==c||127806==c||127859==c||127891==c||127908==c||127912==c||127979==c||127981==c||128139==c||128187<=c&&128188>=c||128295==c||128300==c||128488==c||128640==c||128658==c?16:128102<=c&&128105>=c?17:11}this.KO=function(c,e){void 0===e&&(e=0);if(0>e)return 0;if(e>=c.length-1)return c.length;var g=d(a(c,e)),k=[];for(e+=1;e<c.length;e++){var l=c,n=e-1;if(!(55296<=l.charCodeAt(n)&&56319>=
l.charCodeAt(n)&&56320<=l.charCodeAt(n+1)&&57343>=l.charCodeAt(n+1))){l=d(a(c,e));if(b(g,k,l))return e;k.push(l)}}return c.length};this.Y4=function(c){for(var e=[],g=0,k;(k=this.KO(c,g))<c.length;)e.push(c.slice(g,k)),g=k;g<c.length&&e.push(c.slice(g));return e};this.v4=function(c){var e=0,g={next:function(){var k;if((k=this.KO(c,e))<c.length){var l=c.slice(e,k);e=k;return{value:l,done:!1}}return e<c.length?(l=c.slice(e),e=c.length,{value:l,done:!1}):{value:void 0,done:!0}}.bind(this)};"undefined"!==
typeof Symbol&&Symbol.iterator&&(g[Symbol.iterator]=function(){return g});return g};this.I3=function(c){for(var e=0,g=0,k;(k=this.KO(c,g))<c.length;)g=k,e++;g<c.length&&e++;return e};return this};"use strict";function da(a,b,d,c){var e=b[0]-a[0];b=b[1]-a[1];var g=c[0]-d[0],k=c[1]-d[1];if(0===g*b-k*e)return!1;c=(e*(d[1]-a[1])+b*(a[0]-d[0]))/(g*b-k*e);a=(g*(a[1]-d[1])+k*(d[0]-a[0]))/(k*e-g*b);return 0<=c&&1>=c&&0<=a&&1>=a}function ha(a,b,d){return(b[0]-a[0])*(d[1]-a[1])-(d[0]-a[0])*(b[1]-a[1])}
var ia=[],ja=[];function la(a,b){var d=b[0]-a[0];a=b[1]-a[1];return d*d+a*a}function I(a,b){var d=a.length;return a[0>b?b%d+d:b%d]}function ma(a,b,d,c){for(;d<c;d++)a.push(b[d])}var qa=[],ra=[];function wa(a,b,d,c){c=c||[];c.length=0;if(b<d)for(var e=b;e<=d;e++)c.push(a[e]);else{for(e=0;e<=d;e++)c.push(a[e]);for(e=b;e<a.length;e++)c.push(a[e])}return c}
function xa(a){for(var b=[],d,c,e=[],g=Number.MAX_VALUE,k=0;k<a.length;++k)if(0>ha(I(a,k-1),I(a,k),I(a,k+1)))for(var l=0;l<a.length;++l){a:{c=a;var n=k,p=l;if(0<=ha(I(c,n+1),I(c,n),I(c,p))&&0>=ha(I(c,n-1),I(c,n),I(c,p)))d=!1;else{d=la(I(c,n),I(c,p));for(var r=0;r!==c.length;++r)if((r+1)%c.length!==n&&r!==n&&0<=ha(I(c,n),I(c,p),I(c,r+1))&&0>=ha(I(c,n),I(c,p),I(c,r))){qa[0]=I(c,n);qa[1]=I(c,p);ra[0]=I(c,r);ra[1]=I(c,r+1);var w=qa;var x=ra;var z=[0,0];var F=w[1][1]-w[0][1];var C=w[0][0]-w[1][0];var G=
F*w[0][0]+C*w[0][1];var J=x[1][1]-x[0][1];w=x[0][0]-x[1][0];var K=J*x[0][0]+w*x[0][1];x=F*w-J*C;0>=Math.abs(x-0)||(z[0]=(w*G-C*K)/x,z[1]=(F*K-J*G)/x);C=z;if(la(I(c,n),C)<d){d=!1;break a}}d=!0}}if(d){d=xa(wa(a,k,l,e));c=xa(wa(a,l,k,e));for(n=0;n<c.length;n++)d.push(c[n]);d.length<g&&(b=d,g=d.length,b.push([I(a,k),I(a,l)]))}}return b}
function ya(a,b){if(0===b.length)return[a];if(b instanceof Array&&b.length&&b[0]instanceof Array&&2===b[0].length&&b[0][0]instanceof Array){a=[a];for(var d=0;d<b.length;d++)for(var c=b[d],e=0;e<a.length;e++){var g=ya(a[e],c);if(g){a.splice(e,1);a.push(g[0],g[1]);break}}return a}c=b;d=a.indexOf(c[0]);e=a.indexOf(c[1]);return-1!==d&&-1!==e?[wa(a,d,e),wa(a,e,d)]:!1}
function za(a,b,d,c){var e=b[1]-a[1];b=a[0]-b[0];a=e*a[0]+b*a[1];var g=c[1]-d[1];c=d[0]-c[0];d=g*d[0]+c*d[1];var k=e*c-g*b;return 0>=Math.abs(k-0)?[0,0]:[(c*a-b*d)/k,(e*d-g*a)/k]}
function Aa(a,b,d,c,e,g,k){g=g||100;k=k||0;e=e||25;b="undefined"!==typeof b?b:[];d=d||[];c=c||[];var l=[0,0],n=[0,0],p=[0,0],r,w=0,x=0,z=0,F=[],C=[];if(3>a.length)return b;k++;if(k>g)return console.warn("quickDecomp: max level ("+g+") reached."),b;for(var G=0;G<a.length;++G)if(0>ha(I(a,G-1),I(a,G),I(a,G+1))){d.push(a[G]);var J=r=Number.MAX_VALUE;for(var K=0;K<a.length;++K){if(0<ha(I(a,G-1),I(a,G),I(a,K))&&0>=ha(I(a,G-1),I(a,G),I(a,K-1))&&(p=za(I(a,G-1),I(a,G),I(a,K),I(a,K-1)),0>ha(I(a,G+1),I(a,G),
p))){var O=la(a[G],p);O<r&&(r=O,n=p,x=K)}0<ha(I(a,G+1),I(a,G),I(a,K+1))&&0>=ha(I(a,G+1),I(a,G),I(a,K))&&(p=za(I(a,G+1),I(a,G),I(a,K),I(a,K+1)),0<ha(I(a,G-1),I(a,G),p)&&(O=la(a[G],p),O<J&&(J=O,l=p,w=K)))}if(x===(w+1)%a.length)p[0]=(n[0]+l[0])/2,p[1]=(n[1]+l[1])/2,c.push(p),G<w?(ma(F,a,G,w+1),F.push(p),C.push(p),0!==x&&ma(C,a,x,a.length),ma(C,a,0,G+1)):(0!==G&&ma(F,a,G,a.length),ma(F,a,0,w+1),F.push(p),C.push(p),ma(C,a,x,G+1));else{x>w&&(w+=a.length);l=Number.MAX_VALUE;if(w<x)return b;for(K=x;K<=w;++K)if(0<=
ha(I(a,G-1),I(a,G),I(a,K))&&0>=ha(I(a,G+1),I(a,G),I(a,K))){O=la(I(a,G),I(a,K));if(x=O<l)a:{for(x=0;x!==a.length;++x)if(x!==G&&x!==K&&(x+1)%a.length!==G&&(x+1)%a.length!==K&&da(I(a,G),I(a,K),I(a,x),I(a,x+1))){x=!1;break a}x=!0}x&&(l=O,z=K%a.length)}G<z?(ma(F,a,G,z+1),0!==z&&ma(C,a,z,a.length),ma(C,a,0,G+1)):(0!==G&&ma(F,a,G,a.length),ma(F,a,0,z+1),ma(C,a,z,G+1))}F.length<C.length?(Aa(F,b,d,c,e,g,k),Aa(C,b,d,c,e,g,k)):(Aa(C,b,d,c,e,g,k),Aa(F,b,d,c,e,g,k));return b}b.push(a);return b}
self.Bia={Gga:function(a){var b=xa(a);return 0<b.length?ya(a,b):[a]},Hia:Aa,Eha:function(a){var b;for(b=0;b<a.length-1;b++)for(var d=0;d<b-1;d++)if(da(a[b],a[b+1],a[d],a[d+1]))return!1;for(b=1;b<a.length-2;b++)if(da(a[0],a[a.length-1],a[b],a[b+1]))return!1;return!0},Nia:function(a,b){for(var d=0,c=a.length-1;3<a.length&&0<=c;--c){var e=I(a,c-1);var g=I(a,c),k=I(a,c+1),l=b;l?(ia[0]=g[0]-e[0],ia[1]=g[1]-e[1],ja[0]=k[0]-g[0],ja[1]=k[1]-g[1],e=Math.acos((ia[0]*ja[0]+ia[1]*ja[1])/(Math.sqrt(ia[0]*ia[0]+
ia[1]*ia[1])*Math.sqrt(ja[0]*ja[0]+ja[1]*ja[1])))<l):e=0===ha(e,g,k);e&&(a.splice(c%a.length,1),d++)}return d},Oia:function(a,b){for(var d=a.length-1;1<=d;--d)for(var c=a[d],e=d-1;0<=e;--e){var g=c,k=a[e];Math.abs(g[0]-k[0])<=(b||0)&&Math.abs(g[1]-k[1])<=(b||0)&&a.splice(d,1)}},eia:function(a){for(var b=0,d=1;d<a.length;++d)if(a[d][1]<a[b][1]||a[d][1]===a[b][1]&&a[d][0]>a[b][0])b=d;if(0<ha(I(a,b-1),I(a,b),I(a,b+1)))return!1;b=[];d=a.length;for(var c=0;c!==d;c++)b.push(a.pop());for(c=0;c!==d;c++)a[c]=
b[c];return!0}};"use strict";const Ba=self.D=class{constructor(){throw TypeError("static class can't be instantiated");}};Ba.CB=!1;Ba.vO=!1;Ba.hardwareConcurrency=navigator.hardwareConcurrency||2;self.Gf={};"use strict";const Ca=self.D;
Ca.CQ=class{constructor(a){this.S2=a;this.Ia=new Map;a=this.S2;if(a.startsWith("?")||a.startsWith("#"))a=a.substr(1);a=a.split("&");for(const d of a)if(d)if(d.includes("=")){var b=d.indexOf("=");a=decodeURIComponent(d.substring(0,b));b=decodeURIComponent(d.substring(b+1));this.Ia.set(a,b)}else this.Ia.set(d,null)}Ox(a){return this.Ia.has(a)}ba(a){a=this.Ia.get(a);return"undefined"===typeof a?null:a}};Ca.UC=new Ca.CQ(location.search);Ca.e$=new Ca.CQ(location.hash);Ca.UC.Ox("perf")&&(Ca.xO=!0);Ca.UC.ba("mode");
"use strict";const L=self.D;L.Z={je:"(unknown)",qu:"(unknown)",xb:"(unknown)",nh:"(unknown)",sP:NaN,ei:"(unknown)",Im:"browser",jI:!0,To:!1,GY:!1,JY:!1,MX:async()=>{}};const Da=new Map([[5,"2000"],[5.1,"XP"],[5.2,"XP"],[6,"Vista"],[6.1,"7"],[6.2,"8"],[6.3,"8.1"],[10,"10"]]);function Ea(a){const b=parseFloat(a),d=Da.get(b);return d?d:13<=b?"11":"NT "+a}const Fa=navigator.userAgent,Ga=navigator.userAgentData;
if(Ga&&0<Ga.brands.length){L.Z.je=Ga.platform;L.Z.To=Ga.mobile;L.Z.jI=!L.Z.To;const a=new Map([["Google Chrome","Chrome"],["Microsoft Edge","Edge"],["Opera","Opera"],["Opera GX","Opera GX"],["Mozilla Firefox","Firefox"],["Apple Safari","Safari"],["NW.js","NW.js"]]),b=new Map([["Chromium","Chromium"],["Gecko","Gecko"],["WebKit","WebKit"]]);function d(e){let g="",k="",l="",n="";for(const p of e)e=a.get(p.brand),!g&&e&&(g=e,k=p.version),e=b.get(p.brand),!l&&e&&(l=e,n=p.version);g||"Chromium"!==l||(L.Z.xb=
"Chromium",L.Z.nh=n);L.Z.xb=g||"(unknown)";L.Z.nh=k||"(unknown)";L.Z.ei=l||"(unknown)"}d(Ga.brands);let c=!1;L.Z.MX=async()=>{if(!c)try{const e=await navigator.userAgentData.getHighEntropyValues(["platformVersion","fullVersionList"]);d(e.fullVersionList);L.Z.qu="Windows"===L.Z.je?Ea(e.platformVersion):e.platformVersion;c=!0}catch(e){console.warn("Failed to get detailed user agent information: ",e)}}}else{function a(p,r){p=Array.isArray(p)?p:[p];for(const w of p)if(p=w.exec(Fa)){r(p);break}}a(/windows\s+nt\s+([\d\.]+)/i,
p=>{L.Z.je="Windows";L.Z.qu=Ea(p[1])});a(/mac\s+os\s+x\s+([\d\._]+)/i,p=>{L.Z.je="macOS";L.Z.qu=p[1].replace(/_/g,".")});a(/CrOS/,()=>{L.Z.je="Chrome OS"});a(/linux|openbsd|freebsd|netbsd/i,()=>{L.Z.je="Linux"});a(/android/i,()=>{L.Z.je="Android"});a(/android\s+([\d\.]+)/i,p=>{L.Z.je="Android";L.Z.qu=p[1]});"(unknown)"===L.Z.je&&(a(/(iphone|ipod|ipad)/i,()=>{L.Z.je="iOS"}),a([/iphone\s+os\s+([\d\._]+)/i,/ipad[^)]*os\s+([\d\._]+)/i],p=>{L.Z.je="iOS";L.Z.qu=p[1].replace(/_/g,".")}));const b=/chrome\//i.test(Fa),
d=/chromium\//i.test(Fa),c=/edg\//i.test(Fa),e=/OPR\//.test(Fa),g=/nwjs/i.test(Fa),k=/safari\//i.test(Fa),l=/webkit/i.test(Fa);c||e||a(/chrome\/([\d\.]+)/i,p=>{L.Z.xb="Chrome";L.Z.nh=p[1];L.Z.ei="Chromium"});a(/edg\/([\d\.]+)/i,p=>{L.Z.xb="Edge";L.Z.nh=p[1];L.Z.ei="Chromium"});a(/OPR\/([\d\.]+)/,p=>{L.Z.xb="Opera";L.Z.nh=p[1];L.Z.ei="Chromium"});a(/chromium\/([\d\.]+)/i,p=>{L.Z.xb="Chromium";L.Z.nh=p[1];L.Z.ei="Chromium"});a(/nwjs\/[0-9.]+/i,p=>{L.Z.xb="NW.js";L.Z.nh=p[1];L.Z.ei="Chromium";L.Z.Im=
"nwjs"});a(/firefox\/([\d\.]+)/i,p=>{L.Z.xb="Firefox";L.Z.nh=p[1];L.Z.ei="Gecko"});!k||b||d||c||e||g||(L.Z.xb="Safari",L.Z.ei="WebKit",a(/version\/([\d\.]+)/i,p=>{L.Z.nh=p[1]}),a(/crios\/([\d\.]+)/i,p=>{L.Z.xb="Chrome for iOS";L.Z.nh=p[1]}),a(/fxios\/([\d\.]+)/i,p=>{L.Z.xb="Firefox for iOS";L.Z.nh=p[1]}),a(/edgios\/([\d\.]+)/i,p=>{L.Z.xb="Edge for iOS";L.Z.nh=p[1]}));"(unknown)"===L.Z.ei&&l&&(L.Z.ei="WebKit");"Android"===L.Z.je&&"Safari"===L.Z.xb&&(L.Z.xb="Stock");const n=(new Set(["Windows","macOS",
"Linux","Chrome OS"])).has(L.Z.je)||"nwjs"===L.Z.Im;L.Z.jI=n;L.Z.To=!n}"Chrome"===L.Z.xb&&"browser"===L.Z.Im&&/wv\)/.test(Fa)&&(L.Z.Im="webview");"nwjs"!==L.Z.Im&&"undefined"!==typeof window&&(window.matchMedia&&window.matchMedia("(display-mode: standalone)").matches||navigator.standalone)&&(L.Z.Im="webapp");L.Z.sP=parseFloat(L.Z.nh);"macOS"===L.Z.je&&navigator.maxTouchPoints&&2<navigator.maxTouchPoints&&(L.Z.je="iOS",L.Z.qu=L.Z.nh,L.Z.jI=!1,L.Z.To=!0,L.Z.JY=!0);L.Z.GY="macOS"===L.Z.je||"iOS"===L.Z.je;
"use strict";const Ha=new Map,Ia="undefined"!==typeof IDBObjectStore&&"function"===typeof IDBObjectStore.prototype.getAll,La="undefined"!==typeof IDBObjectStore&&"function"===typeof IDBObjectStore.prototype.getAllKeys;function Ma(a){return new Promise((b,d)=>{a.onsuccess=()=>b(a.result);a.onerror=()=>d(a.error)})}function Na(a){return new Promise((b,d)=>{a.oncomplete=()=>b();a.onerror=()=>d(a.error);a.onabort=()=>d(a.error)})}function Oa(a,b){return Pa(a,b)}function Qa(a,b){return Pa(a,b,!0)}
async function Pa(a,b,d=!1,c=!0){const e=await Ra(a);try{const g=e.transaction(["keyvaluepairs"],d?"readwrite":"readonly");return b(g)}catch(g){if(c&&"InvalidStateError"===g.name)return Ha.delete(a),Pa(a,b,d,!1);throw g;}}function Ra(a){Sa(a);let b=Ha.get(a);b instanceof Promise||(b=Ta(a),Ha.set(a,b),b.catch(()=>Ha.delete(a)));return b}
async function Ta(a){Sa(a);const b=indexedDB.open(a,2);b.addEventListener("upgradeneeded",d=>{try{d.target.result.createObjectStore("keyvaluepairs")}catch(c){console.error(`Failed to create objectstore for database ${a}`,c)}});return Ma(b)}function Sa(a){if("string"!==typeof a)throw new TypeError("expected string");}
function Ua(a,b){const d=a.objectStore("keyvaluepairs").openCursor();return new Promise(c=>{const e=[];d.onsuccess=g=>{if(g=g.target.result){switch(b){case "entries":e.push([g.key,g.value]);break;case "keys":e.push(g.key);break;case "values":e.push(g.value)}g.continue()}else c(e)}})}
class Va{constructor(a){Sa(a);this.name=a}async ready(){await Ra(this.name)}set(a,b){Sa(a);return Qa(this.name,async d=>{var c=d.objectStore("keyvaluepairs").put(b,a);c=Ma(c);d=Na(d);await Promise.all([d,c])})}get(a){Sa(a);return Oa(this.name,async b=>{var d=b.objectStore("keyvaluepairs").get(a);d=Ma(d);b=Na(b);[,b]=await Promise.all([b,d]);return b})}delete(a){Sa(a);return Qa(this.name,async b=>{var d=b.objectStore("keyvaluepairs").delete(a);d=Ma(d);b=Na(b);await Promise.all([b,d])})}clear(){return Qa(this.name,
async a=>{var b=a.objectStore("keyvaluepairs").clear();b=Ma(b);a=Na(a);await Promise.all([a,b])})}keys(){return Oa(this.name,async a=>{if(La){var b=a.objectStore("keyvaluepairs").getAllKeys();b=Ma(b)}else b=Ua(a,"keys");a=Na(a);[,a]=await Promise.all([a,b]);return a})}values(){return Oa(this.name,async a=>{if(Ia){var b=a.objectStore("keyvaluepairs").getAll();b=Ma(b)}else b=Ua(a,"values");a=Na(a);[,a]=await Promise.all([a,b]);return a})}entries(){return Oa(this.name,async a=>{var b=Ua(a,"entries");
a=Na(a);[,b]=await Promise.all([a,b]);return b})}}self.RY=Va;"use strict";const Wa=self.RY,Xa=[/no available storage method found/i,/an attempt was made to break through the security policy of the user agent/i,/the user denied permission to access the database/i,/a mutation operation was attempted on a database that did not allow mutations/i,/idbfactory\.open\(\) called in an invalid security context/i],Ya=new WeakMap;let Za=!1;"undefined"===typeof indexedDB&&(Za=!0,console.warn("Unable to use local storage because indexedDB is not defined"));
function $a(a){throw Error(`"${a}" is not implemented`);}function ab(a){if("function"===typeof a)throw Error("localforage callback API is not implemented; please use the promise API instead");}function cb(a){return"object"===typeof a?new Promise(b=>{const {port1:d,port2:c}=new MessageChannel;c.onmessage=e=>b(e.data);d.postMessage(a)}):Promise.resolve(a)}
function db(a){if(!Za)for(const b of Xa)if(a&&b.test(a.message)){console.error("Unable to use local storage, reverting to in-memory store: ",a,a.message);Za=!0;break}}async function eb(a,b){a=Ya.get(a).get(b);a=await cb(a);return"undefined"===typeof a?null:a}async function kb(a,b,d){d=await cb(d);Ya.get(a).set(b,d)}
class lb{constructor(a){this.L=a;Ya.set(this,new Map)}async getItem(a,b){ab(b);if(Za)return await eb(this,a);let d;try{d=await this.L.get(a)}catch(c){db(c);if(Za)return await eb(this,a);console.error(`Error reading '${a}' from storage, returning null: `,c);return null}return"undefined"===typeof d?null:d}async setItem(a,b,d){ab(d);"undefined"===typeof b&&(b=null);if(Za)await kb(this,a,b);else try{await this.L.set(a,b)}catch(c){if(db(c),Za)await kb(this,a,b);else throw c;}}async removeItem(a,b){ab(b);
if(Za)Ya.get(this).delete(a);else try{await this.L.delete(a)}catch(d){db(d),Za?Ya.get(this).delete(a):console.error(`Error removing '${a}' from storage: `,d)}}async clear(a){ab(a);if(Za)Ya.get(this).clear();else try{await this.L.clear()}catch(b){db(b),Za?Ya.get(this).clear():console.error("Error clearing storage: ",b)}}async keys(a){ab(a);if(Za)return Array.from(Ya.get(this).keys());a=[];try{a=await this.L.keys()}catch(b){db(b);if(Za)return Array.from(Ya.get(this).keys());console.error("Error getting storage keys: ",
b)}return a}ready(a){ab(a);return Za?Promise.resolve(!0):this.L.ready()}jO(a){if("object"!==typeof a)throw new TypeError("invalid options object");a=a.name;if("string"!==typeof a)throw new TypeError("invalid store name");a=new Wa(a);return new lb(a)}length(){$a("localforage.length()")}key(){$a("localforage.key()")}iterate(){$a("localforage.iterate()")}config(){$a("localforage.config()")}supports(){$a("localforage.supports()")}dropInstance(){$a("localforage.dropInstance()")}}self.localforage=new lb(new Wa("localforage"));
"use strict";const mb=self.D;mb.vb={};mb.vb.Kfa=(()=>{try{if("undefined"===typeof document)return!1;const a=document.createElement("div");return"undefined"===typeof a.animate?!1:"undefined"!==typeof a.animate([{opacity:"0"},{opacity:"1"}],1E3).reverse}catch(a){return!1}})();mb.vb.y7="undefined"!==typeof HTMLDialogElement;mb.vb.vba=!!self.requestIdleCallback;mb.vb.ImageBitmap=!!self.createImageBitmap;mb.vb.ImageBitmapOptions=!1;mb.vb.EC=!1;
if(mb.vb.ImageBitmap){try{self.createImageBitmap(new ImageData(32,32),{premultiplyAlpha:"none"}).then(()=>{mb.vb.ImageBitmapOptions=!0}).catch(()=>{mb.vb.ImageBitmapOptions=!1})}catch(a){mb.vb.ImageBitmapOptions=!1}try{self.createImageBitmap(new ImageData(32,32),{resizeWidth:10,resizeHeight:10}).then(a=>{mb.vb.EC=10===a.width&&10===a.height}).catch(()=>{mb.vb.EC=!1})}catch(a){mb.vb.EC=!1}}mb.vb.Q6=!(!navigator.clipboard||!navigator.clipboard.readText||"Firefox"===mb.Z.xb);
mb.vb.x_=!(!navigator.permissions||!navigator.permissions.query);mb.vb.wP=!1;mb.vb.x_&&navigator.permissions.query({name:"clipboard-read"}).then(()=>{mb.vb.wP=!0}).catch(()=>{mb.vb.wP=!1});mb.vb.s6=!!(navigator.permissions&&navigator.clipboard&&self.ClipboardItem);mb.vb.BQ="undefined"!==typeof Proxy;mb.vb.B7="undefined"===typeof document?!1:"undefined"!==typeof document.createElement("a").download;mb.vb.R7="function"===typeof fetch;
mb.vb.naa=!!(self.isSecureContext&&"Opera"!==mb.Z.xb&&navigator.storage&&navigator.storage.persist);mb.vb.Jea=!!(self.isSecureContext&&navigator.storage&&navigator.storage.estimate);var nb;if("undefined"===typeof document||"iOS"===mb.Z.je)nb=!1;else{var ob=document.documentElement;nb=!!(ob.requestFullscreen||ob.msRequestFullscreen||ob.mozRequestFullScreen||ob.webkitRequestFullscreen)}mb.vb.a8=nb;mb.vb.D8="undefined"!==typeof self.ImageDecoder;mb.vb.Lfa=!!self.VideoEncoder;mb.vb.z$=!!self.showOpenFilePicker;
mb.vb.fba=!!self.queryLocalFonts;mb.vb.UserActivation=!!navigator.userActivation;mb.vb.vP=!1;(async()=>{let a;"undefined"===typeof document?a=new OffscreenCanvas(32,32):(a=document.createElement("canvas"),a.width=32,a.height=32);var b=a.getContext("2d");b.fillStyle="blue";b.fillRect(0,0,32,32);b=null;try{a.convertToBlob?b=await a.convertToBlob({type:"image/webp",quality:1}):a.toBlob&&(b=await new Promise(d=>a.toBlob(d,"image/webp",1))),mb.vb.vP=b&&"image/webp"===b.type}catch(d){mb.vb.vP=!1}})();"use strict";
const qb=self.D;if(!String.prototype.trimStart){const a=/^[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]*/;String.prototype.trimStart=function(){return this.replace(a,"")}}
if(!String.prototype.trimEnd){const a=/[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]*$/;String.prototype.trimEnd=function(){return this.replace(a,"")}}String.prototype.replaceAll||(String.prototype.replaceAll=function(a,b){return this.replace(new RegExp(qb.ox(a),"g"),b)});Array.prototype.values||(Array.prototype.values=function*(){for(const a of this)yield a});
if(!Array.prototype.flat){function a(b,d){return b.reduce((c,e)=>{0<d&&Array.isArray(e)?Array.prototype.push.apply(c,a(e,d-1)):c.push(e);return c},[])}Array.prototype.flat=function(b=1){return a(this,b)}}Array.prototype.at||(Array.prototype.at=function(a){a=Math.trunc(a)||0;0>a&&(a+=this.length);if(!(0>a||a>=this.length))return this[a]});String.prototype.at||(String.prototype.at=function(a){a=Math.trunc(a)||0;0>a&&(a+=this.length);if(!(0>a||a>=this.length))return this[a]});
RegExp.escape||(RegExp.escape=function(a){return String(a).replace(/[\\^$*+?.()|[\]{}]/g,"\\$&")});navigator.storage&&!navigator.storage.estimate&&navigator.webkitTemporaryStorage&&navigator.webkitTemporaryStorage.queryUsageAndQuota&&(navigator.storage.estimate=function(){return new Promise((a,b)=>navigator.webkitTemporaryStorage.queryUsageAndQuota((d,c)=>a({usage:d,quota:c}),b))});"undefined"===typeof self.isSecureContext&&(self.isSecureContext="https:"===location.protocol);
"undefined"===typeof self.globalThis&&(self.globalThis=self);"use strict";const rb=self.D;self.assert=function(a,b){a||console.error("Assertion failure: "+b+"\n\nStack trace:\n"+rb.mC())};"use strict";const P=self.D,sb=self.Gf;P.Uo=function(a){return"number"===typeof a};P.Xb=function(a){return P.Uo(a)&&isFinite(a)};P.yh=function(a){if(!P.Uo(a))throw new TypeError("expected number");};P.KQ=function(){};
P.Tba=function(a,b,d){if(!P.Uo(a)||isNaN(a)||b>a||d<a)throw new RangeError("number outside of range");};P.Fba=function(...a){for(let b of a);};P.Ud=function(a){if(!P.Xb(a))throw new TypeError("expected finite number");};P.HQ=function(){};P.Cba=function(...a){for(let b of a);};P.kj=function(a){return"string"===typeof a};P.kf=function(a){if(!P.kj(a))throw new TypeError("expected string");};P.MQ=function(){};P.Hba=function(...a){for(let b of a);};
P.cQ=function(a){return"object"!==typeof a||null===a?!1:(a=Object.getPrototypeOf(a))?a.constructor===Object:null===a};P.fca=function(a){if(!P.cQ(a))throw new TypeError("expected simple object");};P.cca=function(a){if(!P.Lf(a)&&!P.cQ(a))throw new TypeError("expected simple object");};P.bQ=function(a){return"object"===typeof a&&null!==a&&!Array.isArray(a)};P.FQ=function(a){if(!P.bQ(a))throw new TypeError("expected object");};P.LQ=function(){};P.Gba=function(...a){for(let b of a);};
P.kI=function(a){return P.aJ(a,Blob)&&"string"===typeof a.name};P.Rba=function(a){if(!P.kI(a))throw new TypeError("expected file");};P.aca=function(){};P.Gl=function(a){return Array.isArray(a)};P.FI=function(a){if(!P.Gl(a))throw new TypeError("expected array");};P.GQ=function(){};P.Bba=function(...a){for(let b of a);};P.FY=function(a){return P.Gl(a)?a.length?P.Gl(a[0])?!0:!1:!0:!1};
P.Aba=function(a){if(!P.FY(a))throw new TypeError("expected 2d array");for(let b of a)if(!P.Gl(b))throw new TypeError("expected 2d array");};P.Uba=function(){};P.lI=function(a){return"function"===typeof a};P.Jl=function(a,b){if(!P.lI(a))throw new TypeError("expected function");if(!P.Lf(b)&&a!==b)throw new TypeError("expected same function reference");};P.IQ=function(){};P.Dba=function(...a){for(let b of a);};
P.Jba=function(a,...b){if(!P.lI(a))throw new TypeError("expected function");if(!b.length)throw Error("missing comparison functions");for(let d of b)if(!P.Lf(d)&&a===d)return;throw new TypeError("expected same function reference");};P.Vba=function(...a){if(!P.Lf(a))for(let b of a);};P.pr=function(a,b){return a instanceof b};P.$P=function(a,...b){for(let d of b)if(P.pr(a,d))return!0;return!1};P.GI=function(a,b){if(!P.pr(a,b))throw new TypeError("unexpected type");};P.JQ=function(){};
P.Eba=function(a,...b){for(let d of b);};P.Kba=function(a,...b){if(!P.$P(a,...b))throw new TypeError("unexpected type");};P.Lba=function(a,...b){if(!P.Lf(a)&&!P.$P(a,...b))throw new TypeError("unexpected type");};P.V8=function(a,b){for(let d of a)if(!P.pr(d,b))return!1;return!0};P.W8=function(a){for(let b of a)if(!P.Xb(b))return!1;return!0};P.Mba=function(a){for(let b of a);};P.Wba=function(a){if(!P.Lf(a))for(let b of a);};P.Nba=function(a){for(let b of a);};
P.Xba=function(a){if(!P.Lf(a))for(let b of a);};P.b9=function(a,b){return P.Lf(a)||!P.kj(a.nodeName)?!1:!b||P.kh(a.nodeName,b)};P.Oba=function(a,b){if(P.Lf(a)||!P.kj(a.nodeName))throw new TypeError("expected DOM node");if(b&&!P.kh(a.nodeName,b))throw new TypeError(`expected DOM '${b}' node`);};P.Yba=function(){};P.mI=function(a,b){return P.Lf(a)||!P.kj(a.tagName)?!1:!b||P.kh(a.tagName,b)};
P.Sba=function(a,b){if(P.Lf(a)||!P.kj(a.tagName))throw new TypeError("expected HTML element");if(b&&!P.kh(a.tagName,b))throw new TypeError(`expected HTML '${b}' element`);};P.bca=function(){};P.YP=function(a){return P.mI(a,"img")||P.mI(a,"canvas")||P.mI(a,"video")||"undefined"!==typeof OffscreenCanvas&&a instanceof OffscreenCanvas||"undefined"!==typeof ImageBitmap&&a instanceof ImageBitmap};P.Pba=function(a){if(!P.YP(a))throw new TypeError("expected drawable");};P.Zba=function(){};
P.ZP=function(a){return a instanceof ImageData?!0:P.YP(a)};P.Qba=function(a){if(!P.ZP(a))throw new TypeError("expected drawable or image data");};P.$ba=function(a){if(!P.Lf(a)&&!P.ZP(a))throw new TypeError("expected drawable or image data");};P.NY=function(a){return"string"===typeof a||P.CC&&a instanceof P.CC||a instanceof P.Xt};P.gca=function(a){if(!P.NY(a))throw new TypeError("expected string-like");};P.dca=function(){};P.Iba=function(...a){for(let b of a);};
P.eca=function(){throw Error("must be overridden");};P.C$=function(){throw Error("not yet implemented");};P.d9=function(a,...b){if("undefined"===typeof a)return!1;for(let d of b){if("undefined"===typeof a[d])return!1;a=a[d]}return!0};P.Lf=function(a){return"undefined"===typeof a||null===a};P.q6=function(a){let b=a[0].constructor;for(let d of a)if(d.constructor!==b)return!1;return b};P.r6=function(a,b){for(let d of a)if(!(d instanceof b))return!1;return!0};const tb=Object.getPrototypeOf(Uint8Array);
P.J9=function(a){return P.pr(a,tb)};P.hca=function(){};P.Jfa=function(a){P.L0(a)};P.Ifa=function(a,...b){if(!P.K0(a,...b))throw new TypeError("unexpected type");};P.K0=function(a,...b){for(const d of b)if(P.aJ(a,d))return!0;return!1};P.L0=function(a){if(!P.aJ(a,tb))throw new TypeError("unexpected type");};P.aJ=function(a,b){for(;a=Object.getPrototypeOf(a);)if(a.constructor.name===b.name)return!0;return!1};sb.yh=P.yh;sb.KQ=P.KQ;sb.Ud=P.Ud;sb.HQ=P.HQ;sb.kf=P.kf;sb.MQ=P.MQ;sb.FQ=P.FQ;sb.LQ=P.LQ;
sb.FI=P.FI;sb.GQ=P.GQ;sb.Jl=P.Jl;sb.IQ=P.IQ;sb.GI=P.GI;sb.JQ=P.JQ;sb.Lf=P.Lf;"use strict";const ub=self.D,vb=new Map;ub.T6=function(a,b){console.log(`%c${a}`,`font-weight: bold; color:${b}`)};ub.iba=function(a,...b){vb.has(a)||vb.set(a,-1);-1===vb.get(a)&&vb.set(a,requestAnimationFrame(()=>{console.log(`%c${a}`,"font-weight: bold",...b);vb.set(a,-1)}))};let wb;ub.Gea=function(a){performance.mark(a);wb||(wb=new Map);wb.has(a)||wb.set(a,{current:0,total:0,cV:0,dO:1,toString:function(){return`${a} :: current => ${this.current.toPrecision(3)} :: average => ${this.cV.toPrecision(3)} :: calls => ${this.dO}`}})};
ub.H7=function(a){performance.measure(`measure-${a}`,a);const b=performance.getEntriesByName(`measure-${a}`)[0],d=wb.get(a);d.current=b.duration;d.total+=d.current;d.cV=d.total/d.dO;console.log(d.toString());d.dO++;performance.clearMarks(a);performance.clearMeasures(`measure-${a}`)};ub.mC=function(){return Error().stack};ub.v7=function(){debugger};ub.uga=function(a,b){return a&&a instanceof b?a:null};
ub.Em=function(a){return"undefined"===typeof a?"undefined":null===a?"null":"boolean"===typeof a?"<boolean>":ub.Uo(a)?"<number>":ub.kj(a)?"<string>":ub.Gl(a)?"<array>":"symbol"===typeof a?"<"+a.toString()+">":ub.lI(a)?a.name&&"Function"!==a.name?a.name:"<anonymous function>":"object"===typeof a?a.constructor&&a.constructor.name&&"Object"!==a.constructor.name?a.constructor.name:"<anonymous object>":"<unknown>"};ub.getType=function(a){return null===a?"null":Array.isArray(a)?"array":typeof a};
ub.range=function*(a,b){if(!isFinite(Math.abs(a-b)))throw Error("Invalid parameters");if(a>b)for(--a;a>=b;a--)yield a;else for(;a<b;a++)yield a};let xb=new Map,yb=new Map,zb=new WeakMap,Cb=new WeakMap;ub.$t={};const Db=new Set(["then","splice"]);function Eb(a){console.warn("[Defence] "+a+" @",ub.mC())}
ub.$t.get=function(a,b){b in a||"symbol"===typeof b||Db.has(b)||Eb(`Accessed missing property '${b}' from defended object '${ub.Em(a)}', returning undefined`);Cb.has(a)&&"symbol"!==typeof b&&!Db.has(b)&&Eb(`Accessed property '${b}' on a released object '${ub.Em(a)}'\nObject was originally released at: ${Cb.get(a)})\nCall stack at access: `);return a[b]};
ub.$t.set=function(a,b,d){b in a||xb.has(a)||Eb(`Set non-existent property '${b}' to '${d}' on defended object '${ub.Em(a)}'`);let c=ub.getType(a[b]),e=ub.getType(d);"null"===c||"null"===e||("undefined"===c||"undefined"===e?0:c===e)||xb.has(a)||Eb(`Set '${ub.getType(a[b])}' property '${b}' to type '${ub.getType(d)}' on defended object '${ub.Em(a)}'`);Cb.has(a)&&Eb(`Set property '${b}' on a released object '${ub.Em(a)}'\nObject was originally released at: ${Cb.get(a)})\nCall stack at access: `);a[b]=
d;return!0};ub.$t.deleteProperty=function(a,b){throw new ReferenceError(`Cannot delete property '${b}' from defended object '${ub.Em(a)}'`);};ub.$t.defineProperty=function(a,b){throw new ReferenceError(`Cannot define property '${b}' on defended object '${ub.Em(a)}'`);};ub.$t.Rga=function(a){throw new ReferenceError(`Cannot enumerate defended object '${ub.Em(a)}'`);};let Fb=-1;
function Jb(){Fb=-1;if(0<xb.size||0<yb.size){let a=[...(new Set([...xb.keys()].map(b=>ub.Em(b))))].join();console.warn(`An object derived from DefendedBase was not protected with debugDefend(). This will disable some checks. See the coding guidelines! Possible affected class names: ${a}`);xb.clear();yb.clear()}}
ub.Ca=class{constructor(){if(ub.vO&&ub.vb.BQ){var a=new.target;a=Object.create(a.prototype);var b=new Proxy(a,ub.$t);xb.set(a,b);yb.set(b,a);zb.set(b,a);-1===Fb&&(Fb=requestAnimationFrame(Jb));return b}}};ub.L3=function(a){if(ub.vO&&ub.vb.BQ&&a instanceof ub.Ca){if(!yb.has(a))return a;let b=yb.get(a);yb.delete(a);xb.delete(b);return a}return ub.CB?Object.seal(a):a};
ub.C=function(a,...b){let d;try{d=new a(...b)}catch(g){throw yb.clear(),xb.clear(),g;}if(ub.vO){b=d;var c=new Set;for(e in b)c.add(e);var e=c;if(b=Kb.get(a)){c=[];for(let g of b.values())e.has(g)?e.delete(g):c.push(g);ub.Bm(c,[...e]);c.length&&console.warn(`[Defence] '${ub.Em(a)}' constructor creates inconsistent properties: ${c.join(", ")}`)}else Kb.set(a,e)}return ub.L3(d)};ub.A=function(a){(a=zb.get(a))&&Cb.set(a,ub.mC())};ub.vk=function(){let a=zb.get(void 0);return a?!!Cb.get(a):!1};let Kb=new Map;
ub.laa=class{constructor(a){this.Sa="";a&&this.start(a)}start(a){ub.xO&&(this.Sa=a,performance.mark(this.Sa+"-Start"))}end(){ub.xO&&(performance.mark(this.Sa+"-End"),performance.measure(this.Sa,this.Sa+"-Start",this.Sa+"-End"))}next(a){ub.xO&&(this.end(),this.Sa=a,performance.mark(this.Sa+"-Start"))}};"use strict";const Q=self.D,Lb=2*Math.PI,Mb=Math.PI/180,Nb=180/Math.PI;
Q.wrap=function(a,b,d){a=Math.floor(a);b=Math.floor(b);d=Math.floor(d);const c=d-b;return 0===c?d:a<b?(a=d-(b-a)%c,a===d?0:a):b+(a-b)%c};Q.B4=function(a,b,d,c){return(a-b)*(c-0)/(d-b)};Q.normalize=function(a,b,d){return 0===b-d?1:(a-b)/(d-b)};Q.$=function(a,b,d){return a<b?b:a>d?d:a};Q.Ed=function(a){a%=Lb;0>a&&(a+=Lb);return a};Q.Ta=function(a){return a*Mb};Q.Gd=function(a){return a*Nb};Q.ci=function(a,b,d,c){return Math.hypot(d-a,c-b)};Q.$G=function(a,b,d,c){a=d-a;b=c-b;return a*a+b*b};
Q.Do=function(a,b,d,c){return Math.atan2(c-b,d-a)};Q.Rq=function(a,b){if(a===b)return 0;a=Math.sin(a)*Math.sin(b)+Math.cos(a)*Math.cos(b);return 1<=a?0:-1>=a?Math.PI:Math.acos(a)};Q.TG=function(a,b,d){let c=Math.sin(a),e=Math.cos(a),g=Math.sin(b),k=Math.cos(b);return Math.acos(c*g+e*k)>d?0<e*g-c*k?Q.Ed(a+d):Q.Ed(a-d):Q.Ed(b)};Q.Ig=function(a,b){return 0>=Math.cos(a)*Math.sin(b)-Math.sin(a)*Math.cos(b)};Q.bO=function(a,b,d,c=0){let e=Q.Rq(a,b);c*=Lb;return Q.Ig(b,a)?Q.Ed(a+(e+c)*d):Q.Ed(a-(e+c)*d)};
Q.o3=function(a,b,d,c=0){const e=Q.Rq(a,b);c*=Lb;return Q.Ig(b,a)?Q.Ed(a+(e+c)*d):Q.Ed(a+(Lb-e+c)*d)};Q.n3=function(a,b,d,c=0){const e=Q.Rq(a,b);c*=Lb;return Q.Ig(b,a)?Q.Ed(a-(-Lb+e-c)*d):Q.Ed(a-(e+c)*d)};Q.aV=function(a,b){const d=Q.Rq(a,b);return Q.Ig(a,b)?Q.Ed(b-d):Q.Ed(b+d)};Q.Ef=function(a,b,d){return a+d*(b-a)};Q.sH=function(a,b,d){return a===b?0:(d-a)/(b-a)};Q.Mia=function(a,b,d,c,e){return Q.Ef(c,e,Q.sH(a,b,d))};Q.lH=function(a,b,d,c){return Q.Ef(Q.Ef(a,b,c),Q.Ef(b,d,c),c)};
Q.mV=function(a,b,d,c,e){return Q.Ef(Q.lH(a,b,d,e),Q.lH(b,d,c,e),e)};Q.jV=function(a,b,d){return(a+b+(a-b)*Math.cos(d*Math.PI))/2};Q.Xj=function(a){return 0<a&&0===(a-1&a)};Q.Mt=function(a){--a;for(let b=1;32>b;b<<=1)a|=a>>b;return a+1};Q.aja=function(a,b){return Math.round(a*b)/b};Q.Wga=function(a,b){return Math.floor(a*b)/b};Q.jx=function(a){var b=Math.max(Math.floor(6),0);b=Math.pow(10,b);return Math.round(a*b)/b};
Q.yga=function(a){return Math.floor(a)!==a?a.toString().split(".")[1].length||0:0};Q.toFixed=function(a,b){a=a.toFixed(b);for(b=a.length-1;0<=b&&"0"===a.charAt(b);--b);0<=b&&"."===a.charAt(b)&&--b;return 0>b?a:a.substr(0,b+1)};Q.w_=function(a,b,d){return Q.$(a,0,255)|Q.$(b,0,255)<<8|Q.$(d,0,255)<<16};
Q.QC=function(a,b,d,c){a=Q.$(Math.floor(1024*a),-8192,8191);b=Q.$(Math.floor(1024*b),-8192,8191);d=Q.$(Math.floor(1024*d),-8192,8191);c=Q.$(Math.floor(1023*c),0,1023);0>a&&(a+=16384);0>b&&(b+=16384);0>d&&(d+=16384);return-(274877906944*a+16777216*b+1024*d+c)};Q.xQ=function(a,b,d){return Q.QC(a,b,d,1)};Q.YH=function(a){if(0<=a)return(a&255)/255;a=Math.floor(-a/274877906944);8191<a&&(a-=16384);return a/1024};
Q.TH=function(a){if(0<=a)return((a&65280)>>8)/255;a=Math.floor(-a%274877906944/16777216);8191<a&&(a-=16384);return a/1024};Q.NH=function(a){if(0<=a)return((a&16711680)>>16)/255;a=Math.floor(-a%16777216/1024);8191<a&&(a-=16384);return a/1024};Q.IX=function(a){return 0===a&&0>1/a?0:0<=a?1:Math.floor(-a%1024)/1023};Q.g4=function(a,b){a=Math.floor(a);for(b=Math.floor(b);0!==b;){let d=b;b=a%b;a=d}return a};const Ob=[[3,2],[4,3],[5,4],[5,3],[6,5],[14,9],[16,9],[16,10],[21,9]];
Q.jha=function(a,b){a=Math.floor(a);b=Math.floor(b);if(a===b)return[1,1];for(var d of Ob){let c=a/d[0]*d[1];if(1>Math.abs(b-c))return d.slice(0);c=a/d[1]*d[0];if(1>Math.abs(b-c))return[d[1],d[0]]}d=Q.g4(a,b);return[a/d,b/d]};
Q.hja=function(a,b,d,c,e,g,k,l){var n=Math.min(a,d),p=Math.max(e,k);if(Math.max(a,d)<Math.min(e,k)||n>p)return!1;n=Math.min(b,c);p=Math.max(g,l);if(Math.max(b,c)<Math.min(g,l)||n>p)return!1;n=e-a+k-d;p=g-b+l-c;a=d-a;b=c-b;e=k-e;g=l-g;l=Math.abs(b*e-g*a);return Math.abs(e*p-g*n)>l?!1:Math.abs(a*p-b*n)<=l};
Q.Ko=function(a,b,d,c,e,g,k,l,n,p,r,w){const x=Math.max(n,r);if(g<Math.min(n,r)||e>x)return!1;e=Math.max(p,w);if(l<Math.min(p,w)||k>e)return!1;k=n-a+r-d;l=p-b+w-c;a=d-a;b=c-b;n=r-n;p=w-p;w=Math.abs(b*n-p*a);return Math.abs(n*l-p*k)>w?!1:Math.abs(a*l-b*k)<=w};
Q.oH=function(a,b,d,c,e){const g=Math.min(a,d),k=Math.max(a,d),l=Math.min(b,c),n=Math.max(b,c),p=e.xc,r=e.yc,w=e.Wc,x=e.Xc,z=e.dd,F=e.ed,C=e.Rc;e=e.Sc;return Q.Ko(a,b,d,c,g,k,l,n,p,r,w,x)||Q.Ko(a,b,d,c,g,k,l,n,w,x,z,F)||Q.Ko(a,b,d,c,g,k,l,n,z,F,C,e)||Q.Ko(a,b,d,c,g,k,l,n,C,e,p,r)};
Q.gja=function(a,b,d,c,e){const g=Math.min(a,d),k=Math.max(a,d),l=Math.min(b,c),n=Math.max(b,c);let p=0;for(let r=e.length-4;p<=r;p+=2)if(Q.Ko(a,b,d,c,g,k,l,n,e[p],e[p+1],e[p+2],e[p+3]))return!0;return Q.Ko(a,b,d,c,g,k,l,n,e[p],e[p+1],e[0],e[1])};Q.T4=function(a,b,d,c,e,g,k,l){d-=a;g=l-g;const n=d*g-(c-b)*(k-e);if(0===n)return 2;c=((b-c)*(k-a)+d*(l-b))/n;return 0<c&&1.000001>c?(g*(k-a)+(e-k)*(l-b))/n:2};Q.NB=function(a,b,d,c,e,g,k,l,n){const p=(k-e)*n;n*=l-g;return Q.T4(a,b,d,c,e-p,g-n,k+p,l+n)};
Q.s4=function(a,b,d,c,e,g,k,l){e-=d;g-=c;k-=d;l-=c;a-=d;d=b-c;b=e*e+g*g;c=e*k+g*l;e=e*a+g*d;g=k*k+l*l;k=k*a+l*d;l=1/(b*g-c*c);g=(g*e-c*k)*l;e=(b*k-c*e)*l;return 0<=g&&0<=e&&1>=g+e};Q.i5=function(a,b,d,c,e,g,k,l){e-=d;g-=c;k-=d;l-=c;a-=d;const n=b-c;b=e*e+g*g;c=e*k+g*l;d=k*k+l*l;e=a*e+n*g;g=a*k+n*l;k=b*d-c*c;l=(d*e-c*g)/k;e=(b*g-c*e)/k;return[1-l-e,l,e]};Q.h5=function(a,b,d,c,e,g,k,l,n,p,r,w){return[a*c+b*k+d*p,a*e+b*l+d*r,a*g+b*n+d*w]};"use strict";const S=self.D;let Pb=null,Qb="";
if("undefined"!==typeof document){Pb=document;const a=document.querySelector("base");if(Qb=a&&a.hasAttribute("href")?a.getAttribute("href"):"")Qb.startsWith("/")&&(Qb=Qb.substr(1)),Qb.endsWith("/")||(Qb+="/")}S.d8=function(){return Qb};S.e8=function(){if(!Pb)return"";const a=Pb.location;return S.VX(a.origin+a.pathname)+Qb};S.VX=function(a){if(!a.length||a.endsWith("/")||a.endsWith("\\"))return a;const b=Math.max(a.lastIndexOf("/"),a.lastIndexOf("\\"));return-1===b?"":a.substr(0,b+1)};
S.j8=function(a){if(!a.length)return a;if(a.endsWith("/")||a.endsWith("\\"))return"";const b=Math.max(a.lastIndexOf("/"),a.lastIndexOf("\\"));return-1===b?a:a.substr(b+1)};S.RX=function(a){let b=a.lastIndexOf(".");return 1>b?"":a.substr(b)};S.dda=function(a,b){const d=a.lastIndexOf(".");return-1===d?a+"."+b:a.substr(0,d+1)+b};S.pC=function(a){let b=a.lastIndexOf(".");return 1>b?a:a.substr(0,b)};S.iZ=function(a){return a.replace(/\\/g,"/")};S.i9=function(a,b){return b===(a?S.RX(a).slice(1):"")};
S.S7=function(a,b){let d,c;S.kI(a)&&(d=S.pC(a.name));S.kj(a)&&(d=S.pC(a));S.kI(b)&&(c=S.pC(b.name));S.kj(b)&&(c=S.pC(b));return d===c};
S.iaa=function(a){a=S.iZ(a);let b=/^\w:\//.exec(a);b?(b=b[0],a=a.slice(3),"/"!==a[0]&&(a="/"+a)):b="";a=a.replace(/\/{2,}/g,"/");1<a.length&&"/"===a.slice(-1)&&(a=a.slice(0,-1));var d=a.lastIndexOf("/")+1;let c="",e=a,g="";0<d&&(c=a.slice(0,d),e=a.slice(d));a=e;d=e.lastIndexOf(".");0<d&&(g=e.slice(d),a=e.slice(0,-g.length));return{dir:c,mga:e,name:a,root:b,ext:g,gha:b+c+e}};S.$I=function(a,b){return new Promise(d=>{self.setTimeout(d,a,b)})};
S.xja=function(a){try{a()}catch(b){S.CB&&console.warn("Swallowed exception: ",b)}};S.lia=function(){};S.kh=function(a,b){return"string"!==typeof a||"string"!==typeof b?!1:a===b||a.normalize().toLowerCase()===b.normalize().toLowerCase()};S.Sga=function(a,b){return"string"!==typeof a||"string"!==typeof b?!1:a===b?!0:a.normalize()===b.normalize()};
S.k5=function(a,b){var d=0;a[d++]=b[0];a[d++]=b[1];a[d++]=b[2];a[d++]=b[3];a[d++]=b[4];a[d++]=b[5];a[d++]=b[6];a[d++]=b[7];a[d++]=b[8];a[d++]=b[9];a[d++]=b[10];a[d++]=b[11];a[d++]=b[12];a[d++]=b[13];a[d++]=b[14];a[d]=b[15]};S.Ff=function(a,b){a.length=b};S.I=function(a){a&&0!==a.length&&S.Ff(a,0)};S.D3=function(a){if(a){for(let b=0;b<a.length;b++)S.Ff(a[b],0);S.Ff(a,0)}};S.cH=function(a,b,d){b|=0;var c=a.length;if(!(b<=c))for(;c<b;++c)a.push(d)};
S.UV=function(a){var b=4;const d=a.length;b<d?S.Ff(a,b):b>d&&S.cH(a,b,"0")};S.Fd=function(a,b){S.I(a);S.Bm(a,b)};S.Bm=function(a,b){if(1E4>b.length)a.push(...b);else for(let d=0,c=b.length;d<c;++d)a.push(b[d])};S.u3=function(a,b){b=Math.floor(b);if(!(0>b||b>=a.length)){for(var d=a.length-1;b<d;++b)a[b]=a[b+1];S.Ff(a,d)}};S.Cm=function(a,b){b=a.indexOf(b);0<=b&&a.splice(b,1)};S.lga=function(a,b){let d=a.length;if(b.length!==d)return!1;for(let c=0;c<d;++c)if(a[c]!==b[c])return!1;return!0};
S.t3=function(a,b){let d=[],c=0;for(let e=0,g=a.length;e<g;++e){let k=a[e];b(k)?d.push(k):(a[c]=k,++c)}S.Ff(a,c);return d};S.$h=function(a,b){const d=a.length;let c=0;for(let e=0,g=a.length;e<g;++e){let k=a[e];b.has(k)||(a[c++]=k)}S.Ff(a,c);return d-c};S.l4=function(a,b){return a!==Math.floor(a)?!1:0<=a&&a<b.length};S.Pja=function(a,b){if(!S.l4(a,b))throw new RangeError("array index out of bounds");};S.hO=function(a){return a.slice()};
S.M3=function(a,b){let d=[];for(let c of a)if(S.bQ(c)){a=b(c);if(!a)throw Error("missing clone");if(a.constructor!==c.constructor)throw Error("object is not a clone");d.push(a)}else S.Gl(c)?d.push(S.M3(c,b)):d.push(c);return d};S.wga=function(a){let b=[];for(let d of a)b.push(d.slice());return b};S.iia=function(a,b){return a.union?a.union(b):new Set([...a,...b])};S.jia=function(a,b){for(const d of b)a.add(d);return a};S.first=function(a){for(let b of a)return b;return null};
S.xor=function(a,b){return!a!==!b};S.compare=function(a,b,d){switch(b){case 0:return a===d;case 1:return a!==d;case 2:return a<d;case 3:return a<=d;case 4:return a>d;case 5:return a>=d;default:return!1}};S.tha=function(a){for(let b in a)if(a.hasOwnProperty(b))return!0;return!1};S.G_=function(a,b){return a.length?new Promise((d,c)=>{const e=[];let g=0,k=!1;for(let l=0,n=a.length;l<n;++l)e.push(void 0),a[l].then(p=>{k||(e[l]=p,++g,g===a.length?d(e):b(g,a.length))}).catch(p=>{k=!0;c(p)})}):Promise.resolve([])};
let Rb=[];S.Q5=function(a){Rb.push(a)};S.h8=function(){let a=0;for(let b of Rb){let d=b();a+=d}return Math.floor(a)};let Sb=1;const Vb=new Map,Wb=new MessageChannel;Wb.port2.onmessage=function(a){a=a.data;const b=Vb.get(a);Vb.delete(a);b&&b(performance.now())};S.EI=function(a){const b=Sb++;Vb.set(b,a);Wb.port1.postMessage(b);return b};S.TW=function(a){Vb.delete(a)};S.E_=S.EI;S.H0=function(){return new Promise(a=>S.E_(a))};const Xb=new Set;
S.zba=function(a){const b=self.requestAnimationFrame(async d=>{await S.H0();Xb.has(b)&&(Xb.delete(b),a(d))});Xb.add(b);return b};S.O6=function(a){Xb.has(a)&&(self.cancelAnimationFrame(a),Xb.delete(a))};"use strict";const Yb=self.D;Yb.FC=function(a){return/^(?:[a-z\-]+:)?\/\//.test(a)||"data:"===a.substr(0,5)||"blob:"===a.substr(0,5)};Yb.mu=function(a){return!Yb.FC(a)};Yb.o0=function(a){if(!a.ok)throw Error(`fetch '${a.url}' response returned ${a.status} ${a.statusText}`);};
Yb.kC=function(a){return fetch(a,void 0).then(b=>{Yb.o0(b);return b})};Yb.ux=function(a){return Yb.kC(a).then(b=>b.text())};Yb.HP=function(a){return Yb.kC(a).then(b=>b.json())};Yb.Km=function(a){return Yb.kC(a).then(b=>b.blob())};Yb.tx=function(a){return Yb.kC(a).then(b=>b.arrayBuffer())};Yb.vX=function(a){return new Promise((b,d)=>{const c=new Image;c.onload=()=>b(c);c.onerror=e=>d(e);c.src=a})};
Yb.OW=function(a){return"function"===typeof a.arrayBuffer?a.arrayBuffer():new Promise((b,d)=>{const c=new FileReader;c.onload=()=>b(c.result);c.onerror=()=>d(c.error);c.readAsArrayBuffer(a)})};Yb.rP=function(a){return"function"===typeof a.text?a.text():new Promise((b,d)=>{const c=new FileReader;c.onload=()=>b(c.result);c.onerror=()=>d(c.error);c.readAsText(a)})};Yb.E6=function(a){return Yb.rP(a).then(b=>JSON.parse(b))};
Yb.qP=async function(a){a=URL.createObjectURL(a);try{const b=await Yb.vX(a);URL.revokeObjectURL(a);a="";return b}finally{a&&URL.revokeObjectURL(a)}};Yb.oh=function(a,b){if("undefined"!==typeof document&&"function"===typeof document.createElement){const d=document.createElement("canvas");d.width=a;d.height=b;return d}return new OffscreenCanvas(a,b)};
Yb.YB=function(a,b,d){"number"!==typeof d&&(d=1);b=b||"image/png";d=Yb.$(d,0,1);if(a.convertToBlob)return a.convertToBlob({type:b,quality:d});if(a.toBlob)return new Promise(c=>a.toBlob(c,b,d));throw Error("could not convert canvas to blob");};Yb.CP=function(a,b,d){const c=Yb.oh(a.width,a.height);c.getContext("2d").drawImage(a,0,0);return Yb.YB(c,b,d)};
Yb.C8=function(a,b,d){if(Yb.vb.ImageBitmapOptions)return createImageBitmap(a,{premultiplyAlpha:"none"}).then(e=>Yb.CP(e,b,d));if(Yb.vb.ImageBitmap)return createImageBitmap(a).then(e=>Yb.CP(e,b,d));const c=Yb.oh(a.width,a.height);c.getContext("2d").putImageData(a,0,0);return Yb.YB(c,b,d)};Yb.eX=function(a,b){a.clear();for(const d of b)a.add(d)};Yb.i$=function(a){const b=Object.create(null);for(const [d,c]of a.entries())b[d]=c;return b};
Yb.E$=function(a,b){b.clear();for(const [d,c]of Object.entries(a))b.set(d,c)};Yb.XI=function Zb(a){if("object"===typeof a&&null!==a){if(a instanceof Set)return{_c3type_:"set",data:[...a].map(c=>Zb(c))};if(a instanceof Map)return{_c3type_:"map",data:[...a].map(c=>[c[0],Zb(c[1])])};const d=Object.create(null);for(const [c,e]of Object.entries(a))d[c]=Zb(e);return d}return a};
Yb.MH=function ac(a){if("object"===typeof a&null!==a){if("set"===a._c3type_)return new Set(a.data.map(c=>ac(c)));if("map"===a._c3type_)return new Map(a.data.map(c=>[c[0],ac(c[1])]));const d=Object.create(null);for(const [c,e]of Object.entries(a))d[c]=ac(e);return d}return a};Yb.uP=function(a){if(a.startsWith("--"))return a;let b="",d=!1,c=0;for(const e of a)"-"===e?0<c&&(d=!0):d?(b+=e.toUpperCase(),d=!1):b+=e,++c;return b};Yb.Tm=function(a){return"object"===typeof a&&"function"===typeof a.next};
Yb.cZ=function(a){const b=[];for(let d=0;d<a;++d)b.push(0);return b};"use strict";const bc=self.D;function dc(a,b,d,c,e){a.kb=+b;a.Ra=+d;a.hb=+c;a.ab=+e;a.$()}function ec(a,b,d,c){a.kb=+b;a.Ra=+d;a.hb=+c;a.$()}function fc(a,b,d,c){a.kb+=+b;a.Ra+=+d;a.hb+=+c;a.ab+=0;a.$()}function gc(a,b){a.kb=b.kb;a.Ra=b.Ra;a.hb=b.hb}function hc(a,b){a.ab=bc.$(+b,0,1)}function ic(a,b){return a.kb===b.kb&&a.Ra===b.Ra&&a.hb===b.hb}function kc(a,b,d,c,e){return a.kb===b&&a.Ra===d&&a.hb===c&&a.ab===e}
function lc(a){a.kb*=a.ab;a.Ra*=a.ab;a.hb*=a.ab}function mc(a,b){a.kb=bc.YH(b);a.Ra=bc.TH(b);a.hb=bc.NH(b);a.ab=bc.IX(b)}function nc(a){var b=oc;if("string"===typeof a){a=a.replace(/^rgb\(|\)|%/,"");var d=a.split(",");if(!(3>d.length)){a=parseInt(d[0].trim(),10)/255;var c=parseInt(d[1].trim(),10)/255;d=parseInt(d[2].trim(),10)/255;isFinite(a)&&(b.kb=bc.$(+a,0,1));isFinite(c)&&(b.Ra=bc.$(+c,0,1));isFinite(d)&&(b.hb=bc.$(+d,0,1));hc(b,1)}}}
function pc(a,b){!Array.isArray(b)||3>b.length||(a.kb=b[0],a.Ra=b[1],a.hb=b[2],a.ab=4<=b.length?b[3]:1)}function qc(a,b){return bc.$(Math.max(a,b)-Math.min(a,b),0,1)}
bc.ub=class{constructor(a,b,d,c){this.ab=this.hb=this.Ra=this.kb=0;a instanceof bc.ub?this.set(a):dc(this,a||0,b||0,d||0,c||0)}set(a){this.kb=a.kb;this.Ra=a.Ra;this.hb=a.hb;this.ab=a.ab;return this}Ja(a){return this.set(a)}add(a){this.kb+=a.kb;this.Ra+=a.Ra;this.hb+=a.hb;this.ab+=a.ab;this.$()}clone(){return bc.C(bc.ub,this.kb,this.Ra,this.hb,this.ab)}toArray(){return[this.kb,this.Ra,this.hb,this.ab]}Hd(a,b){a[b++]=this.kb;a[b++]=this.Ra;a[b++]=this.hb;a[b]=this.ab}Pd(a){return this.kb===a.kb&&this.Ra===
a.Ra&&this.hb===a.hb&&this.ab===a.ab}xB(a,b){return a[b]===Math.fround(this.kb)&&a[b+1]===Math.fround(this.Ra)&&a[b+2]===Math.fround(this.hb)&&a[b+3]===Math.fround(this.ab)}multiply(a){this.kb*=a.kb;this.Ra*=a.Ra;this.hb*=a.hb;this.ab*=a.ab}$(){this.kb=bc.$(this.kb,0,1);this.Ra=bc.$(this.Ra,0,1);this.hb=bc.$(this.hb,0,1);this.ab=bc.$(this.ab,0,1);return this}toJSON(){return[this.kb,this.Ra,this.hb,this.ab]}set r(a){this.kb=bc.$(+a,0,1)}get r(){return this.kb}set c4(a){this.Ra=bc.$(+a,0,1)}get c4(){return this.Ra}set b(a){this.hb=
bc.$(+a,0,1)}get b(){return this.hb}set a(a){hc(this,a)}get a(){return this.ab}};bc.ub.Qfa=Object.freeze(bc.C(bc.ub,1,1,1,1));bc.ub.D6=Object.freeze(bc.C(bc.ub,0,0,0,1));bc.ub.lfa=Object.freeze(bc.C(bc.ub,0,0,0,0));"use strict";const rc=self.D;
rc.Bu=class{constructor(a,b){this.aa=this.ka=0;a instanceof rc.Bu?this.Ja(a):this.set(a||0,b||0)}set(a,b){this.ka=+a;this.aa=+b}Ja(a){this.ka=a.ka;this.aa=a.aa}Pd(a){return this.ka===a.ka&&this.aa===a.aa}xB(a,b){return a[b]===Math.fround(this.ka)&&a[b+1]===Math.fround(this.aa)}toArray(){return[this.ka,this.aa]}Hd(a,b){a[b++]=this.ka;a[b]=this.aa}offset(a,b){this.ka+=+a;this.aa+=+b}scale(a,b){this.ka*=a;this.aa*=b}Go(a,b){this.ka/=a;this.aa/=b}round(){this.ka=Math.round(this.ka);this.aa=Math.round(this.aa)}floor(){this.ka=
Math.floor(this.ka);this.aa=Math.floor(this.aa)}ceil(){this.ka=Math.ceil(this.ka);this.aa=Math.ceil(this.aa)}angle(){return rc.Do(0,0,this.ka,this.aa)}length(){return Math.hypot(this.ka,this.aa)}rotate(a){if(0!==a){var b=Math.sin(a);a=Math.cos(a);const d=this.ka*a-this.aa*b;this.aa=this.aa*a+this.ka*b;this.ka=d}}move(a,b){0!==b&&(this.ka+=Math.cos(a)*b,this.aa+=Math.sin(a)*b)}normalize(){const a=this.length();0!==a&&1!==a&&(this.ka/=a,this.aa/=a)}$(a,b){this.ka=rc.$(this.ka,a,b);this.aa=rc.$(this.aa,
a,b)}Ho(a){return this.ka*a.ka+this.aa*a.aa}reverse(){this.ka=-this.ka;this.aa=-this.aa}};"use strict";const sc=self.D;function tc(a,b,d,c,e){b=+b;d=+d;a.la=b;a.ea=d;a.wa=b+ +c;a.ra=d+ +e}function uc(a,b,d,c,e){return a.la===b&&a.ea===d&&a.width()===c&&a.height()===e}function xc(a,b,d){b=+b;d=+d;a.la-=b;a.ea-=d;a.wa+=b;a.ra+=d}function yc(a){a.ea=1-a.ea;a.ra=1-a.ra}function zc(){var a=Ac;a.la=Math.floor(a.la);a.ea=Math.floor(a.ea);a.wa=Math.ceil(a.wa);a.ra=Math.ceil(a.ra)}
function Bc(a,b){return!(b.wa<a.la||b.ra<a.ea||b.la>a.wa||b.ea>a.ra)}
sc.Rect=class{constructor(a,b,d,c){this.ra=this.wa=this.ea=this.la=0;a instanceof sc.Rect?this.Ja(a):this.set(a||0,b||0,d||0,c||0)}set(a,b,d,c){this.la=+a;this.ea=+b;this.wa=+d;this.ra=+c}Ja(a){this.la=+a.la;this.ea=+a.ea;this.wa=+a.wa;this.ra=+a.ra}clone(){return new sc.Rect(this.la,this.ea,this.wa,this.ra)}Pd(a){return this.la===a.la&&this.ea===a.ea&&this.wa===a.wa&&this.ra===a.ra}xB(a,b){return a[b]===Math.fround(this.la)&&a[b+1]===Math.fround(this.ea)&&a[b+2]===Math.fround(this.wa)&&a[b+3]===
Math.fround(this.ra)}toArray(){return[this.la,this.ea,this.wa,this.ra]}Hd(a,b){a[b++]=this.la;a[b++]=this.ea;a[b++]=this.wa;a[b]=this.ra}width(){return this.wa-this.la}height(){return this.ra-this.ea}bx(){return(this.la+this.wa)/2}gx(){return(this.ea+this.ra)/2}offset(a,b){a=+a;b=+b;this.la+=a;this.ea+=b;this.wa+=a;this.ra+=b}offsetLeft(a){this.la+=+a}offsetTop(a){this.ea+=+a}multiply(a,b){this.la*=a;this.ea*=b;this.wa*=a;this.ra*=b}Go(a,b){this.la/=a;this.ea/=b;this.wa/=a;this.ra/=b}round(){this.la=
Math.round(this.la);this.ea=Math.round(this.ea);this.wa=Math.round(this.wa);this.ra=Math.round(this.ra)}floor(){this.la=Math.floor(this.la);this.ea=Math.floor(this.ea);this.wa=Math.floor(this.wa);this.ra=Math.floor(this.ra)}ceil(){this.la=Math.ceil(this.la);this.ea=Math.ceil(this.ea);this.wa=Math.ceil(this.wa);this.ra=Math.ceil(this.ra)}$(a,b,d,c){this.la=Math.max(this.la,+a);this.ea=Math.max(this.ea,+b);this.wa=Math.min(this.wa,+d);this.ra=Math.min(this.ra,+c)}normalize(){if(this.la>this.wa){var a=
this.la;this.la=this.wa;this.wa=a}this.ea>this.ra&&(a=this.ea,this.ea=this.ra,this.ra=a)}jh(a,b){return a>=this.la&&a<=this.wa&&b>=this.ea&&b<=this.ra}};"use strict";const Cc=self.D;function Dc(a,b,d,c){b[d++]=a.xc;b[d++]=a.yc;b[d++]=c;b[d++]=a.Wc;b[d++]=a.Xc;b[d++]=c;b[d++]=a.dd;b[d++]=a.ed;b[d++]=c;b[d++]=a.Rc;b[d++]=a.Sc;b[d]=c}
function Ec(a,b,d,c){const e=b.la*d,g=b.ea*d,k=b.wa*d;d*=b.ra;const l=b.la*c,n=b.ea*c,p=b.wa*c;b=b.ra*c;a.xc=l-g;a.yc=n+e;a.Wc=p-g;a.Xc=n+k;a.dd=p-d;a.ed=b+k;a.Rc=l-d;a.Sc=b+e}function Fc(a,b,d){0===d?a.lh(b):Ec(a,b,Math.sin(d),Math.cos(d))}function Gc(a,b){var d=b.bx(),c=b.gx();if(a.jh(d,c))return!0;d=a.bx();c=a.gx();if(b.jh(d,c))return!0;d=a.xc;c=a.yc;const e=a.Wc,g=a.Xc,k=a.dd,l=a.ed,n=a.Rc;a=a.Sc;return Cc.oH(d,c,e,g,b)||Cc.oH(e,g,k,l,b)||Cc.oH(k,l,n,a,b)||Cc.oH(n,a,d,c,b)}
Cc.yd=class{constructor(a,b,d,c,e,g,k,l){this.Sc=this.Rc=this.ed=this.dd=this.Xc=this.Wc=this.yc=this.xc=0;a instanceof Cc.yd?this.Ja(a):this.set(a||0,b||0,d||0,c||0,e||0,g||0,k||0,l||0)}set(a,b,d,c,e,g,k,l){this.xc=+a;this.yc=+b;this.Wc=+d;this.Xc=+c;this.dd=+e;this.ed=+g;this.Rc=+k;this.Sc=+l}Ja(a){this.xc=a.xc;this.yc=a.yc;this.Wc=a.Wc;this.Xc=a.Xc;this.dd=a.dd;this.ed=a.ed;this.Rc=a.Rc;this.Sc=a.Sc}Pd(a){return this.xc===a.xc&&this.yc===a.yc&&this.Wc===a.Wc&&this.Xc===a.Xc&&this.dd===a.dd&&this.ed===
a.ed&&this.Rc===a.Rc&&this.Sc===a.Sc}toArray(){return[this.xc,this.yc,this.Wc,this.Xc,this.dd,this.ed,this.Rc,this.Sc]}Hd(a,b){a[b++]=this.xc;a[b++]=this.yc;a[b++]=this.Wc;a[b++]=this.Xc;a[b++]=this.dd;a[b++]=this.ed;a[b++]=this.Rc;a[b]=this.Sc}offset(a,b){a=+a;b=+b;this.xc+=a;this.yc+=b;this.Wc+=a;this.Xc+=b;this.dd+=a;this.ed+=b;this.Rc+=a;this.Sc+=b}round(){this.xc=Math.round(this.xc);this.yc=Math.round(this.yc);this.Wc=Math.round(this.Wc);this.Xc=Math.round(this.Xc);this.dd=Math.round(this.dd);
this.ed=Math.round(this.ed);this.Rc=Math.round(this.Rc);this.Sc=Math.round(this.Sc)}floor(){this.xc=Math.floor(this.xc);this.yc=Math.floor(this.yc);this.Wc=Math.floor(this.Wc);this.Xc=Math.floor(this.Xc);this.dd=Math.floor(this.dd);this.ed=Math.floor(this.ed);this.Rc=Math.floor(this.Rc);this.Sc=Math.floor(this.Sc)}ceil(){this.xc=Math.ceil(this.xc);this.yc=Math.ceil(this.yc);this.Wc=Math.ceil(this.Wc);this.Xc=Math.ceil(this.Xc);this.dd=Math.ceil(this.dd);this.ed=Math.ceil(this.ed);this.Rc=Math.ceil(this.Rc);
this.Sc=Math.ceil(this.Sc)}lh(a){this.xc=a.la;this.yc=a.ea;this.Wc=a.wa;this.Xc=a.ea;this.dd=a.wa;this.ed=a.ra;this.Rc=a.la;this.Sc=a.ra}rO(a){a.set(Math.min(this.xc,this.Wc,this.dd,this.Rc),Math.min(this.yc,this.Xc,this.ed,this.Sc),Math.max(this.xc,this.Wc,this.dd,this.Rc),Math.max(this.yc,this.Xc,this.ed,this.Sc))}jh(a,b){var d=this.Wc-this.xc,c=this.Xc-this.yc;const e=this.dd-this.xc,g=this.ed-this.yc;a-=this.xc;b-=this.yc;var k=d*d+c*c;let l=d*e+c*g;c=d*a+c*b;const n=e*e+g*g,p=e*a+g*b;let r=1/
(k*n-l*l);d=(n*c-l*p)*r;k=(k*p-l*c)*r;if(0<=d&&0<k&&1>d+k)return!0;d=this.Rc-this.xc;c=this.Sc-this.yc;k=d*d+c*c;l=d*e+c*g;c=d*a+c*b;r=1/(k*n-l*l);d=(n*c-l*p)*r;k=(k*p-l*c)*r;return 0<=d&&0<k&&1>d+k}bx(){return(this.xc+this.Wc+this.dd+this.Rc)/4}gx(){return(this.yc+this.Xc+this.ed+this.Sc)/4}};"use strict";const Hc=self.D,Ic=[0,0,1,0,1,1,0,1],Nc=Hc.C(Hc.yd);function Oc(a,b){a.He.length===b.length?a.He.set(b):a.He=Float64Array.from(b);a.Mn=!0}
function Pc(a,b,d,c){Nc.Ja(b);Nc.offset(d,c);Oc(a,Nc.toArray());a.Mn=!0}function Qc(a,b,d,c,e){const g=a.He;for(let k=0,l=g.length;k<l;k+=2){const n=k+1,p=g[k]*b,r=g[n]*d;g[k]=p*e-r*c;g[n]=r*e+p*c}a.Mn=!0}
function Rc(a,b,d,c){const e=b.He,g=a.He;if(a.jh(e[0]+d,e[1]+c)||b.jh(g[0]-d,g[1]-c))return!0;for(let l=0,n=g.length;l<n;l+=2){var k=(l+2)%n;a=g[l];b=g[l+1];const p=g[k];k=g[k+1];let r,w,x,z;a<p?(r=a,x=p):(r=p,x=a);b<k?(w=b,z=k):(w=k,z=b);for(let F=0,C=e.length;F<C;F+=2){const G=(F+2)%C;if(Hc.Ko(a,b,p,k,r,x,w,z,e[F]+d,e[F+1]+c,e[G]+d,e[G+1]+c))return!0}}return!1}
Hc.$q=class extends Hc.Ca{constructor(a,b=!0){super();a||(a=Ic);this.He=Float64Array.from(a);this.BD=new Hc.Rect;this.Mn=!0;this.Bi=b}A(){}Ja(a){Oc(this,a.He)}lh(a){let b=this.He;8!==b.length&&(this.He=b=new Float64Array(8));b[0]=a.la-NaN;b[1]=a.ea-NaN;b[2]=a.wa-NaN;b[3]=a.ea-NaN;b[4]=a.wa-NaN;b[5]=a.ra-NaN;b[6]=a.la-NaN;b[7]=a.ra-NaN;this.BD.Ja(a);this.BD.offset(NaN,NaN);this.Mn=!1}transform(a,b,d){let c=0,e=1;0!==d&&(c=Math.sin(d),e=Math.cos(d));Qc(this,a,b,c,e)}offset(a,b){const d=this.He;for(let c=
0,e=d.length;c<e;c+=2)d[c]+=a,d[c+1]+=b}jh(a,b){const d=this.He;if(a===d[0]&&b===d[1])return!0;if(this.Mn){var c=this.He,e=c[0],g=c[1],k=e,l=g;for(let K=0,O=c.length;K<O;K+=2){var n=c[K],p=c[K+1];n<e&&(e=n);n>k&&(k=n);p<g&&(g=p);p>l&&(l=p)}this.BD.set(e,g,k,l);this.Mn=!1}k=this.BD;c=k.la-110;e=k.ea-101;g=k.wa+131;k=k.ra+120;let r,w,x,z,F;c<a?(l=c,p=a):(l=a,p=c);e<b?(n=e,r=b):(n=b,r=e);g<a?(w=g,z=a):(w=a,z=g);k<b?(x=k,F=b):(x=b,F=k);let C=0,G=0;for(let K=0,O=d.length;K<O;K+=2){var J=(K+2)%O;const na=
d[K],ka=d[K+1],Ja=d[J];J=d[J+1];Hc.Ko(c,e,a,b,l,p,n,r,na,ka,Ja,J)&&++C;Hc.Ko(g,k,a,b,w,z,x,F,na,ka,Ja,J)&&++G}return 1===C%2||1===G%2}od(){return this.Bi}};"use strict";const Sc=self.D;function Tc(a,b){a=a.Qk;const d=a.get(b);d&&(d.clear(),a.delete(b));for(const [c,e]of a.entries())e.delete(b)&&0===e.size&&a.delete(c)}
Sc.Xx=class extends Sc.Ca{constructor(a){super();this.Qk=new Map;if(a)for(const [b,d,c]of a)this.Set(b,d,c)}A(){this.pe();this.Qk=null}nk(){return 0===this.Qk.size}pe(){const a=this.Qk;for(const b of a.values())b.clear();a.clear()}Set(a,b,d){const c=this.Qk;let e=c.get(a);e||(e=new Map,c.set(a,e));e.set(b,d)}ba(a,b){return(a=this.Qk.get(a))?a.get(b):a}Ox(a){return(a=this.Qk.get(a))?a.has(void 0):!1}br(a,b){const d=this.Qk,c=d.get(a);c&&c.delete(b)&&0===c.size&&d.delete(a)}li(){let a=0;for(const b of this.Qk.values())a+=
b.size;return a}*values(){for(const a of this.Qk.values())yield*a.values()}*entries(){for(const [a,b]of this.Qk.entries())for(const [d,c]of b.entries())yield[a,d,c]}};"use strict";const Uc=self.D;function Vc(a){if(a.mA){const b=a.xD;Uc.I(b);for(const d of a.zq)b.push(d);a.mA=!1}return a.xD}
Uc.AH=class extends Uc.Ca{constructor(){super();this.zq=new Set;this.xD=[];this.mA=!1}A(){this.pe()}pe(){this.zq.clear();Uc.I(this.xD);this.mA=!1}Tb(a){this.zq.has(a)||(this.zq.add(a),this.mA||this.xD.push(a))}Ox(a){return this.zq.has(a)}br(a){this.zq.delete(a)&&(this.mA=!0)}li(){return this.zq.size}nk(){return 0===this.zq.size}};"use strict";const Wc=self.D,Xc=new Map,Yc=new Map,Zc=new Map,$c=new Map,ad=new Map,bd=new Map;bd.set("linear","noease");bd.set("default","noease");
self.cr=class a{constructor(){}static KY(b){this.fJ();return[...Yc.keys()].includes(b)}static i1(b){const d=bd.get(b);if(d)return Xc.get(d);if(a.KY(b))return Xc.get(b);if($c.has(b))return $c.get(b)}static Rm(b){this.fJ();const d=a.i1(b);return d?d:Zc.get(b)}static fJ(){0===Xc.size&&(this.ec("default",()=>{}),this.ec("noease",[{x:0,y:0,sax:.336,say:0,eax:0,eay:0,se:!0,ee:!1},{x:1,y:1,sax:0,say:0,eax:-.336,eay:0,se:!1,ee:!0}],!0),this.ec("easeinsine",[{x:0,y:0,sax:.485,say:0,eax:0,eay:0,se:!0,ee:!1},
{x:1,y:1,sax:0,say:0,eax:-.038,eay:0,se:!1,ee:!0}]),this.ec("easeoutsine",[{x:0,y:0,sax:.038,say:0,eax:0,eay:0,se:!0,ee:!1},{x:1,y:1,sax:0,say:0,eax:-.485,eay:0,se:!1,ee:!0}]),this.ec("easeinoutsine",[{x:0,y:0,sax:.336,say:0,eax:0,eay:0,se:!0,ee:!1},{x:1,y:1,sax:0,say:0,eax:-.336,eay:0,se:!1,ee:!0}]),this.ec("easeinelastic",[{x:0,y:0,sax:.018,say:0,eax:0,eay:0,se:!0,ee:!1},{x:.116,y:.002,sax:.025,say:0,eax:-.025,eay:0,se:!0,ee:!0},{x:.266,y:-.005,sax:.024,say:0,eax:-.021,eay:0,se:!0,ee:!0},{x:.416,
y:.016,sax:.024,say:0,eax:-.026,eay:0,se:!0,ee:!0},{x:.566,y:-.045,sax:.061,say:0,eax:-.025,eay:0,se:!0,ee:!0},{x:.716,y:.132,sax:.072,say:-.004,eax:-.045,eay:0,se:!0,ee:!0},{x:.866,y:-.373,sax:.06,say:0,eax:-.049,eay:-.002,se:!0,ee:!0},{x:1,y:1,sax:0,say:0,eax:-.038,eay:-.263,se:!1,ee:!0}]),this.ec("easeoutelastic",[{x:0,y:0,sax:.038,say:.263,eax:0,eay:0,se:!0,ee:!1},{x:.136,y:1.373,sax:.049,say:.002,eax:-.06,eay:0,se:!0,ee:!0},{x:.286,y:.868,sax:.045,say:0,eax:-.072,eay:.004,se:!0,ee:!0},{x:.436,
y:1.045,sax:.025,say:0,eax:-.061,eay:0,se:!0,ee:!0},{x:.586,y:.984,sax:.026,say:0,eax:-.024,eay:0,se:!0,ee:!0},{x:.736,y:1.005,sax:.021,say:0,eax:-.024,eay:0,se:!0,ee:!0},{x:.886,y:.998,sax:.025,say:0,eax:-.025,eay:0,se:!0,ee:!0},{x:1,y:1,sax:0,say:0,eax:-.018,eay:0,se:!1,ee:!0}]),this.ec("easeinoutelastic",[{x:0,y:0,sax:.025,say:0,eax:0,eay:0,se:!0,ee:!1},{x:.067,y:.001,sax:.025,say:0,eax:-.025,eay:0,se:!0,ee:!0},{x:.18,y:-.005,sax:.025,say:0,eax:-.025,eay:0,se:!0,ee:!0},{x:.292,y:.025,sax:.053,
say:0,eax:-.025,eay:0,se:!0,ee:!0},{x:.405,y:-.118,sax:.069,say:0,eax:-.027,eay:0,se:!0,ee:!0},{x:.597,y:1.118,sax:.027,say:0,eax:-.069,eay:0,se:!0,ee:!0},{x:.71,y:.975,sax:.025,say:0,eax:-.053,eay:0,se:!0,ee:!0},{x:.822,y:1.005,sax:.025,say:0,eax:-.025,eay:0,se:!0,ee:!0},{x:.935,y:.999,sax:.025,say:0,eax:-.025,eay:0,se:!0,ee:!0},{x:1,y:1,sax:0,say:0,eax:-.025,eay:0,se:!1,ee:!0}]),this.ec("easeinback",[{x:0,y:0,sax:.35,say:0,eax:0,eay:0,se:!0,ee:!1},{x:1,y:1,sax:0,say:0,eax:-.34,eay:-1.579,se:!1,
ee:!0}]),this.ec("easeoutback",[{x:0,y:0,sax:.34,say:1.579,eax:0,eay:0,se:!0,ee:!1},{x:1,y:1,sax:0,say:0,eax:-.35,eay:0,se:!1,ee:!0}]),this.ec("easeinoutback",[{x:0,y:0,sax:.035,say:0,eax:0,eay:0,se:!0,ee:!1},{x:.242,y:-.1,sax:.258,say:0,eax:-.025,eay:0,se:!0,ee:!0},{x:.76,y:1.1,sax:.025,say:0,eax:-.26,eay:0,se:!0,ee:!0},{x:1,y:1,sax:0,say:0,eax:-.035,eay:0,se:!1,ee:!0}]),this.ec("easeinbounce",[{x:0,y:0,sax:.033,say:.025,eax:0,eay:0,se:!0,ee:!1},{x:.092,y:0,sax:.026,say:.078,eax:-.033,eay:.025,se:!0,
ee:!0},{x:.274,y:0,sax:.097,say:.319,eax:-.026,eay:.078,se:!0,ee:!0},{x:.637,y:0,sax:.105,say:.625,eax:-.097,eay:.319,se:!0,ee:!0},{x:1,y:1,sax:0,say:0,eax:-.125,eay:-.004,se:!1,ee:!0}]),this.ec("easeoutbounce",[{x:0,y:0,sax:.125,say:.004,eax:0,eay:0,se:!0,ee:!1},{x:.365,y:1,sax:.097,say:-.319,eax:-.105,eay:-.625,se:!0,ee:!0},{x:.728,y:1,sax:.026,say:-.078,eax:-.097,eay:-.319,se:!0,ee:!0},{x:.91,y:1,sax:.033,say:-.025,eax:-.026,eay:-.078,se:!0,ee:!0},{x:1,y:1,sax:0,say:0,eax:-.033,eay:-.025,se:!1,
ee:!0}]),this.ec("easeinoutbounce",[{x:0,y:0,sax:.01,say:.006,eax:0,eay:0,se:!0,ee:!1},{x:.046,y:0,sax:.021,say:.038,eax:-.01,eay:.006,se:!0,ee:!0},{x:.137,y:0,sax:.059,say:.158,eax:-.021,eay:.038,se:!0,ee:!0},{x:.319,y:0,sax:.117,say:.744,eax:-.059,eay:.158,se:!0,ee:!0},{x:.683,y:1,sax:.059,say:-.158,eax:-.117,eay:-.744,se:!0,ee:!0},{x:.865,y:1,sax:.021,say:-.038,eax:-.059,eay:-.158,se:!0,ee:!0},{x:.956,y:1,sax:.01,say:-.006,eax:-.021,eay:-.038,se:!0,ee:!0},{x:1,y:1,sax:0,say:0,eax:-.01,eay:-.006,
se:!1,ee:!0}]),this.ec("easeincubic",[{x:0,y:0,sax:.75,say:0,eax:0,eay:0,se:!0,ee:!1},{x:1,y:1,sax:0,say:0,eax:-.138,eay:-.321,se:!1,ee:!0}]),this.ec("easeoutcubic",[{x:0,y:0,sax:.138,say:.321,eax:0,eay:0,se:!0,ee:!1},{x:1,y:1,sax:0,say:0,eax:-.75,eay:0,se:!1,ee:!0}]),this.ec("easeinoutcubic",[{x:0,y:0,sax:.285,say:0,eax:0,eay:0,se:!0,ee:!1},{x:.5,y:.5,sax:.081,say:.272,eax:-.081,eay:-.272,se:!0,ee:!0},{x:1,y:1,sax:0,say:0,eax:-.285,eay:0,se:!1,ee:!0}]),this.ec("easeinquad",[{x:0,y:0,sax:.4,say:0,
eax:0,eay:0,se:!0,ee:!1},{x:1,y:1,sax:0,say:0,eax:-.178,eay:-.392,se:!1,ee:!0}]),this.ec("easeoutquad",[{x:0,y:0,sax:.178,say:.392,eax:0,eay:0,se:!0,ee:!1},{x:1,y:1,sax:0,say:0,eax:-.4,eay:0,se:!1,ee:!0}]),this.ec("easeinoutquad",[{x:0,y:0,sax:.25,say:0,eax:0,eay:0,se:!0,ee:!1},{x:.5,y:.5,sax:.03,say:.065,eax:-.03,eay:-.065,se:!0,ee:!0},{x:1,y:1,sax:0,say:0,eax:-.25,eay:0,se:!1,ee:!0}]),this.ec("easeinquart",[{x:0,y:0,sax:.25,say:1,eax:0,eay:0,se:!0,ee:!1},{x:1,y:1,sax:0,say:0,eax:-.5,eay:0,se:!1,
ee:!0}]),this.ec("easeoutquart",[{x:0,y:0,sax:.5,say:0,eax:0,eay:0,se:!0,ee:!1},{x:1,y:1,sax:0,say:0,eax:-.25,eay:-1,se:!1,ee:!0}]),this.ec("easeinoutquart",[{x:0,y:0,sax:.765,say:.03,eax:0,eay:0,se:!0,ee:!1},{x:1,y:1,sax:0,say:0,eax:-.765,eay:-.03,se:!1,ee:!0}]),this.ec("easeinquint",[{x:0,y:0,sax:.6,say:0,eax:0,eay:0,se:!0,ee:!1},{x:1,y:1,sax:0,say:0,eax:-.2,eay:-1,se:!1,ee:!0}]),this.ec("easeoutquint",[{x:0,y:0,sax:.2,say:1,eax:0,eay:0,se:!0,ee:!1},{x:1,y:1,sax:0,say:0,eax:-.6,eay:0,se:!1,ee:!0}]),
this.ec("easeinoutquint",[{eax:0,eay:0,ee:!1,sax:.84,say:0,se:!0,x:0,y:0},{eax:-.84,eay:0,ee:!0,sax:0,say:0,se:!1,x:1,y:1}]),this.ec("easeincirc",[{x:0,y:0,sax:.25,say:0,eax:0,eay:0,se:!0,ee:!1},{x:1,y:1,sax:0,say:0,eax:-.024,eay:-.808,se:!1,ee:!0}]),this.ec("easeoutcirc",[{x:0,y:0,sax:.024,say:.808,eax:0,eay:0,se:!0,ee:!1},{x:1,y:1,sax:0,say:0,eax:-.25,eay:0,se:!1,ee:!0}]),this.ec("easeinoutcirc",[{x:0,y:0,sax:.125,say:0,eax:0,eay:0,se:!0,ee:!1},{x:.5,y:.5,sax:.02,say:.428,eax:-.02,eay:-.428,se:!0,
ee:!0},{x:1,y:1,sax:0,say:0,eax:-.125,eay:0,se:!1,ee:!0}]),this.ec("easeinexpo",[{x:0,y:0,sax:.66,say:0,eax:0,eay:0,se:!0,ee:!1},{x:1,y:1,sax:0,say:0,eax:-.14,eay:-1,se:!1,ee:!0}]),this.ec("easeoutexpo",[{x:0,y:0,sax:.14,say:1,eax:0,eay:0,se:!0,ee:!1},{x:1,y:1,sax:0,say:0,eax:-.66,eay:0,se:!1,ee:!0}]),this.ec("easeinoutexpo",[{eax:0,eay:0,ee:!1,sax:.345,say:0,se:!0,x:0,y:0},{eax:-.06,eay:-.5,ee:!0,sax:.06,say:.5,se:!0,x:.5,y:.5},{eax:-.335,eay:0,ee:!0,sax:0,say:0,se:!1,x:1,y:1}]),this.qR("cubicbezier",
this.jX),this.qR("spline",this.kX))}static ec(b,d,c=!1){if("function"===typeof d)a.ny(b,d,"predefined");else if(Wc.Gl(d))if(self.QW){const e=Wc.C(self.QW,b,c);e.ida(d);a.ny(b,(g,k,l,n)=>e.Qa(g,k,l,n),"predefined");ad.set(b,e)}else{const e=Wc.C(Wc.ZI,[b,d.map(g=>[g.x,g.y,g.sax,g.say,g.eax,g.eay,g.se,g.ee])],!1);e.pT=!!c;a.ny(b,(g,k,l,n)=>e.Qa(g,k,l,n),"predefined")}else throw Error("unexpected arguments");}static qR(b,d){a.ny(b,d,"private")}static zW(b,d){this.fJ();a.ny(b,d,"custom")}static ny(b,d,
c){switch(c){case "predefined":Xc.set(b,d);Yc.set(b,d);break;case "custom":Zc.set(b,d);break;case "private":Xc.set(b,d);$c.set(b,d);break;default:throw Error("unexpected ease mode");}}static hZ(b,d,c,e){return c*b/e+d}static jX(b,d,c,e,g){return d+3*b*(c-d)+3*b**2*(d+e-2*c)+b**3*(g-d+3*c-3*e)}static kX(b,d,c,e,g,k,l,n,p,r){if(e===g&&k===l)c=b;else{if(1==b)b=1;else{for(var w=0,x=1,z=r[x];10!=x&&z<=b;)x++,z=r[x],w+=.1;x--;z=r[x];r=w+(b-z)/(r[x+1]-z)*.1;n=n-3*k+3*e-d;k=3*k-6*e+3*d;d=3*(e-d);e=3*n*r*
r+2*k*r+d;if(0!==e)if(.01<=e)for(w=0;4>w;++w)r-=(((n*r+k)*r+d)*r-b)/(3*n*r*r+2*k*r+d);else{e=w;w+=.1;x=0;let F;do r=e+(w-e)/2,z=((n*r+k)*r+d)*r-b,0<z?w=r:e=r,z=1E-7<Math.abs(z),F=10>++x;while(z&&F)}b=r}c=(((p-3*l+3*g-c)*b+(3*l-6*g+3*c))*b+3*(g-c))*b}return c}static JX(b,d,c,e){const g=[];e=e-3*c+3*d-b;c=3*c-6*d+3*b;b=3*(d-b);for(let k=0;11>k;++k)d=.1*k,g.push(((e*d+c)*d+b)*d);return g}};"use strict";const cd=self.D;cd.Zaa=class{constructor(a){this.cT=[];this.Sa=a||""}A(){this.pe();this.cT=null}ua(){return this.Sa}pe(){cd.D3(this.cT)}};
"use strict";let dd=0;self.D.Aca=class{constructor(a,b){this.j=a;this.ol=b;this.le=dd++;ed(this.j,"runtime","screen-reader-text",{type:"create",id:this.le,text:this.ol})}A(){ed(this.j,"runtime","screen-reader-text",{type:"release",id:this.le});this.j=null;this.ol="";this.le=-1}$Q(a){this.ol!==a&&(this.ol=a,ed(this.j,"runtime","screen-reader-text",{type:"update",id:this.le,text:this.ol}))}};"use strict";
self.D.Event=class{constructor(a,b){this.type=a;this.cancelable=!!b;this.m4=this.WO=this.defaultPrevented=!1}preventDefault(){if(!this.cancelable)throw Error(`event '${this.type}' is not cancelable`);this.defaultPrevented=!0}stopPropagation(){if(!this.cancelable)throw Error(`event '${this.type}' cannot be stopped`);if(this.m4)throw Error(`cannot stop async event '${this.type}' propagation`);this.WO=!0}};"use strict";const fd=self.D;
function gd(a,b,d){0<a.Pk?a.qw.push({RO:"add",Wj:b,capture:d}):d?a.Vu.has(b)||(a.Ug.push(b),a.Vu.add(b)):a.Vv.has(b)||(a.ah.push(b),a.Vv.add(b))}function hd(a){a.Pk--;if(0===a.Pk&&0<a.qw.length){const b=new Set,d=new Set;for(const c of a.qw)if("add"===c.RO)gd(a,c.Wj,c.capture),c.capture?d.delete(c.Wj):b.delete(c.Wj);else if("remove"===c.RO)c.capture?(a.Vu.delete(c.Wj),d.add(c.Wj)):(a.Vv.delete(c.Wj),b.add(c.Wj));else throw Error("invalid op");fd.$h(a.ah,b);fd.$h(a.Ug,d);fd.I(a.qw)}}
function kd(a,b){const d=[];a.Pk++;for(let e=0,g=a.Ug.length;e<g;++e){var c=a.Ug[e](b);c instanceof Promise&&d.push(c)}for(let e=0,g=a.ah.length;e<g;++e)c=a.ah[e](b),c instanceof Promise&&d.push(c);hd(a);return d.length?Promise.all(d).then(()=>!b.defaultPrevented):!b.defaultPrevented}async function ld(a,b){return await kd(a,b)}
async function md(a,b){a.Pk++;for(let c=0,e=a.Ug.length;c<e;++c){var d=a.Ug[c](b);d instanceof Promise&&await d}for(let c=0,e=a.ah.length;c<e;++c)d=a.ah[c](b),d instanceof Promise&&await d;hd(a);return!b.defaultPrevented}function*nd(a,b){a.Pk++;for(let c=0,e=a.Ug.length;c<e;++c){var d=a.Ug[c](b);fd.Tm(d)&&(yield*d)}for(let c=0,e=a.ah.length;c<e;++c)d=a.ah[c](b),fd.Tm(d)&&(yield*d);hd(a)}
fd.Event.eY=class extends fd.Ca{constructor(a){super();this.Da=a;this.Ug=[];this.Vu=new Set;this.ah=[];this.Vv=new Set;this.Pk=0;this.qw=[]}A(){0<this.Pk||(fd.I(this.Ug),this.Vu.clear(),fd.I(this.ah),this.Vv.clear(),fd.I(this.qw),fd.A(this))}uu(a){a?this.Pk++:hd(this)}};"use strict";const od=self.D;function pd(a,b,d){let c=a.Vl.get(b);return c?c:d?(c=od.C(od.Event.eY,b),a.Vl.set(b,c),c):null}async function qd(a,b){return(a=pd(a,b.type,!1))?await ld(a,b):!0}
async function rd(a,b){(a=pd(a,b.type,!1))&&await md(a,b)}function sd(a,b){a=pd(a,b.type,!1);if(!a)return null;if(b.cancelable)throw Error("not supported");return nd(a,b)}
od.Event.sb=class extends od.Ca{constructor(){super();this.Vl=new Map;this.BK=!1}A(){if(this.BK)throw Error("already released");if(this.Vl){for(let a of this.Vl.values())a.A();this.Vl.clear()}this.BK=!0;od.A(this)}vk(){return this.BK}addEventListener(a,b,d){gd(pd(this,a,!0),b,!!d)}removeEventListener(a,b,d){let c=pd(this,a,!1);c&&(d=!!d,0<c.Pk?c.qw.push({RO:"remove",Wj:b,capture:d}):d?c.Vu.has(b)&&(c.Vu.delete(b),fd.Cm(c.Ug,b)):c.Vv.has(b)&&(c.Vv.delete(b),fd.Cm(c.ah,b)),c.Ug.length||c.ah.length||
this.Vl.delete(a))}dispatchEvent(a){const b=pd(this,a.type,!1);if(b)if(a.cancelable){b.Pk++;let d=!1;for(let c=0,e=b.Ug.length;c<e;++c)if(b.Ug[c](a),a.WO){d=!0;break}if(!d)for(let c=0,e=b.ah.length;c<e&&(b.ah[c](a),!a.WO);++c);hd(b);a=!a.defaultPrevented}else{b.Pk++;for(let d=0,c=b.Ug.length;d<c;++d)b.Ug[d](a);for(let d=0,c=b.ah.length;d<c;++d)b.ah[d](a);hd(b);a=!0}else a=!0;return a}uu(a){for(const b of this.Vl.values())b.uu(a)}};"use strict";const td=self.D,ud="undefined"!==typeof requestIdleCallback;
let vd=[],wd=-1,xd=0;function yd(a){wd=ud&&0===xd?requestIdleCallback(zd,{timeout:35}):setTimeout(zd,0<xd?1:a)}function zd(a){wd=-1;if(vd.length){var b=performance.now(),d=0;do{Dd(vd.shift());var c=performance.now();++d;var e=(c-b)/d*1.1}while(vd.length&&(ud&&0===xd&&"undefined"!==typeof a?e<a.timeRemaining():12>c-b+e));-1===wd&&vd.length&&yd(Math.max(16-(c-b),4))}}function Dd(a){let b;try{b=a.Wj()}catch(d){a.reject(d);return}a.resolve(b)}let Ed=td.UC.Ox("disable-asyncify");Ed&&console.warn("[Asyncify] Asyncify has been disabled due to disable-asyncify in the query string. Some work will now be done synchronously.");
td.lx=function(a){let b=null;td.CB&&(b=td.mC());return new Promise((d,c)=>{vd.push({Wj:a,resolve:d,reject:c,stack:b});Ed?Dd(vd.pop()):-1===wd&&yd(16)})};td.lx.VQ=function(a){if(a)++xd;else if(--xd,0>xd)throw Error("already turned off high throughput mode");};"use strict";const Fd=self.D;let Gd=-1;function Hd(){Gd=-1}Fd.jC=function(){-1===Gd&&(Gd=Date.now(),self.setTimeout(Hd,16));return Gd};let Id=-1,Jd=-1,Ld=new Set;
function Md(){Jd=Id=-1;let a=Date.now();for(let c of Ld){var b=c;var d=a;d>=b.ls?b.Uu()?(b.ls=d+b.Gq,b=!0):b=b.Pb=!1:b=!0;if(b){if(b=c.ls,-1===Jd||b<Jd)Jd=b}else Ld.delete(c)}-1!==Jd&&(Id=self.setTimeout(Md,Math.max(Jd-a+100,1E3)))}
Fd.zY=class{constructor(a,b){this.Uu=a;this.Gq=1E3*b;this.ls=0;this.Pb=!1}Yb(){let a=Fd.jC();this.ls=a+this.Gq;this.Pb||(Ld.add(this),this.Pb=!0);-1===Id?(Jd=this.ls,Id=self.setTimeout(Md,this.Gq+100)):this.ls<Jd&&Jd>a+1E3&&(self.clearTimeout(Id),Jd=this.ls,Id=self.setTimeout(Md,this.Gq+100))}A(){this.Pb&&(Ld.delete(this),this.Pb=!1,0===Ld.size&&-1!==Id&&(self.clearTimeout(Id),Jd=Id=-1));this.Uu=null}};"use strict";const Nd=self.D;
Nd.Eb=class a{constructor(b){this.jv=!1;this.bE=b}hC(){this.jv||(this.jv=!0,this.bE&&(this.bE(),this.bE=null))}A(){this.hC()}static A(b){return new a(()=>b.A())}static Ub(b,d,c){if("undefined"===typeof e||null===e)var e=!1;else if("boolean"!==typeof e&&"object"!==typeof e)throw new TypeError("invalid event listener options");if(d.includes(" ")){d=d.split(" ");const g=new Nd.Hm;for(let k of d)b.addEventListener(k,c,e),g.Tb(Nd.C(Nd.Eb,()=>b.removeEventListener(k,c,e)));return g}b.addEventListener(d,
c,e);return Nd.C(Nd.Eb,()=>b.removeEventListener(d,c,e))}};function Od(a,b){a.bE=b}Nd.Rea=class extends Nd.Eb{};Nd.Hm=class extends Nd.Eb{constructor(...a){super();this.Wd=new Set;for(let b of a)this.Tb(b)}Tb(...a){if(this.jv)throw Error("already disposed");for(let b of a)this.Wd.add(b)}xh(a){if(this.jv)throw Error("already disposed");this.Wd.delete(a)}hC(){if(this.jv)throw Error("already disposed");this.jv=!0;for(let a of this.Wd)a.hC();this.Wd.clear();this.Wd=null}A(){this.hC()}};"use strict";
const Pd=self.D;Pd.ou=class extends Pd.Ca{constructor(){super();this.Dq=this.vt=this.aa=this.Su=0}Tb(a){this.aa=+a-this.Su;this.vt=this.Dq+this.aa;this.Su=this.vt-this.Dq-this.aa;this.Dq=this.vt}ba(){return this.Dq}Yb(){this.Dq=this.vt=this.aa=this.Su=0}Set(a){this.vt=this.aa=this.Su=0;this.Dq=+a}JH(a){this.Su=a.Su;this.aa=a.aa;this.vt=a.vt;this.Dq=a.Dq}A(){}};"use strict";
const Qd=self.D,Rd={zI:function(a){this.iW=a;this.left=this.right=this.iW.Jb;this.parent=null;this.color=!1;this.key=null},yr:function(a){this.size=0;this.Jb=new Rd.zI(this);this.Jb.color=!1;this.root=this.Jb;this.root.parent=this.Jb;this.compare=a||this.N3}};aa=Rd.yr.prototype;aa.N3=function(a,b){return a<b?-1:b<a?1:0};
aa.clone=function(){var a=new Rd.yr(this.compare);if("array"==Rd.jP(this))for(var b=0;b<this.length;b++)a.Yw(this[b]);else if("function"==Rd.jP(this.forEach))this.forEach(a.Yw,a);else if("function"==Rd.jP(this.sO)){var d=this.sO();for(b=0;b<d.length;b++)a.Yw(d[b])}else if("object"==Rd.jP(this))for(b in this)a.Yw(this[b]);return a};aa.clear=function(){this.size=0;this.Jb=new Rd.zI(this);this.Jb.color=!1;this.root=this.Jb;this.root.parent=this.Jb};
function Yd(a,b){var d=b.right;b.right=d.left;d.left!=a.Jb&&(d.left.parent=b);d.parent=b.parent;b.parent==a.Jb?a.root=d:b==b.parent.left?b.parent.left=d:b.parent.right=d;d.left=b;b.parent=d}function Zd(a,b){var d=b.left;b.left=d.right;d.right!=a.Jb&&(d.right.parent=b);d.parent=b.parent;b.parent==a.Jb?a.root=d:b==b.parent.right?b.parent.right=d:b.parent.left=d;d.right=b;b.parent=d}
aa.Yw=function(a){if(this.contains(a))$d(this,a).key=a;else{var b=new Rd.zI(this);b.key=a;a=this.Jb;for(var d=this.root;d!=this.Jb;)a=d,d=0>this.compare(b.key,d.key)?d.left:d.right;b.parent=a;a==this.Jb?this.root=b:0>this.compare(b.key,a.key)?a.left=b:a.right=b;b.left=this.Jb;b.right=this.Jb;for(b.color=!0;b!=this.Jb&&b!=this.root&&1==b.parent.color;)b.parent==b.parent.parent.left?(a=b.parent.parent.right,1==a.color?(b.parent.color=!1,a.color=!1,b.parent.parent.color=!0,b=b.parent.parent):(b==b.parent.right&&
(b=b.parent,Yd(this,b)),b.parent.color=!1,b.parent.parent.color=!0,b.parent.parent!=this.Jb&&Zd(this,b.parent.parent))):(a=b.parent.parent.left,1==a.color?(b.parent.color=!1,a.color=!1,b.parent.parent.color=!0,b=b.parent.parent):(b==b.parent.left&&(b=b.parent,Zd(this,b)),b.parent.color=!1,b.parent.parent.color=!0,b.parent.parent!=this.Jb&&Yd(this,b.parent.parent)));this.root.color=!1;this.size++}};
aa.remove=function(a){var b=$d(this,a);if(b!=this.Jb){a=b.key;var d=b.left==this.Jb||b.right==this.Jb?b:ae(this,b);var c=d.left!=this.Jb?d.left:d.right;c.parent=d.parent;d.parent==this.Jb?this.root=c:d==d.parent.left?d.parent.left=c:d.parent.right=c;d!=b&&(b.key=d.key);if(0==d.color){for(b=c;b!=this.root&&0==b.color;)b==b.parent.left?(d=b.parent.right,1==d.color&&(d.color=!1,b.parent.color=!0,Yd(this,b.parent),d=b.parent.right),0==d.left.color&&0==d.right.color?(d.color=!0,b=b.parent):(0==d.right.color&&
(d.left.color=!1,d.color=!0,Zd(this,d),d=b.parent.right),d.color=b.parent.color,b.parent.color=!1,d.right.color=!1,Yd(this,b.parent),b=this.root)):(d=b.parent.left,1==d.color&&(d.color=!1,b.parent.color=!0,Zd(this,b.parent),d=b.parent.left),0==d.right.color&&0==d.left.color?(d.color=!0,b=b.parent):(0==d.left.color&&(d.right.color=!1,d.color=!0,Yd(this,d),d=b.parent.left),d.color=b.parent.color,b.parent.color=!1,d.left.color=!1,Zd(this,b.parent),b=this.root));b.color=!1}this.size--;return a}return null};
aa.min=function(a){for(;a.left!=this.Jb;)a=a.left;return a};aa.max=function(a){for(;a.right!=this.Jb;)a=a.right;return a};function ae(a,b){if(b.right!=a.Jb)return a.min(b.right);for(var d=b.parent;d!=a.Jb&&b==d.right;)b=d,d=d.parent;return d}function $d(a,b){for(var d=a.root;d!=a.Jb&&0!=a.compare(d.key,b);)d=0>a.compare(b,d.key)?d.left:d.right;return d}aa.contains=function(a){return null!=$d(this,a).key};aa.sO=function(){var a=[];this.forEach(function(b){a.push(b)});return a};
aa.range=function(a,b){var d=[];be(this,function(c){d.push(c)},a,b);return d};function be(a,b,d,c){if(0!=a.size)for(d=$d(a,d),c=$d(a,c);d!=c&&!b.call(void 0,d.key,a);)d=ae(a,d)}aa.forEach=function(a,b){if(0!=this.size)for(var d=this.min(this.root);d!=this.Jb;d=ae(this,d))a.call(b,d.key,d.key,this)};aa.some=function(a,b){if(0==this.size)return!1;for(var d=this.min(this.root);d!=this.Jb;d=ae(this,d))if(a.call(b,d.key,d.key,this))return!0;return!1};
aa.every=function(a,b){if(0==this.size)return!1;for(var d=this.min(this.root);d!=this.Jb;d=ae(this,d))if(!a.call(b,d.key,d.key,this))return!1;return!0};aa.map=function(a,b){var d=[];if(0==this.size)return d;for(var c=this.min(this.root);c!=this.Jb;c=ae(this,c))d.push(a.call(b,c.key,c.key,this));return d};aa.filter=function(a,b){var d=[];if(0==this.size)return d;for(var c=this.min(this.root);c!=this.Jb;c=ae(this,c))a.call(b,c.key,c.key,this)&&d.push(c.key);return d};
function ce(a,b){b=!!b;if(a.nv!==b&&(a.nv=b,!b)){for(const d of a.jt)a.Kj.remove(d);a.jt.clear();for(const d of a.it)a.Kj.Yw(d);a.it.clear()}}
Qd.yr=class extends Qd.Ca{constructor(a){super();this.Kj=new Rd.yr(a);this.nv=!1;this.it=new Set;this.jt=new Set}Tb(a){this.nv?this.Kj.contains(a)?this.jt.delete(a):this.it.add(a):this.Kj.Yw(a)}xh(a){this.nv?this.Kj.contains(a)?this.jt.add(a):this.it.delete(a):this.Kj.remove(a)}Ox(a){return this.nv?this.it.has(a)?!0:!this.jt.has(a)&&this.Kj.contains(a):this.Kj.contains(a)}pe(){this.Kj.clear();this.it.clear();this.jt.clear()}toArray(){if(this.nv)throw Error("cannot be used in queueing mode");return this.Kj.sO()}li(){return this.Kj.size+
this.it.size-this.jt.size}nk(){return 0===this.li()}*values(){if(!this.nk()){var a=this.Kj;for(let b=a.min(a.root);b!=a.Jb;b=ae(a,b))yield b.key}}[Symbol.iterator](){return this.values()}};"use strict";const de=self.D;async function ee(a){if(a.XM.length&&!(a.IJ>=a.G2)){a.IJ++;var b=a.XM.shift();try{const d=await b.Wj();b.resolve(d)}catch(d){b.reject(d)}a.IJ--;ee(a)}}
de.RC=class{constructor(a=de.hardwareConcurrency){this.G2=a;this.XM=[];this.IJ=0}Tb(a){return new Promise((b,d)=>{this.XM.push({Wj:a,resolve:b,reject:d});ee(this)})}};"use strict";const fe=self.D;function ge(a){a.kL=!0;const b=a.Ty;a.Ty=null;b?a.Uu(...b):a.Uu();a.kL=!1}function he(a){var b=[];if(-1===a.Kw){a.Ty=b;b=fe.jC();var d=b-a.rF;var c="undefined"!==typeof fe.MW&&fe.MW.t9()?a.m2:a.l2;d>=c&&a.M1?(a.rF=b,ge(a)):a.Kw=self.setTimeout(a.xU,Math.max(c-d,4))}}
function ie(a){-1!==a.Kw&&(self.clearTimeout(a.Kw),a.Kw=-1)}fe.H_=class{constructor(a,b,d){this.Uu=a;this.l2=b;this.m2=d||2*b;this.Kw=-1;this.rF=-Infinity;this.xU=()=>{this.Kw=-1;this.rF=fe.jC();ge(this)};this.M1=this.kL=!1;this.Ty=null}Yb(){this.kL||(ie(this),this.Ty=null,this.rF=fe.jC())}A(){ie(this);this.xU=this.Ty=this.Uu=null}};"use strict";function je(a,b){if(!a.CS)throw Error("no get base size callback set");return a.CS(b)}
self.D.wca=class{constructor(){this.i2=new Map;this.VT=this.aU=this.CS=null}WC(){if(!this.VT)throw Error("no redraw callback set");this.VT()}};"use strict";
self.D.vca=class{constructor(a,b){this.De=a;this.U1=b;this.rc=0;je(this.De,b).then(()=>{this.De&&this.De.WC()}).catch(d=>{console.error("[SVG] Error loading SVG: ",d);this.De&&this.De.WC()});this.YM=null}A(){if(0>=this.rc)throw Error("already released");this.rc--;0===this.rc&&this.yy()}yy(){if(this.YM){var a=this.De;if(!a.aU)throw Error("no release result callback set");a.aU(this.YM);this.YM=null}this.De.i2.delete(this.U1);this.De=null}};"use strict";const T=self.D;T.nfa="\ufeff";const ke=new Set([..."0123456789"]);
T.LY=function(a){return ke.has(a)};const le=new Set([..." \t\n\r\u00a0\u0085\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u200b\u2028\u2029\u202f\u205f\u3000"]);T.JC=function(a){return le.has(a)};T.T7=function(a){return[...a].filter(b=>!T.JC(b)).join("")};T.MY=function(a){for(const b of a)if(!T.JC(b))return!1;return!0};T.VP=function(a){for(const b of a)if(!T.JC(b))return!1;return!0};T.PY=function(a){return 1===a.length&&32>a.charCodeAt(0)};
T.wX=function(a){return[...a].filter(b=>!T.PY(b)).join("")};const me=new Set([..."0123456789.+-e"]);T.G9=function(a){a=a.trim();if(!a.length)return!1;let b=a.charAt(0);if("-"!==b&&!ke.has(b))return!1;for(let d of a)if(!me.has(d))return!1;return!0};T.I_=function(a){let b=a.length;for(;0<b&&T.LY(a.charAt(b-1));)--b;return a.substr(0,b)};T.UP=function(a){let b=T.I_(a);a=(a=a.substr(b.length))?(parseInt(a,10)+1).toString():"2";return b+a};
const ne=new Map([["&","&amp;"],["<","&lt;"],[">","&gt;"],['"',"&quot;"],["'","&#39;"]]);function oe(a){return ne.get(a)}const pe=/[&<>"']/g;T.pX=function(a){return a.replace(pe,oe)};T.I7=function(a){a=T.mj(a,"\\","\\\\");a=T.mj(a,'"','\\"');a=T.mj(a,"\t","\\t");a=T.mj(a,"\r","");return T.mj(a,"\n","\\n")};T.J7=function(a){a=T.mj(a,"&","&amp;");a=T.mj(a,"<","&lt;");a=T.mj(a,">","&gt;");return T.mj(a,'"',"&quot;")};const ve=/[-[\]{}()*+?.,\\^$|#\s]/g;T.ox=function(a){return a.replace(ve,"\\$&")};
T.q7=function(a,b){let d=0;for(const c of a)c===b&&++d;return d};T.U7=function(a,b,d=!1){if(!b)return[];d||(a=a.toLowerCase(),b=b.toLowerCase());d=b.length;var c=0;let e=[];for(;-1<(c=a.indexOf(b,c));)e.push(c),c+=d;return e};T.mj=function(a,b,d){return a.replaceAll(b,()=>d)};T.tba=function(a,b,d){return a.replace(new RegExp(T.ox(b),"gi"),()=>d)};
T.ada=function(a,b){if("string"===typeof b)a.textContent=b;else if(b.$S)a.textContent=b.toString();else if(a.innerHTML=we(b),b instanceof T.Xt&&b.fA.length)for(let d=0,c=b.fA.length;d<c;++d){const e=b.fA[d];if("function"!==typeof e)continue;const g=a.querySelector(".bblink"+d);if(!g)throw Error("unable to attach BBString link handler");g.onclick=e}};T.Mea=function(a,b){return a instanceof T.CC||a instanceof T.Xt?a.Pd(b):b instanceof T.CC||b instanceof T.Xt?b.Pd(a):a===b};
T.Nea=function(a,...b){let d=a;for(let c=0,e=b.length;c<e;++c){const g=`{${c}}`;if(!a.includes(g))throw Error(`missing placeholder '${g}' in string substitution`);d=d.replace(g,b[c].toString())}return d};T.Oea=function(a,...b){let d=a,c=-1,e=-1;for(let g=0,k=b.length;g<k;++g){const l=`{${g}}`;a.includes(l)?(e=g,d=d.replace(l,b[g].toString())):-1===c&&(c=g)}if(0<=c&&0<=e&&c<e)throw Error(`missing placeholder '${c}' in string substitution`);return d};
T.k0=function(a){var b={"%%SAMPLERFRONT_BINDING%%":"@binding(0) @group(1)","%%TEXTUREFRONT_BINDING%%":"@binding(1) @group(1)","%%SAMPLERBACK_BINDING%%":"@binding(0) @group(2)","%%TEXTUREBACK_BINDING%%":"@binding(1) @group(2)","%%SAMPLERDEPTH_BINDING%%":"@binding(0) @group(3)","%%TEXTUREDEPTH_BINDING%%":"@binding(1) @group(3)","%%SHADERPARAMS_BINDING%%":"@binding(5) @group(0)","%%FRAGMENTINPUT_STRUCT%%":"\nstruct FragmentInput {\n\t@location(0) fragUV : vec2<f32>,\n\t@location(1) fragColor : vec4<f32>,\n\t@builtin(position) fragPos : vec4<f32>\n};\n\nfn c3_getBackUV(fragPos : vec2<f32>, texBack : texture_2d<f32>) -> vec2<f32>\n{\n\treturn fragPos / vec2<f32>(textureDimensions(texBack));\n}\n\nfn c3_getDepthUV(fragPos : vec2<f32>, texDepth : texture_depth_2d) -> vec2<f32>\n{\n\treturn fragPos / vec2<f32>(textureDimensions(texDepth));\n}\n",
"%%FRAGMENTOUTPUT_STRUCT%%":"\nstruct FragmentOutput {\n\t@location(0) color : vec4<f32>\n};\n","%%C3PARAMS_STRUCT%%":"\nstruct C3Params {\n\tsrcStart\t\t\t: vec2<f32>,\n\tsrcEnd\t\t\t\t: vec2<f32>,\n\tsrcOriginStart\t\t: vec2<f32>,\n\tsrcOriginEnd\t\t: vec2<f32>,\n\tlayoutStart\t\t\t: vec2<f32>,\n\tlayoutEnd\t\t\t: vec2<f32>,\n\tdestStart\t\t\t: vec2<f32>,\n\tdestEnd\t\t\t\t: vec2<f32>,\n\tdevicePixelRatio\t: f32,\n\tlayerScale\t\t\t: f32,\n\tlayerAngle\t\t\t: f32,\n\tseconds\t\t\t\t: f32,\n\tzNear\t\t\t\t: f32,\n\tzFar\t\t\t\t: f32,\n\tisSrcTexRotated\t\t: u32\n};\n@binding(4) @group(0) var<uniform> c3Params : C3Params;\n\nfn c3_srcToNorm(p : vec2<f32>) -> vec2<f32>\n{\n\treturn (p - c3Params.srcStart) / (c3Params.srcEnd - c3Params.srcStart);\n}\n\nfn c3_normToSrc(p : vec2<f32>) -> vec2<f32>\n{\n\treturn fma(p, c3Params.srcEnd - c3Params.srcStart, c3Params.srcStart);\n}\n\nfn c3_clampToSrc(p : vec2<f32>) -> vec2<f32>\n{\n\treturn clamp(p, min(c3Params.srcStart, c3Params.srcEnd), max(c3Params.srcStart, c3Params.srcEnd));\n}\n\nfn c3_srcOriginToNorm(p : vec2<f32>) -> vec2<f32>\n{\n\treturn (p - c3Params.srcOriginStart) / (c3Params.srcOriginEnd - c3Params.srcOriginStart);\n}\n\nfn c3_normToSrcOrigin(p : vec2<f32>) -> vec2<f32>\n{\n\treturn fma(p, c3Params.srcOriginEnd - c3Params.srcOriginStart, c3Params.srcOriginStart);\n}\n\nfn c3_clampToSrcOrigin(p : vec2<f32>) -> vec2<f32>\n{\n\treturn clamp(p, min(c3Params.srcOriginStart, c3Params.srcOriginEnd), max(c3Params.srcOriginStart, c3Params.srcOriginEnd));\n}\n\nfn c3_getLayoutPos(p : vec2<f32>) -> vec2<f32>\n{\n\treturn fma(p - c3Params.srcOriginStart, (c3Params.layoutEnd - c3Params.layoutStart) / (c3Params.srcOriginEnd - c3Params.srcOriginStart), c3Params.layoutStart);\n}\n\nfn c3_srcToDest(p : vec2<f32>) -> vec2<f32>\n{\n\treturn fma(p - c3Params.srcStart, (c3Params.destEnd - c3Params.destStart) / (c3Params.srcEnd - c3Params.srcStart), c3Params.destStart);\n}\n\nfn c3_clampToDest(p : vec2<f32>) -> vec2<f32>\n{\n\treturn clamp(p, min(c3Params.destStart, c3Params.destEnd), max(c3Params.destStart, c3Params.destEnd));\n}\n\nfn c3_linearizeDepth(depthSample : f32) -> f32\n{\n\treturn c3Params.zNear * c3Params.zFar / (c3Params.zFar + depthSample * (c3Params.zNear - c3Params.zFar));\n}\n",
"%%C3_UTILITY_FUNCTIONS%%":"\nfn c3_premultiply(c : vec4<f32>) -> vec4<f32>\n{\n\treturn vec4<f32>(c.rgb * c.a, c.a);\n}\n\nfn c3_unpremultiply(c : vec4<f32>) -> vec4<f32>\n{\n\tif (c.a == 0.0)\n\t{\n\t\treturn vec4<f32>(0.0);\n\t}\n\t\n\treturn vec4<f32>(c.rgb / c.a, c.a);\n}\n\nfn c3_grayscale(rgb : vec3<f32>) -> f32\n{\n\treturn dot(rgb, vec3<f32>(0.299, 0.587, 0.114));\n}\n\nfn c3_getPixelSize(t : texture_2d<f32>) -> vec2<f32>\n{\n\treturn vec2<f32>(1.0) / vec2<f32>(textureDimensions(t));\n}\n\nfn c3_clamp2(v : vec2<f32>, l : f32, u : f32) -> vec2<f32>\n{\n\treturn clamp(v, vec2<f32>(l), vec2<f32>(u));\n}\n\nfn c3_mod(x : f32, y : f32) -> f32\n{\n\treturn x - y * floor(x / y);\n}\n\nfn c3_mod2(x : vec2<f32>, y : vec2<f32>) -> vec2<f32>\n{\n\treturn x - y * floor(x / y);\n}\n\nfn c3_RGBtoHSL(color : vec3<f32>) -> vec3<f32>\n{\n\tvar hsl : vec3<f32> = vec3<f32>(0.0);\n\t\n\tvar fmin : f32 = min(min(color.r, color.g), color.b);\n\tvar fmax : f32 = max(max(color.r, color.g), color.b);\n\tvar delta : f32 = fmax - fmin;\n\n\thsl.z = (fmax + fmin) / 2.0;\n\n\tif (delta == 0.0)\n\t{\n\t\thsl.x = 0.0;\n\t\thsl.y = 0.0;\n\t}\n\telse \n\t{\n\t\tif (hsl.z < 0.5)\n\t\t{\n\t\t\thsl.y = delta / (fmax + fmin);\n\t\t}\n\t\telse\n\t\t{\n\t\t\thsl.y = delta / (2.0 - fmax - fmin);\n\t\t}\n\t\t\n\t\tvar dR : f32 = (((fmax - color.r) / 6.0) + (delta / 2.0)) / delta;\n\t\tvar dG : f32 = (((fmax - color.g) / 6.0) + (delta / 2.0)) / delta;\n\t\tvar dB : f32 = (((fmax - color.b) / 6.0) + (delta / 2.0)) / delta;\n\n\t\tif (color.r == fmax)\n\t\t{\n\t\t\thsl.x = dB - dG;\n\t\t}\n\t\telse if (color.g == fmax)\n\t\t{\n\t\t\thsl.x = (1.0 / 3.0) + dR - dB;\n\t\t}\n\t\telse if (color.b == fmax)\n\t\t{\n\t\t\thsl.x = (2.0 / 3.0) + dG - dR;\n\t\t}\n\n\t\tif (hsl.x < 0.0)\n\t\t{\n\t\t\thsl.x = hsl.x + 1.0;\n\t\t}\n\t\telse if (hsl.x > 1.0)\n\t\t{\n\t\t\thsl.x = hsl.x - 1.0;\n\t\t}\n\t}\n\n\treturn hsl;\n}\n\nfn c3_hueToRGB(f1 : f32, f2 : f32, hue_ : f32) -> f32\n{\n\tvar hue : f32 = hue_;\n\tif (hue < 0.0)\n\t{\n\t\thue = hue + 1.0;\n\t}\n\telse if (hue > 1.0)\n\t{\n\t\thue = hue - 1.0;\n\t}\n\t\t\n\tvar ret : f32;\n\t\n\tif ((6.0 * hue) < 1.0)\n\t{\n\t\tret = f1 + (f2 - f1) * 6.0 * hue;\n\t}\n\telse if ((2.0 * hue) < 1.0)\n\t{\n\t\tret = f2;\n\t}\n\telse if ((3.0 * hue) < 2.0)\n\t{\n\t\tret = f1 + (f2 - f1) * ((2.0 / 3.0) - hue) * 6.0;\n\t}\n\telse\n\t{\n\t\tret = f1;\n\t}\n\t\n\treturn ret;\n}\n\nfn c3_HSLtoRGB(hsl : vec3<f32>) -> vec3<f32>\n{\n\tvar rgb : vec3<f32> = vec3<f32>(hsl.z);\n\t\n\tif (hsl.y != 0.0)\n\t{\n\t\tvar f2 : f32;\n\t\t\n\t\tif (hsl.z < 0.5)\n\t\t{\n\t\t\tf2 = hsl.z * (1.0 + hsl.y);\n\t\t}\n\t\telse\n\t\t{\n\t\t\tf2 = (hsl.z + hsl.y) - (hsl.y * hsl.z);\n\t\t}\n\t\t\t\n\t\tvar f1 : f32 = 2.0 * hsl.z - f2;\n\t\t\n\t\trgb.r = c3_hueToRGB(f1, f2, hsl.x + (1.0 / 3.0));\n\t\trgb.g = c3_hueToRGB(f1, f2, hsl.x);\n\t\trgb.b = c3_hueToRGB(f1, f2, hsl.x - (1.0 / 3.0));\n\t}\n\t\n\treturn rgb;\n}\n"};
for(let [d,c]of Object.entries(b))a=a.replaceAll(d,c.toString());return a};T.Aea=function(a,b){return a>b?1:a<b?-1:0};T.Bea=function(a,b){a=a.toLowerCase();b=b.toLowerCase();return a>b?1:a<b?-1:0};let xe=null,ye=null;self.Intl&&self.Intl.Segmenter?xe=new self.Intl.Segmenter:ye=new self.cY;T.gR=function(a){if(xe){const b=[];for(const d of xe.segment(a))b.push(d.segment);return b}return ye.Y4(a)};T.L9=function*(a){if(xe)for(const b of xe.segment(a))yield b.segment;else yield*ye.v4(a)};
T.r7=function(a){if(xe){let b=0;for(const d of xe.segment(a))++b;return b}return ye.I3(a)};
T.Y7=function(a,b){b="common."+(b?"dataRates":"dataSizes")+".";const d=self.Gha;if(1024>a)return d(b+"bytes",a);if(1048576>a)return a/=1024,a=10>a?Math.round(10*a)/10:Math.round(a),d(b+"kilobytes",a);if(1073741824>a)return a/=1048576,a=10>a?Math.round(10*a)/10:Math.round(a),d(b+"megabytes",a);if(1099511627776>a)return a/=1073741824,a=10>a?Math.round(10*a)/10:Math.round(a),d(b+"gigabytes",a);a/=1099511627776;a=10>a?Math.round(10*a)/10:Math.round(a);return d(b+"terabytes",a)};
const ze={s3:!1,K3:!0,i4:!0,C4:!0,nH:!0};
T.Z7=function(a,b){b=Object.assign({},ze,b);T.UY.cba("common.time");const d=[],c=self.lang,e=self.Fha;if(b.K3){var g=Math.floor(a/86400);0<g&&(a-=86400*g,d.push(e(".days",null,g)))}b.i4&&(g=Math.floor(a/3600),0<g||d.length)&&(a-=3600*g,d.push(e(".hours",null,g)));b.C4&&(g=Math.floor(a/60),0<g||d.length||!b.nH)&&(a-=60*g,d.push(e(".minutes",null,g)));b.nH&&d.push(e(".seconds",null,Math.floor(a%60)));a=(b.s3?c(".approx-prefix"):"")+d.join(c(".separator"));T.UY.Paa();return a};
T.ega=function(a,b){let d=0>a?"-":"";a=Math.abs(a);a=a.toString();b-=a.length;for(let c=0;c<b;++c)d+="0";return d+a};T.Pea=function(a){return a.toLowerCase().replace(/\b\w/g,b=>b.toUpperCase())};T.h7=function(a,b){a=a.split(".").map(d=>d.trim());b=b.split(".").map(d=>d.trim());T.UV(a);T.UV(b);a=a.map(d=>parseInt(d,10));b=b.map(d=>parseInt(d,10));for(let d=0;4>d;++d){const c=a[d]-b[d];if(0!==c)return 0>c?-1:1}return 0};
T.s7=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,a=>{const b=Math.floor(16*Math.random());return("x"===a?b:b&3|8).toString(16)})};T.Kea=function(a,b){if(a.length!==b.length)throw Error("strings must be same length");let d=0;for(let c=0,e=a.length;c<e;++c)a.charAt(c)!==b.charAt(c)&&++d;return d};
T.Lea=function(a,b){if(0===a.length)return b.length;if(0===b.length)return a.length;let d,c,e,g;if(a.length>b.length){var k=a;a=b;b=k}g=Array(a.length+1);for(k=0;k<=a.length;k++)g[k]=k;for(k=1;k<=b.length;k++){c=k;for(d=1;d<=a.length;d++)e=b[k-1]===a[d-1]?g[d-1]:Math.min(g[d-1]+1,Math.min(c+1,g[d]+1)),g[d-1]=c,c=e;g[a.length]=c}return g[a.length]};"use strict";
const Ae=self.D,Be=new Map([["b","strong"],["i","em"],["s","s"],["u","u"],["sub","sub"],["sup","sup"],["small","small"],["mark","mark"],["code","code"],["a1","a"],["a2","a"],["a3","a"],["a4","a"],["a5","a"],["a6","a"],["a7","a"],["a8","a"],["a9","a"],["tip1","abbr"],["tip2","abbr"],["tip3","abbr"],["tip4","abbr"],["tip5","abbr"],["tip6","abbr"],["tip7","abbr"],["tip8","abbr"],["tip9","abbr"],["bad",["span","bbCodeBad"]],["good",["span","bbCodeGood"]],["info",["span","bbCodeInfo"]],["h1",["span","bbCodeH1"]],
["h2",["span","bbCodeH2"]],["h3",["span","bbCodeH3"]],["h4",["span","bbCodeH4"]],["item",["span","bbCodeItem"]]]),Ce=new Set(["icon"]),De=/\[(\/?)([a-zA-Z0-9]+)\]/g,Ee=/\[(\/?)([^\[\n]*?)\]/g;let Fe=null,Ge=null,He=0;
function Ie(a,b,d){var c=Be.get(d);if(c){if("string"===typeof c){if("a"===c&&0===Fe.length||"abbr"===c&&0===Ge.length)return a;if("a"!==c||b){if("abbr"!==c||b)return"<"+b+c+">";b=parseInt(d.substring(3),10)-1;if(0>b||b>=Ge.length)throw Error("invalid bbcode tip substitution");b=Ge[b];c="";"string"===typeof b?c=b:"function"===typeof b&&(c=b());if("string"!==typeof c)throw new TypeError("invalid bbcode tip");return`<abbr title="${Ae.mj(c,'"',"&quot;")}">`}b=parseInt(d.substring(1),10)-1;if(0>b||b>=
Fe.length)throw Error("invalid bbcode link substitution");c=Fe[b];if("string"===typeof c)return`<a href="${Fe[b]}">`;if("function"===typeof c)return`<a class="bblink${b}">`;throw new TypeError("invalid bbcode link action");}if(Array.isArray(c))return a=c[0],c=c[1],b?"</"+a+">":`<${a} class="${c}">`}else return"class"===d?b?"</span>":`<span class="bbclass${He++}">`:a}const Je=/\n/g;
function we(a){if(a.$S)return a.uj;if(!a.iL&&a.uj){let b=a.uj;a.FS&&(He=0,Fe=a.fA,Ge=a.zU,b=b.replace(De,Ie),Ge=Fe=null);a.ET&&(b=b.replace(Je,"<br>"));a.iL=b}return a.iL}function Ke(a){a=Ae.mj(a,"\\[","[");return Ae.mj(a,"\\\\","\\")}
function Le(a){if(a.IS)return a.zs;const b=[],d=a.uj,c=[];let e=Ee.lastIndex=0;for(var g=null;null!==(g=Ee.exec(d));){var k=g.index;if(0<k&&"\\"===d.charAt(k-1))continue;var l=g[1],n=g[2];const p=d.substring(e,k);e=k+g[0].length;p&&b.push({text:p,mh:c.slice(0)});if(n)if(l)for(n=n.toLowerCase(),g=c.length-1;0<=g;--g){if(c[g].tag===n){c.splice(g,1);break}}else if(g=n,k=null,l=n.indexOf("="),-1!==l?(g=n.substring(0,l).toLowerCase(),k=n.substring(l+1)):g=g.toLowerCase(),Ce.has(g))if("icon"===g)b.push({icon:k,
mh:c.slice(0)});else throw Error(`unknown self-closing tag ${g}`);else c.push({tag:g,di:k})}e<d.length&&b.push({text:d.substring(e),mh:c.slice(0)});for(const p of b)p.text&&(p.text=Ke(p.text));a.zs=b.map(p=>p.icon?Ae.C(Ae.TP,{icon:p.icon,mh:p.mh}):Ae.C(Ae.cn,{Eo:Ae.gR(p.text),mh:p.mh}));a.IS=!0;return a.zs}
Ae.Xt=class{constructor(a){var b={F4:!0};this.uj=b&&b.F4?a:Ae.pX(a);this.iL="";this.XR=!1;this.fA=[];this.zU=[];if(b){this.XR=!!b.xga;if(b.links){if(9<b.links.length)throw Error("too many links");this.fA=b.links}if(b.fW){if(9<b.fW.length)throw Error("too many tips");this.zU=b.fW}}this.FS=this.uj.includes("[");this.ET=this.XR&&this.uj.includes("\n");this.$S=!this.FS&&!this.ET&&!this.uj.includes("&");this.IS=!1;this.zs=[]}toString(){return this.uj}valueOf(){return this.uj}Pd(a){return a instanceof Ae.CC?
we(this)===we(a):a instanceof Ae.Xt?this.uj===a.uj:this.uj===a}};"use strict";const Me=self.D;function Ne(a){return"\u00a0"===a||"\u202f"===a?!1:Me.JC(a)}
function Oe(a,b,d){let c=0,e=0,g=0,k=0,l=0;for(const n of b)-1===n.P()&&(b=d(n),n.ug(b.height),n.ws=b.fontBoundingBoxAscent||0,n.Lp=b.fontBoundingBoxDescent||0,n.Hq=b.ul||0,n.Ng()?n.Of(b.width):n.Vx()&&(b=Pe(n,a.KE),n.S=b?n.T*b.P()/b.N():0)),c+=n.P(),e=Math.max(e,n.N()),g=Math.max(g,n.ws),k=Math.max(k,n.Lp),l=Math.max(l,n.Hq);return{width:c,height:e,fontBoundingBoxAscent:g,fontBoundingBoxDescent:k,ul:l}}
function Qe(a,b,d,c,e,g,k){a.Uv.push(Me.C(Me.my.eQ,{yB:b,width:d,height:c,fontBoundingBoxAscent:e,fontBoundingBoxDescent:g,ul:k}))}
function Re(a){const b=[];var d=[],c=!1;for(const g of a)if(a=g.jo,g.Vx())0<d.length&&b.push(d),b.push([g]),d=[];else for(const k of g.Vg)if("\n"===k||"\r\n"===k)0<d.length&&b.push(d),d=Me.C(Me.cn,{Eo:["\n"],mh:a}),b.push([d]),d=[];else if(0===d.length)c=Me.C(Me.cn,{Eo:[k],mh:a}),d.push(c),c=Ne(k);else{var e=Ne(k);e===c?(e=d.at(-1),e.jo===a?e.Vg.push(k):(e=Me.C(Me.cn,{Eo:[k],mh:a}),d.push(e))):(b.push(d),d=[],c=Me.C(Me.cn,{Eo:[k],mh:a}),d.push(c),c=e)}0<d.length&&b.push(d);return b}
function Se(a,b,d,c,e){var g=[],k=0,l=0;let n=0,p=0;var r=0;for(const w of b){if(b=1===w.length&&w[0].Ng()&&1===w[0].tC())b=w[0].Vg[0],b="\n"===b||"\r\n"===b;if(b){0===l&&(l=Me.C(Me.cn,{Eo:[" "],mh:w[0].jo}),r=d(l),l=r.height,n=r.fontBoundingBoxAscent||0,p=r.fontBoundingBoxDescent||0,r=r.ul||0);Qe(a,g,k,l,n,p,r);g=[];r=p=n=l=k=0;continue}b=Te(g);Ue(b,w);const x=Oe(a,b,d),z=x.width;z>=c?(0<g.length&&Qe(a,g,k,l,n,p,r),g=[],w[0].Ng()&&Me.VP(w[0].Vg)?r=p=n=l=k=0:(Ue(g,w),r=Oe(a,g,d),k=r.width,l=r.height,
n=r.fontBoundingBoxAscent,p=r.fontBoundingBoxDescent,r=r.ul)):(g=b,k=z,l=x.height,n=x.fontBoundingBoxAscent,p=x.fontBoundingBoxDescent,r=x.ul)}0<g.length&&Qe(a,g,k,l,n,p,r);for(const w of a.Uv)if(a=w.zs,a.length&&(c=a.at(-1),c.Ng())){g=c.Vg;for(k=g.slice(0);0<k.length&&Ne(k.at(-1));)k.pop();0===k.length?(w.pk(-c.P()),a.pop()):k.length<g.length&&(c.Vg=k,g=d(c).width,k=c.P()-g,c.Of(g),w.pk(-k));0!==e&&0<a.length&&(c=a.at(-1),c.pk(e),w.pk(e))}}function Te(a){return a.map(b=>b.dJ())}
function Ue(a,b){var d=a.length?a.at(-1):null;let c=0;d&&d.Ng()&&b[0].Ng()&&b[0].jo===d.jo&&(Ve.Bm(d.Vg,b[0].Vg),d.S=-1,d.T=-1,d.ws=-1,d.Lp=-1,d.Hq=-1,c=1);for(d=b.length;c<d;++c)a.push(b[c].dJ())}
Me.my=class{constructor(){this.Uv=[];this.KE=null}my(a,b,d,c,e){"string"===typeof a&&(a=[Me.C(Me.cn,{Eo:Me.gR(a)})]);Me.I(this.Uv);if(!(!a.length||1===a.length&&a[0].Ng()&&a[0].nk()||2>d)){if(1===a.length){const g=a[0];if(g.Ng()&&100>=g.tC()&&!g.Vg.includes("\n")){let {width:k,height:l,fontBoundingBoxAscent:n,fontBoundingBoxDescent:p,ul:r}=b(g);k+=e;g.Of(k);g.ug(l);g.ws=n||0;g.Lp=p||0;g.Hq=r||0;if(k<=d){Qe(this,[g],k,l,n,p,r);return}}}if("word"===c)c=Re(a);else{c=[];for(const g of a)g.Ng()?Me.Bm(c,
g.Vg.map(k=>[Me.C(Me.cn,{Eo:[k],mh:g.jo})])):c.push([g])}Se(this,c,b,d,e)}}pe(){Me.I(this.Uv)}};"use strict";function*We(a){a=a.zs;for(let b=a.length-1;0<=b;--b)yield a[b]}self.D.my.eQ=class{constructor(a){this.zs=a.yB||[];this.S=a.width||-1;this.T=a.height||-1;this.ws=a.fontBoundingBoxAscent||-1;this.Lp=a.fontBoundingBoxDescent||-1;this.Hq=a.ul||-1;this.xA=this.wA=0}yB(){return this.zs.values()}pk(a){this.S+=a}P(){return this.S}N(){return this.T}hy(a){this.wA=a}iy(a){this.xA=a}};"use strict";
function Xe(a,b){a=a.jo;for(let d=a.length-1;0<=d;--d){const c=a[d];if(c.tag===b)return c}return null}self.D.KP=class{constructor(a){this.jo=a.mh||[];this.S=a.width||-1;this.T=a.height||-1;this.ws=a.fontBoundingBoxAscent||-1;this.Lp=a.fontBoundingBoxDescent||-1;this.Hq=a.ul||-1;this.xA=this.wA=0}Ng(){return!1}Vx(){return!1}pk(a){this.S+=a}Of(a){this.S=a}P(){return this.S}ug(a){this.T=a}N(){return this.T}hy(a){this.wA=a}iy(a){this.xA=a}};"use strict";const Ve=self.D;
Ve.cn=class extends Ve.KP{constructor(a){super(a);this.Vg=a.Eo}Ng(){return!0}dJ(){return Ve.C(Ve.cn,{Eo:this.Vg.slice(0),mh:this.jo,width:this.S,height:this.T,fontBoundingBoxAscent:this.ws,fontBoundingBoxDescent:this.Lp,ul:this.Hq})}tC(){return this.Vg.length}nk(){return 0===this.Vg.length}};"use strict";const Ye=self.D;
function Pe(a,b){if(!b)return null;let d=Number(a.JE);return String(d)===a.JE?(d=Math.floor(d),a=Math.floor(d),0>a||a>=b.Jz.length?null:b.Jz[a]):b.jL.get(a.JE.toLowerCase())||null}Ye.TP=class extends Ye.KP{constructor(a){super(a);this.JE=a.icon}Vx(){return!0}dJ(){return Ye.C(Ye.TP,{icon:this.JE,mh:this.jo,width:this.S,height:this.T,fontBoundingBoxAscent:this.ws,fontBoundingBoxDescent:this.Lp,ul:this.Hq})}QH(a){return(a=Pe(this,a))?a.QH():null}tC(){return 1}};"use strict";
self.D.n0=class{constructor(){this.MS=new Map}A(){for(const a of this.MS.values())a.A();this.MS.clear()}};"use strict";const cf=self.D;cf.Zea=class{constructor(a,b){this.xG=a;this.Jz=[];this.jL=new Map;this.Xk=!1;this.fm=null;a=b.vha.AV;for(let d=0,c=a.length;d<c;++d){b=a[d];const e=cf.C(cf.m0,this,{index:d,tag:b.tag,source:b.source,width:b.width,height:b.height});this.Jz.push(e);b.tag&&this.jL.set(b.tag.toLowerCase(),e)}}A(){for(const a of this.Jz)a.A();cf.I(this.Jz);this.jL.clear();this.xG=null}};
"use strict";self.D.m0=class{constructor(a,b){this.xa=b.index;this.fg=b.tag;this.S=b.width;this.T=b.height;this.V1=null}A(){this.T=this.S=0}P(){return this.S}N(){return this.T}QH(){return this.V1}};"use strict";const df=self.D,ef=self.cj,ff=ef.tH,gf=ef.QB,hf=ef.tl,jf=ff.create(),kf=ff.create(),lf=ff.create(),mf=gf.create(),nf=hf.create(),of=ff.create(),pf=ff.create(),qf=ff.create(),rf=ff.create(),sf=ff.create(),tf=ff.create(),uf=ff.create(),vf=ff.create(),wf=gf.Jg(0,0,1,1);
function xf(a,b,d,c,e,g,k){hf.multiply(nf,e,c);if(null===hf.$w(nf,nf))return!1;mf[0]=(a-g[0])/g[2]*2-1;mf[1]=(b-g[1])/g[3]*2-1;mf[2]=2*d-1;mf[3]=1;gf.iP(mf,mf,nf);if(0===mf[3])return!1;mf[3]=1/mf[3];k[0]=mf[0]*mf[3];k[1]=mf[1]*mf[3];k[2]=mf[2]*mf[3];return!0}
df.W={su(a,b,d,c,e,g,k){const l=c[0]*a+c[4]*b+c[8]*d+c[12],n=c[1]*a+c[5]*b+c[9]*d+c[13],p=c[2]*a+c[6]*b+c[10]*d+c[14];c=c[3]*a+c[7]*b+c[11]*d+c[15];a=e[0]*l+e[4]*n+e[8]*p+e[12]*c;b=e[1]*l+e[5]*n+e[9]*p+e[13]*c;d=e[2]*l+e[6]*n+e[10]*p+e[14]*c;e=e[3]*l+e[7]*n+e[11]*p+e[15]*c;if(0===e)return!1;e=1/e;k[0]=(a*e*.5+.5)*g[2]+g[0];k[1]=(b*e*.5+.5)*g[3]+g[1];k[2]=.5*(1+d*e);return!0}};
function yf(a,b,d,c){ff.No(jf,d,b);ff.No(kf,a,b);ff.kO(lf,jf,kf);ff.normalize(lf,lf);c.set(lf[0],lf[1],lf[2],ff.Ho(a,lf))}function zf(a,b,d,c,e,g,k){const l=k.x,n=k.y,p=k.z,r=k.w,w=k.qW,x=k.rW;k=k.sW;const z=1-w,F=1-x,C=1-k;return l*a*w+l*c*z+n*b*x+n*e*F+p*d*k+p*g*C>=r?!0:l*c*w+l*a*z+n*e*x+n*b*F+p*g*k+p*d*C>r}class Af{constructor(){this.sW=this.rW=this.qW=this.w=this.z=this.y=this.x=NaN}set(a,b,d,c){this.x=a;this.y=b;this.z=d;this.w=c;this.qW=0<a?1:0;this.rW=0<b?1:0;this.sW=0<d?1:0}}
df.W.F0=class{constructor(){this.mT=new Af;this.AU=new Af;this.cU=new Af;this.PR=new Af;this.zM=new Af;this.sS=new Af}};"use strict";const Bf=self.D,Cf=self.cj,Df=Cf.tH,Ef=Cf.QB,Ff=Cf.tl,Hf=Ff.create(),If=Df.Jg(0,0,0),Jf=Df.Jg(0,0,0),Kf=Df.Jg(0,0,0),Lf=Df.Jg(0,1,0);Ef.Jg(0,0,0,0);new Bf.yd;new Bf.Rect;const Mf=new Bf.yd(0,0,1,0,1,1,0,1),Nf={JO:1,mO:1E4},Of=Ff.Jg(1,0,0,0,0,1,0,0,0,0,.5,0,0,0,.5,1);
function Pf(a){let b=0,d=a.length,c=0;for(;b<d;)a[b++]=c,a[b++]=c+1,a[b++]=c+2,a[b++]=c,a[b++]=c+2,a[b++]=c+3,c+=4}function Qf(a){a.Gh=0;a.xn=0;a.ot=null;a.TA=null;a.UA=null;a.SA=null;Bf.I(a.Vr);a.KA.clear()}function Rf(a){for(const b of a.Vr)b.A();Qf(a)}function Sf(a,b,d,c=.5,e=.5){const g=a.lq,k=a.Ip;var l=a.xs;.5===c&&.5===e?a.Sd()?Ff.M4(b,l,d,g,k):Ff.perspective(b,l,d,g,k):(c=1-c,l=a.YA*g,d*=l,Ff.b4(b,(2*c-2)*d,2*c*d,(2*e-2)*l,2*e*l,g,k),a.Sd()&&Ff.Jo(b,Of,b))}
function Tf(a,b,d,c,e,g){let k=1;!a.It&&(k=200*a.YA/g);Df.set(Kf,k,-k,1);Df.multiply(If,d,Kf);Df.multiply(Jf,c,Kf);Ff.A4(b,If,Jf,e||Lf);Kf[2]=1;Ff.scale(b,b,Kf)}function Uf(a,b,d,c,e,g,k){Df.set(If,b,d,c);Df.set(Jf,e,g,0);Tf(a,Hf,If,Jf,Lf,k);return Hf}function Wf(a,b){a.Vr.push(b);a.KA.set(b.ua(),b)}function Xf(a){a.rk(a.ot)}function Yf(a,b){--b.rc;0===b.rc&&(a.Bg===b&&(a.Bg=null),a.qt.delete(Zf(b.JA,b.Rg,b.Kc,b.wd)),b.A())}
function $f(a,b){Bf.I(a.DD);a.DT.clear();let d=0;for(const c of b){b=c[0];const e=c[1],g=c[2];a.DD.push([e,g]);a.DT.set(b,{nia:d,pja:e,Iga:g});d++}}function ag(a,b){a.xn=b;a.Bg=null}function bg(a,b,d,c,e,g,k){var l=a.cM;b=b+l-k;d=d+l-g;c=c+l+k;e=e+l+g;l=2*k;const n=2*g;a.Yx(b+g,d-k,0,c+g,e-k,0,c-g-l,e+k-n,0,b-g+l,d+k+n,0,Mf)}function cg(a,b,d,c,e,g,k){const l=a.cM;b=b+l-k;d=d+l-g;c=c+l+k;e=e+l+g;a.Yx(b+g,d-k,0,c+g,e-k,0,c-g,e+k,0,b-g,d+k,0,Mf)}
function dg(a,b,d,c,e,g,k){const l=a.cM;b+=l;d+=l;c+=l;e+=l;a.Yx(b+g,d-k,0,c+g,e-k,0,c-g,e+k,0,b-g,d+k,0,Mf)}function eg(a){var b=fg,d=b.la,c=b.ea,e=b.wa;b=b.ra;const g=.5*a.oT,k=a.nT;2===k?(bg(a,d,c,e,c,0,g),bg(a,e,c,e,b,g,0),bg(a,e,b,d,b,0,-g),bg(a,d,b,d,c,-g,0)):1===k?(cg(a,d,c,e,c,0,g),cg(a,e,c,e,b,g,0),cg(a,e,b,d,b,0,-g),cg(a,d,b,d,c,-g,0)):(dg(a,d,c,e,c,0,g),dg(a,e,c,e,b,g,0),dg(a,e,b,d,b,0,-g),dg(a,d,b,d,c,-g,0))}
Bf.W.EQ=class{constructor(a){a=Object.assign({},Nf,a);this.T=this.S=0;this.xs=Bf.Ta(45);this.YA=Math.tan(this.xs/2);this.Ss=Ff.create();this.cw=Ff.create();this.It=!1;this.lq=a.JO;this.Ip=a.mO;this.Vr=[];this.KA=new Map;this.SA=this.UA=this.TA=this.ot=null;this.qt=new Map;this.Bg=null;this.DD=[];this.DT=new Map;this.xn=this.Gh=0;this.nT=this.oT=1;this.cM=.5;this.Vf=0;this.ss=!0;this.eL=!1}mr(){Qf(this);this.Bg=null}P(){return this.S}N(){return this.T}If(a){return this.It?a/(2*this.YA):100}LI(a){this.xs=
a;this.YA=Math.tan(this.xs/2)}eQ(a,b,d,c){var e=Bf.Do(a,b,d,c),g=.5*this.oT;const k=Math.sin(e)*g;e=Math.cos(e)*g;g=this.nT;2===g?bg(this,a,b,d,c,k,e):1===g?cg(this,a,b,d,c,k,e):dg(this,a,b,d,c,k,e)}Oo(){this.qe(!0);this.Vf++}NI(a){this.ss=!!a}lj(){return!1}Sd(){return!1}RH(){}};"use strict";
self.D.W.cR=class{constructor(a,b){this.Sa=b.name;this.V=a;this.Z1=b.R3||0;this.a2=b.S3||0;this.tK=!!b.J3;this.I2=!!b.D4;this.lw=!!b.Q4;this.Y2=!!b.b5;this.z1=!!b.r3;this.Ou=!!b.y3;this.PN=!!b.m5;this.mB=!1}A(){this.V=null}Ga(){return this.V}ua(){return this.Sa}ur(){return this.I2}mR(){return!1}};"use strict";const gg=self.D;function Zf(a,b,d,c){return("string"===typeof a?a:a.ua())+","+b+","+d.kb+","+d.Ra+","+d.hb+","+d.ab+","+c}
gg.W.h0=class{constructor(a,b,d,c,e){this.V=a;this.rc=0;this.Nc=null;this.JA="";this.Rg=d;this.Kc=gg.C(gg.ub);this.Kc.set(c);this.wd=e;"string"===typeof b?this.JA=b:(this.Nc=b,this.JA=this.Nc.ua())}A(){if(0<this.rc)throw Error("releasing state group still in use");this.Nc=this.V=null;this.JA=""}Td(){this.Nc=null}MC(a){this.Nc=a.KA.get(this.JA)||null;if(!this.Nc)throw Error("failed to restore shader program");}};"use strict";const hg=self.D,ig=hg.C(hg.yd);
function jg(a,b,d){const c=d.xc,e=d.yc;return[c+(d.Wc-c)*a+(d.Rc-c)*b,e+(d.Xc-e)*a+(d.Sc-e)*b]}
hg.W.dZ=class{constructor(a){this.pM=a;this.ih=this.gh=this.wd=this.aa=this.ka=0}Bk(a,b,d,c){this.ka=a;this.aa=b;this.gh=d;this.ih=c}X(){return this.ka}Pg(a){this.ka!==a&&(this.ka=a,this.pM.vA=!0)}Y(){return this.aa}Bh(a){this.aa!==a&&(this.aa=a,this.pM.vA=!0)}eb(){return this.wd}xg(a){this.wd!==a&&(this.wd=Math.max(a,0),this.pM.vA=!0)}Ic(){return{x:this.X(),y:this.Y(),z:this.eb(),u:this.gh,v:this.ih}}pc(a){this.Pg(a.x);this.Bh(a.y);a.hasOwnProperty("z")&&this.xg(a.z);this.gh=a.u;this.ih=a.v}};
function kg(a){if(a.vA){var b=Infinity,d=Infinity,c=-Infinity,e=-Infinity,g=0;for(const k of a.uq)for(const l of k){const n=l.X(),p=l.Y();b=Math.min(b,n);d=Math.min(d,p);c=Math.max(c,n);e=Math.max(e,p);g=Math.max(g,l.eb())}a.AT=b;a.BT=d;a.vT=c;a.wT=e;a.xT=g;a.vA=!1}}function lg(a,b,d){b=Math.floor(b);d=Math.floor(d);return 0>b||b>=a.Yl||0>d||d>=a.wm?null:a.uq[d][b]}
function mg(a,b,d,c){const e=c instanceof hg.Rect;if(b.Yl!==a.Yl||b.wm!==a.wm)throw Error("source mesh wrong size");b=b.uq;a=a.uq;for(let n=0,p=a.length;n<p;++n){const r=b[n],w=a[n];for(let x=0,z=w.length;x<z;++x){var g=r[x],k=w[x];if(e){var l=c;[k.ka,k.aa]=jg(g.ka,g.aa,d);k.wd=g.wd;k.gh=hg.Ef(l.la,l.wa,g.gh);k.ih=hg.Ef(l.ea,l.ra,g.ih)}else l=c,[k.ka,k.aa]=jg(g.ka,g.aa,d),k.wd=g.wd,[k.gh,k.ih]=jg(g.gh,g.ih,l)}}}
function ng(a){const b=og.He,d=[],c=a.Yl-1;a=a.wm-1;const e=1/c,g=1/a,k=c-1,l=a-1;let n=b[0],p=b[1],r=hg.$(Math.floor(n*c),0,k),w=hg.$(Math.floor(p*a),0,l),x=0,z=0,F=0;var C=-1;const G=()=>{n=hg.$(hg.Ef(n,x,F),0,1);p=hg.$(hg.Ef(p,z,F),0,1);d.push(n,p)};for(let J=0,K=b.length;J<K;J+=2)for(n=b[J],p=b[J+1],d.push(n,p),r=hg.$(Math.floor(n*c),0,k),w=hg.$(Math.floor(p*a),0,l),C=(J+2)%K,x=b[C],z=b[C+1],C=-1;;){if(1E6<d.length)throw Error("Too many mesh poly points");const O=r*e,na=w*g,ka=(r+1)*e,Ja=(w+1)*
g;if(0!==C&&(F=hg.NB(n,p,x,z,O,na,ka,Ja,-.001),0<=F&&.99999999>=F)){G();C=0;continue}if(0<w&&2!==C&&(F=hg.NB(n,p,x,z,O,na,ka,na,.001),0<=F&&.99999999>=F)){G();w--;C=4;continue}if(r<k&&3!==C&&(F=hg.NB(n,p,x,z,ka,na,ka,Ja,.001),0<=F&&.99999999>=F)){G();r++;C=1;continue}if(0<r&&1!==C&&(F=hg.NB(n,p,x,z,O,na,O,Ja,.001),0<=F&&.99999999>=F)){G();r--;C=3;continue}if(w<l&&4!==C&&(F=hg.NB(n,p,x,z,O,Ja,ka,Ja,.001),0<=F&&.99999999>=F)){G();w++;C=2;continue}break}return hg.C(hg.$q,d)}
function pg(a,b,d){var c=a.Yl-1,e=a.wm-1;const g=1/c,k=1/e;c=hg.$(Math.floor(b*c),0,c-1);const l=hg.$(Math.floor(d*e),0,e-1);e=c*g;const n=l*k,p=(c+1)*g,r=(l+1)*k,w=lg(a,c,l),x=lg(a,c+1,l+1),z=hg.s4(b,d,e,n,p,n,p,r);a=lg(a,c+(z?1:0),l+(z?0:1));const [F,C,G]=hg.i5(b,d,e,n,z?e+g:e,z?n:n+k,p,r);return hg.h5(F,C,G,w.X(),w.Y(),w.eb(),a.X(),a.Y(),a.eb(),x.X(),x.Y(),x.eb())}
hg.W.iQ=class{constructor(a,b,d){if(2>a||2>b)throw Error("invalid mesh size");this.Yl=a;this.wm=b;this.Ab=d||null;this.uq=[];this.BT=this.AT=0;this.wT=this.vT=1;this.xT=0;this.vA=!1;d=a-1;const c=b-1;for(let e=0;e<b;++e){const g=[];for(let k=0;k<a;++k){const l=hg.C(hg.W.dZ,this,k,e),n=k/d,p=e/c;l.Bk(n,p,n,p);g.push(l)}this.uq.push(g)}}A(){hg.I(this.uq)}xl(a){const b=this.uq;let d=b[0];for(let c=1,e=b.length;c<e;++c){const g=b[c];let k=d[0],l=g[0];for(let n=1,p=g.length;n<p;++n){const r=d[n],w=g[n];
ig.set(k.gh,k.ih,r.gh,r.ih,w.gh,w.ih,l.gh,l.ih);a.Yx(k.X(),k.Y(),k.eb(),r.X(),r.Y(),r.eb(),w.X(),w.Y(),w.eb(),l.X(),l.Y(),l.eb(),ig);k=r;l=w}d=g}}Ic(){return{cols:this.Yl,rows:this.wm,points:this.uq.map(a=>a.map(b=>b.Ic()))}}pc(a){const b=this.Yl,d=this.wm;if(a.cols!==b||a.rows!==d)throw Error("mesh data wrong size");a=a.points;for(let c=0;c<d;++c){const e=a[c];for(let g=0;g<b;++g)lg(this,g,c).pc(e[g])}}};"use strict";
const qg=self.D,rg=new Set(["rgba8","rgb8","rgba4","rgb5_a1","rgb565"]),sg=new Set(["nearest","bilinear","trilinear"]),tg=new Set(["default","low","high"]),ug=new Set(["clamp-to-edge","repeat","mirror-repeat"]);
function vg(a,b){let d,c;switch(a){case "rgba8":a=b.RGBA8;c=d=b.RGBA;b=b.UNSIGNED_BYTE;break;case "rgb8":a=b.RGB8;c=d=b.RGB;b=b.UNSIGNED_BYTE;break;case "rgba4":a=b.RGBA4;c=d=b.RGBA;b=b.UNSIGNED_SHORT_4_4_4_4;break;case "rgb5_a1":a=b.RGB5_A1;c=d=b.RGBA;b=b.UNSIGNED_SHORT_5_5_5_1;break;case "rgb565":a=b.RGB565;c=d=b.RGB;b=b.UNSIGNED_SHORT_5_6_5;break;default:throw Error("invalid pixel format");}return{dP:a,Zw:d,format:c,type:b}}
const wg={Fm:"clamp-to-edge",Gm:"clamp-to-edge",tc:"trilinear",Uw:0,UO:"rgba8",Io:!0,JB:"default",premultiplyAlpha:!0,IV:!1,width:-1,height:-1},xg={premultiplyAlpha:!0,flipY:!1},yg=new Set;function zg(a){return"clamp-to-edge"!==a.Zi||"clamp-to-edge"!==a.$i}
function Ag(a,b){var d=qg.Xj(a.S)&&qg.Xj(a.T);b.texParameteri(b.TEXTURE_2D,b.TEXTURE_WRAP_S,Bg(b,a.Zi));b.texParameteri(b.TEXTURE_2D,b.TEXTURE_WRAP_T,Bg(b,a.$i));"nearest"===a.ic?(b.texParameteri(b.TEXTURE_2D,b.TEXTURE_MAG_FILTER,b.NEAREST),b.texParameteri(b.TEXTURE_2D,b.TEXTURE_MIN_FILTER,b.NEAREST),a.Lh=!1):(b.texParameteri(b.TEXTURE_2D,b.TEXTURE_MAG_FILTER,b.LINEAR),(d||a.V.hp())&&a.Lh?(b.hint(b.GENERATE_MIPMAP_HINT,Cg(a,b)),b.generateMipmap(b.TEXTURE_2D),b.texParameteri(b.TEXTURE_2D,b.TEXTURE_MIN_FILTER,
"trilinear"!==a.ic||a.V.eL?b.LINEAR_MIPMAP_NEAREST:b.LINEAR_MIPMAP_LINEAR)):(b.texParameteri(b.TEXTURE_2D,b.TEXTURE_MIN_FILTER,b.LINEAR),a.Lh=!1));(d=a.V.Gy)&&0<a.Wr&&"nearest"!==a.ic&&b.texParameterf(b.TEXTURE_2D,d.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(a.Wr,a.V.mM))}function Cg(a,b){if("default"===a.Ts)return a.uf?b.NICEST:b.FASTEST;if("low"===a.Ts)return b.FASTEST;if("high"===a.Ts)return b.NICEST;throw Error("invalid mipmap quality");}
function Bg(a,b){if("clamp-to-edge"===b)return a.CLAMP_TO_EDGE;if("repeat"===b)return a.REPEAT;if("mirror-repeat"===b)return a.MIRRORED_REPEAT;throw Error("invalid wrap mode");}function Dg(a){if(0>=a.rc)throw Error("no more references");a.rc--}
qg.W.eD=class{constructor(a){this.V=a;this.Xa=null;this.T=this.S=0;this.uf=!0;this.$i=this.Zi="clamp-to-edge";this.ic="trilinear";this.Wr=0;this.rq="rgba8";this.Lh=!1;this.Ts="default";this.rc=0}eJ(a,b,d){d=Object.assign({},wg,d);if(this.Xa)throw Error("already created texture");this.Zi=d.Fm;this.$i=d.Gm;this.ic=d.tc;this.rq=d.UO;this.Lh=!!d.Io&&this.V.ss;this.Ts=d.JB;if(!ug.has(this.Zi)||!ug.has(this.$i))throw Error("invalid wrap mode");if(!sg.has(this.ic))throw Error("invalid sampling");if(!rg.has(this.rq))throw Error("invalid pixel format");
if(!tg.has(this.Ts))throw Error("invalid mipmap quality");this.uf=!1;this.S=Math.floor(a);this.T=Math.floor(b);a=qg.Xj(this.S)&&qg.Xj(this.T);b=this.V.ew;if(0>=this.S||0>=this.T)throw Error("invalid texture size");if(this.S>b||this.T>b)throw Error("texture exceeds maximum texture size");if(!this.V.hp()&&zg(this)&&!a)throw Error("non-power-of-two tiled textures not supported");a=this.V.va;b=this.V.Zc;this.Xa=a.createTexture();a.bindTexture(a.TEXTURE_2D,this.Xa);a.pixelStorei(a.UNPACK_PREMULTIPLY_ALPHA_WEBGL,
d.premultiplyAlpha);a.pixelStorei(a.UNPACK_FLIP_Y_WEBGL,!1);d=vg(this.rq,a);a.texImage2D(a.TEXTURE_2D,0,2<=b?d.dP:d.Zw,this.S,this.T,0,d.format,d.type,null);Ag(this,a);a.bindTexture(a.TEXTURE_2D,null);this.V.al=null;this.rc=1;yg.add(this)}sD(a){if(!("undefined"!==typeof HTMLImageElement&&a instanceof HTMLImageElement||"undefined"!==typeof HTMLVideoElement&&a instanceof HTMLVideoElement||"undefined"!==typeof HTMLCanvasElement&&a instanceof HTMLCanvasElement||"undefined"!==typeof ImageBitmap&&a instanceof
ImageBitmap||"undefined"!==typeof OffscreenCanvas&&a instanceof OffscreenCanvas||a instanceof ImageData))throw Error("invalid texture source");if(!this.Xa||0>=this.rc)throw Error("texture not created");if(this.uf)throw Error("cannot update static texture");var b=Object.assign({},xg,b);const d=a.width||a.videoWidth,c=a.height||a.videoHeight;var e=this.V.Zc;const g=this.V.va;g.bindTexture(g.TEXTURE_2D,this.Xa);g.pixelStorei(g.UNPACK_PREMULTIPLY_ALPHA_WEBGL,b.premultiplyAlpha);g.pixelStorei(g.UNPACK_FLIP_Y_WEBGL,
!!b.flipY);b=vg(this.rq,g);e=2<=e?b.dP:b.Zw;try{if(this.S===d&&this.T===c){const k=qg.Xj(this.S)&&qg.Xj(this.T);g.texSubImage2D(g.TEXTURE_2D,0,0,0,b.format,b.type,a);(k||this.V.hp())&&this.Lh&&(g.hint(g.GENERATE_MIPMAP_HINT,Cg(this,g)),g.generateMipmap(g.TEXTURE_2D))}else{this.S=d;this.T=c;const k=qg.Xj(this.S)&&qg.Xj(this.T);if(!this.V.hp()&&zg(this)&&!k)throw Error("non-power-of-two tiled textures not supported");g.texImage2D(g.TEXTURE_2D,0,e,b.format,b.type,a);(k||this.V.hp())&&this.Lh&&(g.hint(g.GENERATE_MIPMAP_HINT,
Cg(this,g)),g.generateMipmap(g.TEXTURE_2D))}}catch(k){console.error("Error updating WebGL texture: ",k)}g.bindTexture(g.TEXTURE_2D,null);this.V.al=null}Lr(){if(0<this.rc)throw Error("texture still has references");if(!this.Xa)throw Error("already deleted texture");yg.delete(this);this.V.va.deleteTexture(this.Xa);this.Xa=null}Ga(){return this.V}P(){return this.S}N(){return this.T}Um(){return this.uf}Cx(){let a=this.S*this.T;switch(this.rq){case "rgba8":a*=4;break;case "rgb8":a*=3;break;case "rgba4":case "rgb5_a1":case "rgb565":a*=
2}this.Lh&&(a+=Math.floor(a/3));return a}static Td(){yg.clear()}static aO(){return yg.values()}};"use strict";const Eg=self.cj.tl,Fg=new Set(["nearest","bilinear","trilinear"]),Gg={tc:"trilinear",alpha:!0,depth:!1,Yj:!0,DB:!0,hx:0},Hg=new Set;function Ig(a){a.V.xs===a.tF&&a.V.lq===a.vF&&a.V.Ip===a.sF||a.Jr();return a.Ij}
self.D.W.oR=class{constructor(a){this.V=a;this.km=this.Xa=this.As=this.Fi=null;this.T=this.S=0;this.Nn=!0;this.ic="trilinear";this.Hu=!0;this.gd=!1;this.Ii=!0;this.Fe=0;this.Ij=Eg.create();this.sF=this.vF=this.tF=0}oy(a,b,d){d=Object.assign({},Gg,d);const c=this.V.Zc;if(this.Xa||this.km)throw Error("already created render target");this.ic=d.tc;this.Hu=!!d.alpha;this.gd=!!d.depth;this.Ii=!!d.Yj;this.Nn=!!d.DB;this.Fe=d.hx;if(!Fg.has(this.ic))throw Error("invalid sampling");if(0<this.Fe&&(2>c||this.Ii))throw Error("invalid use of multisampling");
2>c&&(this.Ii=!0);this.S=a;this.T=b;if(0>=this.S||0>=this.T)throw Error("invalid render target size");this.Jr();a=this.V.va;this.Fi=a.createFramebuffer();this.gd&&(this.As=a.createFramebuffer());this.Ii?(this.Xa=this.V.mx(this.S,this.T,{tc:this.ic,UO:this.Hu?"rgba8":"rgb8",Io:!1}),b=this.Xa.Xa,a.bindFramebuffer(a.FRAMEBUFFER,this.Fi),a.framebufferTexture2D(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0,a.TEXTURE_2D,b,0),this.gd&&(a.bindFramebuffer(a.FRAMEBUFFER,this.As),a.framebufferTexture2D(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0,
a.TEXTURE_2D,b,0))):(this.km=a.createRenderbuffer(),a.bindRenderbuffer(a.RENDERBUFFER,this.km),b=this.Hu?a.RGBA8:a.RGB8,0<this.Fe&&((d=a.getInternalformatParameter(a.RENDERBUFFER,b,a.SAMPLES))&&d[0]?(d=d[0],this.Fe>d&&(this.Fe=d)):this.Fe=0),0===this.Fe?a.renderbufferStorage(a.RENDERBUFFER,b,this.S,this.T):a.renderbufferStorageMultisample(a.RENDERBUFFER,this.Fe,b,this.S,this.T),a.bindFramebuffer(a.FRAMEBUFFER,this.Fi),a.framebufferRenderbuffer(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0,a.RENDERBUFFER,this.km),
this.gd&&(a.bindFramebuffer(a.FRAMEBUFFER,this.As),a.framebufferRenderbuffer(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0,a.RENDERBUFFER,this.km)),a.bindRenderbuffer(a.RENDERBUFFER,null));b=this.V.ye;this.gd&&b&&(a.bindFramebuffer(a.FRAMEBUFFER,this.Fi),this.V.Rl?a.framebufferTexture2D(a.FRAMEBUFFER,a.DEPTH_STENCIL_ATTACHMENT,a.TEXTURE_2D,b,0):a.framebufferRenderbuffer(a.FRAMEBUFFER,a.DEPTH_STENCIL_ATTACHMENT,a.RENDERBUFFER,b));a.bindFramebuffer(a.FRAMEBUFFER,null);Hg.add(this)}zy(a,b){if(this.S!==a||this.T!==
b)this.S=a,this.T=b,this.Jr(),a=this.V.va,a.bindFramebuffer(a.FRAMEBUFFER,this.Fi),this.Xa?this.Xa.sD(new ImageData(this.S,this.T)):(a.bindRenderbuffer(a.RENDERBUFFER,this.km),a.renderbufferStorage(a.RENDERBUFFER,this.Hu?a.RGBA8:a.RGB8,this.S,this.T),a.bindRenderbuffer(a.RENDERBUFFER,null)),b=this.V.ye,this.gd&&b&&(this.V.Rl?a.framebufferTexture2D(a.FRAMEBUFFER,a.DEPTH_STENCIL_ATTACHMENT,a.TEXTURE_2D,b,0):a.framebufferRenderbuffer(a.FRAMEBUFFER,a.DEPTH_STENCIL_ATTACHMENT,a.RENDERBUFFER,b)),a.bindFramebuffer(a.FRAMEBUFFER,
null)}Lr(){if(!this.Xa&&!this.km)throw Error("already deleted render target");Hg.delete(this);var a=this.V.va;this.Xa?(a.bindFramebuffer(a.FRAMEBUFFER,this.Fi),a.framebufferTexture2D(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0,a.TEXTURE_2D,null,0),this.gd&&(a.bindFramebuffer(a.FRAMEBUFFER,this.As),a.framebufferTexture2D(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0,a.TEXTURE_2D,null,0)),this.V.fj(this.Xa),this.Xa=null):this.km&&(a.bindFramebuffer(a.FRAMEBUFFER,this.Fi),a.framebufferRenderbuffer(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0,
a.RENDERBUFFER,null),this.gd&&(a.bindFramebuffer(a.FRAMEBUFFER,this.As),a.framebufferRenderbuffer(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0,a.RENDERBUFFER,null)),a.deleteRenderbuffer(this.km),this.km=null);a.bindFramebuffer(a.FRAMEBUFFER,null);2<=this.V.Zc&&(a.bindFramebuffer(a.READ_FRAMEBUFFER,null),a.bindFramebuffer(a.DRAW_FRAMEBUFFER,null));a.deleteFramebuffer(this.Fi);this.gd&&a.deleteFramebuffer(this.As);a=this.V.Qc;a.Fo=null;this.Fi=a.sl=null}Jr(){Sf(this.V,this.Ij,this.S/this.T);this.tF=this.V.xs;
this.vF=this.V.lq;this.sF=this.V.Ip}Ga(){return this.V}oc(){return this.Xa}qr(){return"nearest"!==this.ic}nu(){return this.Ii}P(){return this.S}N(){return this.T}WP(a){a=Object.assign({},Gg,a);return"nearest"!==a.tc!==this.qr()||!!a.alpha!==this.Hu||!!a.depth!==this.gd||2<=this.V.Zc&&!!a.Yj!==this.nu()?!1:"number"===typeof a.width||"number"===typeof a.height?!this.Nn&&this.P()===Math.floor(a.width)&&this.N()===Math.floor(a.height):this.Nn}Cx(){return this.Xa?this.Xa.Cx():this.S*this.T*(this.Hu?4:
3)}static Td(){Hg.clear()}};"use strict";const Jg=self.D;
async function Kg(a,b){const d=a.va,c=b.Vt;var e=b.name;const g=d.createShader(d.FRAGMENT_SHADER);d.shaderSource(g,b.src);d.compileShader(g);b=d.createShader(d.VERTEX_SHADER);d.shaderSource(b,c);d.compileShader(b);const k=d.createProgram();d.attachShader(k,g);d.attachShader(k,b);d.bindAttribLocation(k,0,"aPos");d.bindAttribLocation(k,1,"aTex");d.bindAttribLocation(k,2,"aPoints");d.linkProgram(k);const l=a.LM;l?await Lg(()=>d.getProgramParameter(k,l.COMPLETION_STATUS_KHR)):await Jg.$I(5);if(!d.getShaderParameter(g,
d.COMPILE_STATUS))throw e=d.getShaderInfoLog(g),d.deleteShader(g),d.deleteShader(b),d.deleteProgram(k),Error("Error compiling fragment shader: "+e);if(!d.getShaderParameter(b,d.COMPILE_STATUS))throw e=d.getShaderInfoLog(b),d.deleteShader(g),d.deleteShader(b),d.deleteProgram(k),Error("Error compiling vertex shader: "+e);if(!d.getProgramParameter(k,d.LINK_STATUS))throw e=d.getProgramInfoLog(k),d.deleteShader(g),d.deleteShader(b),d.deleteProgram(k),Error("Error linking shader program: "+e);(a=Jg.wX(d.getProgramInfoLog(k)||
"").trim())&&!Jg.MY(a)&&console.info(`[WebGL] Shader program '${e}' compilation log: `,a);d.deleteShader(g);d.deleteShader(b);return k}function Mg(a,b){if(!a.bF)throw Error("not device transform shader");Ng(a.JN,b);b=a.V;const d=b.P()/2,c=b.N()/2;b=Uf(b,d,c,b.If(b.N()),d,c,b.N());Ng(a.IN,b)}function Og(a,b,d){a.cL&&!d||a.bF||(a.JN.ta&&Ng(a.JN,b),a.cL=!0)}function Pg(a,b,d){a.bL&&!d||a.bF||(a.IN.ta&&Ng(a.IN,b),a.bL=!0)}
function Qg(a){a=a?"highp":"mediump";return["#version 300 es\nin highp vec3 aPos;",`in ${a} vec2 aTex;`,`out ${a} vec2 vTex;`,"uniform highp mat4 matP;\nuniform highp mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPos, 1.0);\n\tvTex = aTex;\n}"].join("\n")}
Jg.W.fD=class extends Jg.W.cR{static async Ka(a,b){const d=await Kg(a,b);return new Jg.W.fD(a,d,b)}constructor(a,b,d){super(a,d);const c=a.va;var e=a.Qc;a.qe();c.useProgram(b);this.va=c;this.Nc=b;this.bF="<default-device-transform>"===d.name;const g=c.getAttribLocation(b,"aPos"),k=c.getAttribLocation(b,"aTex");this.hM=c.getAttribLocation(b,"aPoints");-1!==g&&(c.bindBuffer(c.ARRAY_BUFFER,a.Ao),c.vertexAttribPointer(g,3,c.FLOAT,!1,0,0),c.enableVertexAttribArray(g));-1!==k&&(c.bindBuffer(c.ARRAY_BUFFER,
a.ko),c.vertexAttribPointer(k,2,c.FLOAT,!1,0,0),c.enableVertexAttribArray(k));-1!==this.hM&&(c.bindBuffer(c.ARRAY_BUFFER,a.co),c.vertexAttribPointer(this.hM,4,c.FLOAT,!1,0,0),c.enableVertexAttribArray(this.hM));c.bindBuffer(c.ARRAY_BUFFER,null);this.JN=new Jg.W.Cc(this,"matP","mat4");this.IN=new Jg.W.Cc(this,"matMV","mat4");this.Ct=new Jg.W.Cc(this,"color","vec4");this.f3=new Jg.W.Cc(this,"samplerFront","sampler");this.LN=new Jg.W.Cc(this,"pointTexStart","vec2");this.KN=new Jg.W.Cc(this,"pointTexEnd",
"vec2");this.MN=new Jg.W.Cc(this,"zElevation","float");this.hB=new Jg.W.Cc(this,"tileSize","vec2");this.iB=new Jg.W.Cc(this,"tileSpacing","vec2");this.HN=new Jg.W.Cc(this,"color2_","vec4");this.gB=new Jg.W.Cc(this,"outlineThickness","float");this.Qw=new Jg.W.Cc(this,"samplerBack","sampler");this.e3=new Jg.W.Cc(this,"samplerDepth","sampler");this.Kq=new Jg.W.Cc(this,"destStart","vec2");this.Jq=new Jg.W.Cc(this,"destEnd","vec2");this.rl=new Jg.W.Cc(this,"srcStart","vec2");this.wo=new Jg.W.Cc(this,"srcEnd",
"vec2");this.yo=new Jg.W.Cc(this,"srcOriginStart","vec2");this.xo=new Jg.W.Cc(this,"srcOriginEnd","vec2");this.hh=new Jg.W.Cc(this,"pixelSize","vec2");this.Qq=new Jg.W.Cc(this,"seconds","float");this.Lq=new Jg.W.Cc(this,"devicePixelRatio","float");this.Nq=new Jg.W.Cc(this,"layerScale","float");this.Mq=new Jg.W.Cc(this,"layerAngle","float");this.Pq=new Jg.W.Cc(this,"layoutStart","vec2");this.Oq=new Jg.W.Cc(this,"layoutEnd","vec2");this.h3=new Jg.W.Cc(this,"zNear","float");this.g3=new Jg.W.Cc(this,
"zFar","float");this.d2=!!(this.hh.ta||this.Qq.ta||this.Qw.ta||this.Kq.ta||this.Jq.ta||this.rl.ta||this.wo.ta||this.yo.ta||this.xo.ta||this.Lq.ta||this.Nq.ta||this.Mq.ta||this.Pq.ta||this.Oq.ta);b=d.parameters||[];this.Dt=[];this.mB=this.hh.ta||this.rl.ta||this.wo.ta||this.yo.ta||this.xo.ta;this.bL=this.cL=!1;Rg(this.Ct);Rg(this.HN);Sg(this.f3,0);Sg(this.Qw,1);Sg(this.e3,2);Tg(this.LN,0,0);Tg(this.KN,1,1);Ug(this.MN,0);Tg(this.hB,0,0);Tg(this.iB,0,0);Tg(this.Kq,0,0);Tg(this.Jq,1,1);Tg(this.rl,0,0);
Tg(this.wo,0,0);Tg(this.yo,0,0);Tg(this.xo,0,0);Tg(this.hh,0,0);Ug(this.Lq,1);Ug(this.h3,a.lq);Ug(this.g3,a.Ip);Ug(this.Nq,1);Ug(this.Mq,0);Ug(this.Qq,0);Tg(this.Pq,0,0);Tg(this.Oq,0,0);Ug(this.gB,1);for(const l of b)a=l[2],b=new Jg.W.Cc(this,l[0],a),"color"===a?b.ta&&(b.hc[0]=0,b.hc[1]=0,b.hc[2]=0,b.Yf.set(b.hc),b.va.uniform3f(b.Dj,0,0,0)):Ug(b,0),this.Dt.push(b);this.bF?Mg(this,e.wB):(Og(this,e.wB,!0),Pg(this,e.ZG,!0));e=e.ai;c.useProgram(e?e.Nc:null)}A(){this.va.deleteProgram(this.Nc);this.Nc=
null;var a=this.V;const b=a.Vr.indexOf(this);-1!==b&&a.Vr.splice(b,1);a.KA.delete(this.ua());this.va=null;super.A()}Le(){return this.Nc}PP(){return this.Dt.length}Fx(a){return 0>a||a>=this.Dt.length?null:this.Dt[a].vc()}static du(a){a=a?"highmedp":"mediump";return["#ifdef GL_FRAGMENT_PRECISION_HIGH\n#define highmedp highp\n#else\n#define highmedp mediump\n#endif\nattribute highp vec3 aPos;",`attribute ${a} vec2 aTex;`,`varying ${a} vec2 vTex;`,"uniform highp mat4 matP;\nuniform highp mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPos, 1.0);\n\tvTex = aTex;\n}"].join("\n")}static AC(a,
b,d){let c="";2<=a?c="#version 300 es\n":(b&&(c="#extension GL_EXT_frag_depth : enable\n"),d&&(c+="#extension GL_EXT_shader_texture_lod : enable\n#extension GL_OES_standard_derivatives : enable\n"));return c+`
#ifdef GL_FRAGMENT_PRECISION_HIGH
#define highmedp highp
#else
#define highmedp mediump
#endif
precision highmedp float;
${2<=a?"in":"varying"} vec2 vTex;
${2<=a?"out lowp vec4 outColor;":""}
uniform lowp vec4 color;
uniform lowp sampler2D samplerFront;
uniform vec2 pixelSize;

uniform vec2 tileSize;
uniform vec2 tileSpacing;
uniform float outlineThickness;

const float PI = 3.1415926;

lowp vec4 cospVec4(lowp vec4 a, lowp vec4 b, float x)
{
	return (a + b + (a - b) * cos(x * PI)) / 2.0;
}

vec3 randVec3(vec2 seed)
{
	return vec3(fract(sin(dot(seed.xy + vec2(0.1, 0.1), vec2(12.9898,78.233))) * 43758.5453),
				fract(sin(dot(seed.yx + vec2(0.1, 0.1), vec2(12.9898,-78.233))) * 43758.5453),
				fract(sin(dot(seed.xy + vec2(0.1, 0.1), vec2(-12.9898,-78.233))) * 43758.5453));
}

lowp vec4 sampleTile(vec2 tile, vec2 uv, vec2 ddx, vec2 ddy)
{
	vec2 posRandom = tileSize;
	float angleRandom = outlineThickness;
	
	vec3 rand = (randVec3(floor(tile + 0.5)) - 0.5) * 2.0;
	
	float angle = angleRandom * rand.z * PI;
	float sin_a = sin(angle);
	float cos_a = cos(angle);
	float aspect = pixelSize.x / pixelSize.y;

	vec2 mid = tile + vec2(0.5, 0.5);
	vec2 dp = uv - mid;
	dp.x /= aspect;
	vec2 r = vec2(dp.x * cos_a - dp.y * sin_a,
				  dp.y * cos_a + dp.x * sin_a);
	r.x *= aspect;

	vec2 p = mid + r + (posRandom * rand.xy / 2.0);
	
	${2<=a?"return textureGrad(samplerFront, p, ddx, ddy);":""}
	${2>a&&d?"return texture2DGradEXT(samplerFront, p, ddx, ddy);":""}
	${2>a&&!d?"return texture2D(samplerFront, p);":""}
}

void main(void) {
	
	${2>a?"lowp vec4 outColor;":""}
	
	float blendMarginX = tileSpacing.x;
	float blendMarginY = tileSpacing.y;
	
	vec2 tile = floor(vTex);
	vec2 tex = fract(vTex);
	vec2 ddx = ${2<=a||d?"dFdx(vTex)":"vec2(0.0, 0.0)"};
	vec2 ddy = ${2<=a||d?"dFdy(vTex)":"vec2(0.0, 0.0)"};
	
	vec4 curTile = sampleTile(tile, vTex, ddx, ddy);
	
	bool inLeftMargin = (tex.x < blendMarginX);
	bool inRightMargin = (tex.x > 1.0 - blendMarginX);
	bool inTopMargin = (tex.y < blendMarginY);
	bool inBottomMargin = (tex.y > 1.0 - blendMarginY);
	
	if (inLeftMargin)
	{
		lowp vec4 leftTile = sampleTile(tile + vec2(-1.0, 0.0), vTex, ddx, ddy);
		float leftMix = (tex.x / (blendMarginX * 2.0)) + 0.5;
		lowp vec4 leftMixedTile = cospVec4(leftTile, curTile, leftMix);
		
		if (inTopMargin)
		{
			lowp vec4 topTile =     sampleTile(tile + vec2(0.0,  -1.0), vTex, ddx, ddy);
			lowp vec4 topLeftTile = sampleTile(tile + vec2(-1.0, -1.0), vTex, ddx, ddy);
			lowp vec4 topLeftMixedTile = cospVec4(topLeftTile, topTile, leftMix);
			
			outColor = cospVec4(topLeftMixedTile, leftMixedTile, (tex.y / (blendMarginY * 2.0)) + 0.5);
		}
		else if (inBottomMargin)
		{
			lowp vec4 bottomTile =     sampleTile(tile + vec2(0.0,  1.0), vTex, ddx, ddy);
			lowp vec4 bottomLeftTile = sampleTile(tile + vec2(-1.0, 1.0), vTex, ddx, ddy);
			lowp vec4 bottomLeftMixedTile = cospVec4(bottomLeftTile, bottomTile, leftMix);
			
			outColor = cospVec4(leftMixedTile, bottomLeftMixedTile, (tex.y - (1.0 - blendMarginY)) / (blendMarginY * 2.0));
		}
		else
		{
			outColor = leftMixedTile;
		}
	}
	else if (inRightMargin)
	{
		lowp vec4 rightTile = sampleTile(tile + vec2(1.0, 0.0), vTex, ddx, ddy);
		float rightMix = (tex.x - (1.0 - blendMarginX)) / (blendMarginX * 2.0);
		lowp vec4 rightMixedTile = cospVec4(curTile, rightTile, rightMix);
		
		if (inTopMargin)
		{
			lowp vec4 topTile =      sampleTile(tile + vec2(0.0, -1.0), vTex, ddx, ddy);
			lowp vec4 topRightTile = sampleTile(tile + vec2(1.0, -1.0), vTex, ddx, ddy);
			lowp vec4 topRightMixedTile = cospVec4(topTile, topRightTile, rightMix);
			
			outColor = cospVec4(topRightMixedTile, rightMixedTile, (tex.y / (blendMarginY * 2.0)) + 0.5);
		}
		else if (inBottomMargin)
		{
			lowp vec4 bottomTile =      sampleTile(tile + vec2(0.0, 1.0), vTex, ddx, ddy);
			lowp vec4 bottomRightTile = sampleTile(tile + vec2(1.0, 1.0), vTex, ddx, ddy);
			lowp vec4 bottomRightMixedTile = cospVec4(bottomTile, bottomRightTile, rightMix);
			
			outColor = cospVec4(rightMixedTile, bottomRightMixedTile, (tex.y - (1.0 - blendMarginY)) / (blendMarginY * 2.0));
		}
		else
		{
			outColor = rightMixedTile;
		}
	}
	else if (inTopMargin)
	{
		lowp vec4 topTile = sampleTile(tile + vec2(0.0, -1.0), vTex, ddx, ddy);
		outColor = cospVec4(topTile, curTile, (tex.y / (blendMarginY * 2.0)) + 0.5);
	}
	else if (inBottomMargin)
	{
		lowp vec4 bottomTile = sampleTile(tile + vec2(0.0, 1.0), vTex, ddx, ddy);
		outColor = cospVec4(curTile, bottomTile, (tex.y - (1.0 - blendMarginY)) / (blendMarginY * 2.0));
	}
	else
	{
		outColor = curTile;
	}
	
	outColor *= color;
	${2>a?"gl_FragColor = outColor;":""}
	${2<=a?"gl_FragDepth = (outColor.a == 0.0 ? 1.0 : gl_FragCoord.z);":""}
	${2>a&&b?"gl_FragDepthEXT = (outColor.a == 0.0 ? 1.0 : gl_FragCoord.z);":""}
}
`}};"use strict";const Vg=self.D,Wg=self.cj.tl,Xg=new Map([["float",1],["percent",1],["sampler",1],["vec2",2],["vec3",3],["color",3],["vec4",4],["mat4",16]]);function Rg(a){a.ta&&(a.hc[0]=1,a.hc[1]=1,a.hc[2]=1,a.hc[3]=1,a.Yf.set(a.hc),a.va.uniform4f(a.Dj,1,1,1,1))}function Sg(a,b){a.ta&&(a.hc[0]=b,a.Yf.set(a.hc),a.va.uniform1i(a.Dj,b))}function Tg(a,b,d){a.ta&&(a.hc[0]=b,a.hc[1]=d,a.Yf.set(a.hc),a.va.uniform2f(a.Dj,b,d))}function Ug(a,b){a.ta&&(a.hc[0]=b,a.Yf.set(a.hc),a.va.uniform1f(a.Dj,b))}
function Yg(a,b,d){a=a.Yf;return a[0]===Math.fround(b)&&a[1]===Math.fround(d)}function Zg(a,b,d){a=a.Yf;a[0]=b;a[1]=d}function Ng(a,b){const d=a.hc;Wg.bj(d,b)||(Vg.k5(d,b),a.va.uniformMatrix4fv(a.Dj,!1,b))}function $g(a,b,d,c,e){b=Math.fround(b);d=Math.fround(d);c=Math.fround(c);e=Math.fround(e);const g=a.hc;if(g[0]!==b||g[1]!==d||g[2]!==c||g[3]!==e)g[0]=b,g[1]=d,g[2]=c,g[3]=e,a.va.uniform4f(a.Dj,b,d,c,e)}function ah(a,b){b=Math.fround(b);const d=a.hc;d[0]!==b&&(d[0]=b,a.va.uniform1f(a.Dj,b))}
function bh(a,b,d){b=Math.fround(b);d=Math.fround(d);const c=a.hc;if(c[0]!==b||c[1]!==d)c[0]=b,c[1]=d,a.va.uniform2f(a.Dj,b,d)}Vg.W.Cc=class{constructor(a,b,d){if(!Xg.has(d))throw Error("invalid uniform type");this.Ab=a;this.va=this.Ab.va;this.Sa=b;this.Da=d;this.AL="color"===this.Da;this.Dj=this.va.getUniformLocation(this.Ab.Le(),b);this.ta=!!this.Dj;a=Xg.get(d);this.hc=new Float32Array(a);this.Yf=new Float32Array(a)}A(){this.Dj=this.va=this.Ab=null}vc(){return this.Da}};"use strict";
const ch=self.D,dh=self.cj,eh=dh.QB,fh=dh.tl;ch.W.LW=class{constructor(a){this.Uq=a;this.ZG=fh.create();this.wB=fh.create();this.sl=this.Fo=null;this.FV=!1;this.YG=eh.Jg(1,1,1,1);this.ai=null;this.VO=new ch.Rect;this.clearColor=ch.C(ch.ub,0,0,0,0)}};
ch.W.M0=class{constructor(a){const b=new ArrayBuffer(96);this.Da=0;this.Qc=a;this.va=a.Uq.va;this.In=this.Je=0;this.gg=null;this.Ee=new Float32Array(b,0,16);this.un=new Float32Array(b,64,4);this.oU=new Float32Array(b,80,4);this.kG=[]}Fa(){switch(this.Da){case 1:var a=this.va;a.drawElements(a.TRIANGLES,this.In,a.UNSIGNED_SHORT,this.Je);break;case 2:a=this.va;var b=this.gg;a.bindTexture(a.TEXTURE_2D,b?b.Xa:null);break;case 3:a=this.un;b=this.Qc;eh.Ja(b.YG,a);b=b.ai;b.Ct.ta&&$g(b.Ct,a[0],a[1],a[2],a[3]);
break;case 4:this.va.blendFunc(this.Je,this.In);break;case 5:a=this.un;this.va.viewport(a[0],a[1],a[2],a[3]);break;case 6:a=this.Qc;b=a.Uq.Vr;var d=a.ai,c=this.Ee;for(let p=0,r=b.length;p<r;++p){var e=b[p];e===d?Og(e,c,!0):e.cL=!1}fh.Ja(a.wB,c);break;case 7:a=this.Qc;b=a.Uq.Vr;d=a.ai;c=this.Ee;for(let p=0,r=b.length;p<r;++p)e=b[p],e===d?Pg(e,c,!0):e.bL=!1;fh.Ja(a.ZG,c);break;case 8:a=this.va;b=this.gg;d=this.Qc;b?(d.Fo=b.Fi,d.sl=b.As,d.FV&&d.sl?a.bindFramebuffer(a.FRAMEBUFFER,d.sl):a.bindFramebuffer(a.FRAMEBUFFER,
d.Fo)):(d.Fo=null,d.sl=null,a.bindFramebuffer(a.FRAMEBUFFER,null));break;case 9:a=this.va;var g=this.Ee;b=this.Qc.clearColor;d=g[0];c=g[1];e=g[2];g=g[3];kc(b,d,c,e,g)||(a.clearColor(d,c,e,g),dc(b,d,c,e,g));a.clear(a.COLOR_BUFFER_BIT);break;case 10:a=this.va;b=this.Qc;d=b.Uq.TA;a.useProgram(d.Nc);Og(d,b.wB,!1);Pg(d,b.ZG,!1);c=b.VO;d.LN.ta&&bh(d.LN,c.la,c.ea);d.KN.ta&&bh(d.KN,c.wa,c.ra);c=this.Ee[0];d.MN.ta&&ah(d.MN,c);d.Ct.ta&&(c=b.YG,$g(d.Ct,c[0],c[1],c[2],c[3]));a.drawArrays(a.POINTS,this.Je/4,this.In);
a.useProgram(b.ai.Nc);break;case 11:b=this.va;d=this.Qc;a=this.gg;d.ai=a;b.useProgram(a.Nc);Og(a,d.wB,!1);Pg(a,d.ZG,!1);a.Ct.ta&&(b=d.YG,$g(a.Ct,b[0],b[1],b[2],b[3]));break;case 12:a=this.Qc.ai;b=this.va;d=this.Ee;c=this.un;e=this.oU;if(a.Qw.ta){g=this.Qc.Uq;var k=this.gg;g.cq!==k&&(b.activeTexture(b.TEXTURE1),b.bindTexture(b.TEXTURE_2D,k?k.Xa:null),g.cq=k,b.activeTexture(b.TEXTURE0))}a.hh.ta&&bh(a.hh,d[0],d[1]);a.Kq.ta&&bh(a.Kq,d[2],d[3]);a.Jq.ta&&bh(a.Jq,d[4],d[5]);a.Lq.ta&&ah(a.Lq,this.In);a.Nq.ta&&
ah(a.Nq,d[6]);a.Mq.ta&&ah(a.Mq,d[7]);a.rl.ta&&bh(a.rl,d[12],d[13]);a.wo.ta&&bh(a.wo,d[14],d[15]);a.yo.ta&&bh(a.yo,e[0],e[1]);a.xo.ta&&bh(a.xo,e[2],e[3]);a.Pq.ta&&bh(a.Pq,c[0],c[1]);a.Oq.ta&&bh(a.Oq,c[2],c[3]);a.Qq.ta&&ah(a.Qq,this.Je);break;case 13:a=this.Qc.ai.Dt;b=this.kG;for(let p=0,r=a.length;p<r;++p)if(d=a[p],g=b[p],d.AL){if(c=g.kb,e=g.Ra,g=g.hb,c=Math.fround(c),e=Math.fround(e),g=Math.fround(g),k=d.hc,k[0]!==c||k[1]!==e||k[2]!==g)k[0]=c,k[1]=e,k[2]=g,d.va.uniform3f(d.Dj,c,e,g)}else ah(d,g);
break;case 14:a=this.va;b=this.gg;d=this.Qc.Fo;b!==d&&a.bindFramebuffer(a.FRAMEBUFFER,b);a.invalidateFramebuffer(a.FRAMEBUFFER,[a.COLOR_ATTACHMENT0]);b!==d&&a.bindFramebuffer(a.FRAMEBUFFER,d);break;case 15:a=this.Ee;this.Qc.VO.set(a[0],a[1],a[2],a[3]);break;case 16:a=this.Qc.ai;b=this.Ee;a.rl.ta&&bh(a.rl,b[0],b[1]);a.hh.ta&&bh(a.hh,b[4],b[5]);a.hB.ta&&bh(a.hB,b[6],b[7]);a.iB.ta&&bh(a.iB,b[8],b[9]);break;case 17:var l=this.Ee;c=this.kG;a=this.va;e=l[0];b=l[1];g=l[2];d=l[3];k=0!==l[4];l=0!==l[5];const n=
c[1];a.bindFramebuffer(a.READ_FRAMEBUFFER,c[0]);a.bindFramebuffer(a.DRAW_FRAMEBUFFER,n);l?a.blitFramebuffer(0,0,e,b,0,0,g,d,a.COLOR_BUFFER_BIT,k?a.LINEAR:a.NEAREST):(c=Math.min(e,g),e=Math.min(b,d),g=Math.max(b-d,0),b=Math.max(d-b,0),a.blitFramebuffer(0,g,c,e+g,0,b,c,e+b,a.COLOR_BUFFER_BIT,a.NEAREST));break;case 18:this.gg.CH();this.gg=null;break;case 19:this.gg.iC();this.gg=null;break;case 20:a=this.Qc.ai;b=this.Ee;a.hh.ta&&bh(a.hh,b[0],b[1]);a.gB.ta&&ah(a.gB,b[2]);break;case 21:a=this.un;b=this.Qc.ai;
b.HN.ta&&$g(b.HN,a[0],a[1],a[2],a[3]);break;case 22:a=this.va;(b=0!==this.Je)||a.depthMask(!0);a.clear(a.DEPTH_BUFFER_BIT);b||a.depthMask(!1);break;case 23:a=this.va;0===this.Je?(a.disable(a.DEPTH_TEST),a.depthMask(!1)):(a.enable(a.DEPTH_TEST),a.depthMask(!0));break;case 24:a=this.va;b=this.Qc;d=b.Uq;c=0!==this.Je;b.FV=c;a.activeTexture(a.TEXTURE2);c?(b.sl&&a.bindFramebuffer(a.FRAMEBUFFER,b.sl),a.bindTexture(a.TEXTURE_2D,d.ye)):(a.bindTexture(a.TEXTURE_2D,null),b.sl&&a.bindFramebuffer(a.FRAMEBUFFER,
b.Fo));a.activeTexture(a.TEXTURE0);break;case 25:a=this.va;a.clear(a.STENCIL_BUFFER_BIT);a.enable(a.STENCIL_TEST);a.stencilFunc(a.ALWAYS,1,1);a.stencilOp(a.KEEP,a.KEEP,a.REPLACE);a.colorMask(!1,!1,!1,!1);break;case 26:a=this.va;a.colorMask(!0,!0,!0,!0);a.stencilFunc(a.EQUAL,1,1);a.stencilOp(a.KEEP,a.KEEP,a.KEEP);break;case 27:a=this.va;a.disable(a.STENCIL_TEST);break;case 28:a=this.va;b=this.Ee;1===this.Je?(a.enable(a.SCISSOR_TEST),a.scissor(b[0],b[1],b[2],b[3])):a.disable(a.SCISSOR_TEST);break;case 29:a=
this.Qc.ai,b=this.Ee,a.hh.ta&&bh(a.hh,b[0],b[1]),a.hB.ta&&bh(a.hB,b[2],b[3]),a.gB.ta&&ah(a.gB,b[4]),a.iB.ta&&bh(a.iB,b[5],b[6])}}};"use strict";const gh=self.D,hh=new Set("serif sans-serif monospace cursive fantasy system-ui ui-serif ui-sans-serif ui-monospace ui-rounded math emoji fangsong".split(" ")),ih={timeout:60},jh=new gh.ub(0,0,0,1),kh=new Set(["left","center","right"]),lh=new Set(["top","center","bottom"]),mh=new Set;
gh.GX&&gh.GX.addEventListener("fontload",a=>{a=a.font.ua();for(const b of mh)(b.Ln||gh.kh(b.qE,a))&&nh(b)});function oh(a,b){a=a.trim();const d=parseFloat(a);return isFinite(d)?a.endsWith("%")?b*d/100:d:0}let ph=!1,qh=!1;function nh(a){rh(a);a.SG=!0}
function sh(a,b){const d=b.Ng()?b.Vg.join(""):" ";var c=th(a,!0,b);a.iT!==c&&(a.iT=c,a.iq.font=c,a.fw.font=c);b=Xe(b,"size");b=(b?parseFloat(b.di):a.rE)*a.xS;c=a.iq.measureText(d);let e=0;a.Ln&&uh(a)&&(e=c.fontBoundingBoxAscent-a.fw.measureText(d).fontBoundingBoxAscent);return{width:c.width,height:4/3*b,fontBoundingBoxAscent:c.fontBoundingBoxAscent||0,fontBoundingBoxDescent:c.fontBoundingBoxDescent||0,ul:e}}
function vh(a,b,d){a.lo||(a.lo=gh.oh(16,16));let c=!1;if(a.fT!==b||a.eT!==d)a.fT=b,a.eT=d,a.lo.width=b,a.lo.height=d,c=!0;a.ae||(a.ae=a.lo.getContext("2d"),c=!0);c?(a.ae.textBaseline=a.Ln?"alphabetic":"top",a.ae.direction=a.Iw,a.ae.font=a.TL,a.ae.fillStyle=a.xF,a.ae.strokeStyle=a.xF,a.ae.globalAlpha=a.VL,a.ae.lineWidth=a.UL):a.ae.clearRect(0,0,b,d)}function rh(a){a.cE=!0;a.yG=!0}function wh(a){"Arial"!==a.qE&&(a.qE="Arial",nh(a))}function xh(a){var b=16;.1>b&&(b=.1);a.rE!==b&&(a.rE=b,nh(a))}
function yh(a){return a.fU*a.tB*self.devicePixelRatio}function th(a,b,d){let c=[];(a.q2||Xe(d,"b"))&&c.push("bold");(a.z2||Xe(d,"i"))&&c.push("italic");var e=Xe(d,"size");e=(e?parseFloat(e.di):a.rE)*a.xS;b?c.push(e+"pt"):c.push(e*yh(a)+"pt");b=a.qE;(d=Xe(d,"font"))&&d.di&&(b=d.di,a.PO&&!a.QJ.has(b)&&(a.PO(b),a.QJ.add(b)));b&&(hh.has(b)?c.push(b):c.push('"'+b+'"'));return c.join(" ")}
function zh(a){if(!kh.has("center"))throw Error("invalid horizontal alignment");"center"!==a.HE&&(a.HE="center",rh(a))}function Ah(a){if(!lh.has("center"))throw Error("invalid vertical alignment");"center"!==a.PG&&(a.PG="center",rh(a))}function Bh(a){a.iq||(a.iq=gh.oh(16,16).getContext("2d"),a.fw=gh.oh(16,16).getContext("2d"),a.iq.textBaseline=a.Ln?"alphabetic":"top",a.fw.textBaseline="top",a.iq.direction=a.Iw,a.fw.direction=a.Iw)}
function uh(a){ph||(ph=!0,Bh(a),a=a.iq.measureText("test"),qh="number"===typeof a.fontBoundingBoxAscent&&"number"===typeof a.fontBoundingBoxDescent);return qh}
function Ch(a){const b=yh(a),d=(4+a.bM)*b;var c=0;const e=a.rB.Uv;if(0!==e.length){for(var g of e){g.hy(NaN);g.iy(NaN);for(var k of g.yB())k.hy(NaN),k.iy(NaN)}k=a.Ln&&uh(a);g=e[0].N()*b;"center"===a.PG?(c=e.reduce((l,n)=>l+n.N()*b+d,0)-d,c=Math.max(a.T/2-c/2,0),k&&(g=e[0].Hq*b)):"bottom"===a.PG&&(c=e.reduce((l,n)=>l+n.N()*b+d,0)-a.bM*b,k=k?e.at(-1).Lp*b:0,c=a.T-c-k-2);for(let l=0,n=e.length;l<n;++l){k=e[l];const p=k.N()*b,r=c;if(a.Ln){if(c+=0===l?g:p,0<l&&c>a.T-4*b)break}else if(0<l&&c>=a.T-p)break;
0<=r&&Dh(a,k,c,b);a.Ln||(c+=p);c+=d}}}function Eh(a,b){a.xF!==b&&(a.xF=b,a.ae.fillStyle=b,a.ae.strokeStyle=b)}function Fh(a,b){a.UL!==b&&(a.UL=b,a.ae.lineWidth=b)}
function Dh(a,b,d,c){let e=0;"center"===a.HE?e=(a.S-b.P()*c)/2:"right"===a.HE&&(e=a.S-b.P()*c);b.hy(e);b.iy(d);for(const n of"ltr"===a.Iw?b.yB():We(b)){a=n;b=e;var g=d,k=c,l=Xe(a,"offsetx");b+=l?oh(l.di,a.N())*k:0;l=Xe(a,"offsety");g+=l?oh(l.di,a.N())*k:0;a.Vx()&&(l=Xe(a,"iconoffsety"),g+=l?oh(l.di,a.N())*k:.2*a.N()*k);a.hy(b);a.iy(g);e+=n.P()*c}}
function Gh(a,b,d,c,e,g){"rtl"===a.Iw&&(c+=g);b?"Gecko"===gh.Z.ei?a.ae.strokeText(d,c,e,g):a.ae.strokeText(d,c,e):"Gecko"===gh.Z.ei?a.ae.fillText(d,c,e,g):a.ae.fillText(d,c,e)}
gh.W.DI=class{constructor(a,b){b=Object.assign({},ih,b);this.V=a;this.qE="Arial";this.rE=16;this.xS=1;this.bM=0;this.z2=this.q2=!1;this.OD="black";this.Ln=!1;this.KE=null;this.h2=!0;this.PO=null;this.QJ=new Set;this.HE="left";this.PG="top";this.ol="";this.Qy=null;this.rB=gh.C(gh.my);this.l3="word";this.Iw="ltr";this.cE=this.yG=this.SG=!1;this.dE=-1;this.T=this.S=this.uK=this.Zu=this.lv=0;this.tB=1;this.fw=this.iq=this.ae=this.lo=null;this.eT=this.fT=-1;this.xF=this.iT=this.TL="";this.UL=this.VL=1;
this.yT=d=>sh(this,d);this.Xa=null;this.Qi=new gh.Rect;this.fU=1;this.AN=new gh.zY(()=>{this.qk();vh(this,8,8)},b.timeout);this.QO=null;this.Sw=!1;mh.add(this)}A(){this.PO=null;this.QJ.clear();this.yT=this.fw=this.iq=this.ae=this.lo=this.Qy=this.KE=null;this.AN.A();this.QO=null;this.qk();this.rB.pe();this.V=this.rB=null;this.Sw=!0;mh.delete(this)}ep(a){a instanceof gh.ub&&(a=`rgb(${100*(bc.Xb()?NaN:a.kb)}%, ${100*(bc.Xb()?NaN:a.Ra)}%, ${100*(bc.Xb()?NaN:a.hb)}%)`);this.OD!==a&&(this.OD=a,this.cE=
!0)}$Q(a){this.ol!==a&&(this.ol=a,nh(this))}Vd(a,b,d){"undefined"===typeof d&&(d=1);if(!(0>=a||0>=a||this.Zu===a&&this.uK===b&&this.tB===d)){var c=this.Zu;this.Zu=a;this.uK=b;this.tB=d;a=self.devicePixelRatio;this.S=this.Zu*this.tB*a;this.T=this.uK*this.tB*a;a=Math.max(this.S,this.T);b=Math.min(this.V.ew,4096);d=1;a>b&&(d=b/a,this.S=Math.min(this.S*d,b),this.T=Math.min(this.T*d,b));this.fU=d;this.Zu!==c?nh(this):rh(this)}}P(){return this.S}N(){return this.T}oc(){this.AN.Yb();if(!(this.Xa&&!this.cE&&
!this.yG&&!this.SG||this.Sw||0>=this.S||0>=this.T||(this.cE=!1,this.Sw))){this.SG&&(Bh(this),!this.Ln||this.Qy&&this.Qy.toString()===this.ol||(this.Qy=new gh.Xt(this.ol)),this.rB.my(this.Ln?Le(this.Qy):this.ol,this.yT,this.Zu,this.l3,0),this.SG=!1);this.yG&&(Ch(this),this.yG=!1);vh(this,Math.max(gh.Mt(Math.ceil(this.S)),128),Math.max(gh.Mt(Math.ceil(this.T)),64));this.ae.imageSmoothingEnabled=this.h2;this.lv=0;const F=yh(this);var a=this.rB.Uv;for(const C of a)if(a=C.xA,Number.isFinite(C.wA)&&Number.isFinite(a))for(const G of"ltr"===
this.Iw?C.yB():We(C))a:{var b=G,d=F,c=C.N();a=this.ae;const J=b.wA,K=b.xA;if(Number.isFinite(J)&&Number.isFinite(K)){var e=c/16;c=b.P()*d;var g=b.N()*d,k=b.N()/16,l=(4+this.bM)*d,n=b.Ng()?b.Vg:null;if(-1!==this.dE){if(this.lv>=this.dE)break a;b.Ng()&&this.lv+n.length>this.dE&&(n=n.slice(0,this.dE-this.lv),c=sh(this,b).width*d);this.lv+=b.tC()}var p=Xe(b,"background"),r=!!Xe(b,"u"),w=!!Xe(b,"s");if((!b.Ng()||!gh.VP(n)||p||r||w)&&!Xe(b,"hide")){p&&(Eh(this,p.di),a.fillRect(J,K-g,c,g+l));var x=Xe(b,
"color");l=(l=Xe(b,"opacity"))?parseFloat(l.di)/100:1;this.VL!==l&&(this.VL=l,this.ae.globalAlpha=l);l=(l=Xe(b,"linethickness"))?parseFloat(l.di):1;(p=!!Xe(b,"stroke"))&&Fh(this,.5*k*l*yh(this));if(b.Ng()){n=n.join("");var z=th(this,!1,b);this.TL!==z&&(this.TL=z,this.ae.font=z);!p&&(Fh(this,.5*k*l*yh(this)),z=Xe(b,"outlineback"))&&(Eh(this,z.di),Gh(this,!0,n,J,K,c));Eh(this,x?x.di:this.OD);Gh(this,p,n,J,K,c);!p&&(Fh(this,.5*k*l*yh(this)),b=Xe(b,"outline"))&&(Eh(this,b.di),Gh(this,!0,n,J,K,c))}else b.Vx()&&
0<b.P()&&(b=b.QH(this.KE))&&a.drawImage(b,J,K-g,c,g);Eh(this,x?x.di:this.OD);r&&(r=a,b=J,x=K+d*e,n=c,e=d*e*l,p?r.strokeRect(b,x,n,e):r.fillRect(b,x,n,e));w&&(d*=k,a.fillRect(J,K-g/4+d/2-d*l/2,c,d*l))}}}this.V.mk()||(this.Xa||(this.Xa=this.V.mx(this.lo.width,this.lo.height,{Io:!0,JB:"high"})),this.V.lR(this.lo,this.Xa),this.Qi.set(0,0,this.S/this.Xa.P(),this.T/this.Xa.N()),this.QO&&this.QO());this.AN.Yb()}return this.Xa}jr(){return this.Qi}qk(){this.Xa&&(this.V.mk()||this.V.fj(this.Xa),this.Xa=null)}static Td(){for(const a of mh)a.qk()}};
"use strict";const Hh=self.D;function Ih(a){a.Jj&&(1===a.Zc?a.cf.deleteQueryEXT(a.Jj):a.va.deleteQuery(a.Jj),a.Jj=null)}
class Jh{constructor(a){this.va=a.va;this.Zc=a.Zc;this.cf=a.cf;this.Jj=null;this.Ez=this.Pb=!1;this.ho=0;this.Jj=1===this.Zc?this.cf.createQueryEXT():this.va.createQuery()}A(){Ih(this);this.cf=this.va=null;this.Ez=!1}CH(){if(this.Pb)throw Error("query already active");1===this.Zc?this.cf.beginQueryEXT(this.cf.TIME_ELAPSED_EXT,this.Jj):this.va.beginQuery(this.cf.TIME_ELAPSED_EXT,this.Jj);this.Pb=!0}iC(){if(!this.Pb)throw Error("query not active");1===this.Zc?this.cf.endQueryEXT(this.cf.TIME_ELAPSED_EXT):
this.va.endQuery(this.cf.TIME_ELAPSED_EXT);this.Pb=!1}FH(){if(this.Jj&&!this.Ez&&!this.Pb){var a=1===this.Zc?this.cf.getQueryObjectEXT(this.Jj,this.cf.QUERY_RESULT_AVAILABLE_EXT):this.va.getQueryParameter(this.Jj,this.va.QUERY_RESULT_AVAILABLE);var b=this.va.getParameter(this.cf.GPU_DISJOINT_EXT);a&&!b&&(this.ho=1===this.Zc?this.cf.getQueryObjectEXT(this.Jj,this.cf.QUERY_RESULT_EXT):this.va.getQueryParameter(this.Jj,this.va.QUERY_RESULT),this.ho/=1E9,this.Ez=!0);(a||b)&&Ih(this)}}Qx(){return this.Ez}Ix(){if(!this.Ez)throw Error("no result available");
return this.ho}}function Kh(a){a.wq=Hh.C(Jh,a.V);a.ht.push(a.wq);a.wq.CH()}
Hh.W.O0=class{constructor(a){this.V=a;this.Vf=a.Vf;this.Pb=!1;this.oq=null;this.Vp=!1;this.wq=null;this.ht=[]}A(){for(const a of this.ht)a instanceof Jh&&a.A();Hh.I(this.ht);this.V=this.wq=this.oq=null}CH(){if(this.Pb)throw Error("query already active");const a=this.V.vU;if(0<a.length){this.Vp=!0;var b=this.oq=a.at(-1);b.wq.iC();b.wq=null;this.oq.ht.push(this)}else this.Vp=!1,this.oq=null;this.Pb=!0;a.push(this);Kh(this)}iC(){if(!this.Pb)throw Error("query not active");if(this.V.vU.pop()!==this)throw Error("can only end most nested query");
this.Pb=!1;this.wq.iC();this.wq=null;this.oq&&(Kh(this.oq),this.oq=null)}FH(){for(const a of this.ht)a.FH()}Qx(){return this.ht.every(a=>a.Qx())}Ix(){return this.ht.reduce((a,b)=>a+b.Ix(),0)}};"use strict";const Lh=self.D;function Mh(a){const b=new Lh.W.O0(a.V);a.we.push(b);a.we.length>a.H2&&a.we.shift().A();return b}function Nh(a,b,d){if(d<=b)return NaN;let c=0;for(const e of a.we){if(e.Vf>=d)break;if(!(e.Vf<b))if(e.Qx())c+=e.Ix();else return NaN}return c}
function Oh(a,b){for(let d=0,c=a.we.length;d<c;++d){const e=a.we[d];if(e.Vf<b)e.A();else{0<d&&a.we.splice(0,d);break}}}Lh.W.nR=class{constructor(a,b=1E3){this.V=a;this.H2=b;this.we=[];this.V.wD.add(this)}A(){this.pe();this.V.wD.delete(this);this.V=null}pe(){for(const a of this.we)a.A();Lh.I(this.we)}};"use strict";
const Ph=self.D,Qh=self.cj,Rh=Qh.QB,Sh=Qh.tl,Th={powerPreference:"default",sV:!0,alpha:!1,CO:!1,depth:!1,vB:!1,LV:2,failIfMajorPerformanceCaveat:!1},Uh=new Set(["default","low-power","high-performance"]),Vh=new Ph.yd(0,0,1,0,1,1,0,1),Wh=Sh.create(),Xh=Sh.create(),Yh=new Ph.yd,Zh=new Ph.Rect;let $h=null;Ph.CB&&(self.Ega=function(){$h?$h.loseContext():console.warn("WEBGL_lose_context not supported")},self.Fga=function(){$h?$h.restoreContext():console.warn("WEBGL_lose_context not supported")});
const ai=new Set;let bi=-1;function ci(){bi=-1;for(const a of ai)a.C3()&&(a.resolve(),ai.delete(a));0<ai.size&&(bi=self.requestAnimationFrame(ci))}function Lg(a){const b=new Promise(d=>ai.add({resolve:d,C3:a}));-1===bi&&(bi=self.requestAnimationFrame(ci));return b}function di(a,b,d){const c=a.pB;if(0!==c[0]||0!==c[1]||c[2]!==b||c[3]!==d){var e=ei(a);e.Da=5;e=e.un;e[0]=0;e[1]=0;e[2]=b;e[3]=d;Rh.set(c,0,0,b,d);a.kc=0}}
function ei(a){const b=a.Py;a.rp===b.length&&b.push(new Ph.W.M0(a.Qc));return b[a.rp++]}function ji(a){a.tg(1,1,1,1)}function ki(a,b,d){if(b!==a.SL||d!==a.QL){var c=ei(a);c.Da=4;c.Je=b;c.In=d;a.SL=b;a.QL=d;a.kc=0;a.Bg=null}}function li(a){let b=a.Uj;b>=a.jT&&(a.qe(),b=0);if(1===a.kc)a.Py[a.rp-1].In+=6;else{var d=ei(a);d.Da=1;d.Je=b;d.In=6;a.kc=1}}function mi(a,b){Dc(b,a.Tj,a.Uj,a.Gh+a.xn);a.Uj+=12}function ni(a,b){if(a.Ch()){var d=ei(a);d.Da=19;d.gg=b;a.kc=0}}
Ph.W.N0=class extends Ph.W.EQ{constructor(a,b){super(b);b=Object.assign({},Th,b);if(!Uh.has(b.powerPreference))throw Error("invalid power preference");const d={alpha:!!b.alpha,depth:!1,antialias:!1,powerPreference:b.powerPreference,failIfMajorPerformanceCaveat:!!b.failIfMajorPerformanceCaveat};b.CO&&(d.desynchronized=!0,d.preserveDrawingBuffer=!0);let c=null,e=0;2<=b.LV&&(c=a.getContext("webgl2",d),e=2);c||(c=a.getContext("webgl",d),e=1);if(!c)throw Error("renderer-unavailable (could not get WebGL context)");
this.va=c;this.LR=c.getContextAttributes();b.CO&&!this.LR.desynchronized&&console.info("[WebGLRenderer] Low-latency mode specified but is not supported here");c.getParameter(c.VERSION);this.Zc=e;this.pB=Rh.create();this.Cp=!1;this.AD=Sh.create();this.vm=!!b.depth;this.Rl=!(!b.depth||!b.vB);this.Rz=this.vm;this.BL=!1;this.ye=null;this.zL=!0;this.gz=this.iz=0;this.co=this.Pp=this.ko=this.Ao=null;this.Tj=new Float32Array(24E3);this.Cv=new Uint16Array(12E3);this.Wh=new Float32Array(16E3);this.kw=new Float32Array(32E3);
this.jT=this.sq=this.hg=this.Uj=0;this.nt=this.Un=null;this.Py=[];this.kc=this.rp=0;this.wb=null;this.Qc=Ph.C(Ph.W.LW,this);this.bA=Ph.C(Ph.ub,1,1,1,1);this.cq=this.al=null;this.QL=this.SL=0;this.D2=new Ph.Rect;this.wF=Ph.C(Ph.Rect,0,0,-1,-1);this.RD=0;this.ew=-1;this.oM=0;this.jB="(unavailable)";this.EL=!1;this.zN=this.vN=this.SK=this.kz=this.Gy=this.LM=null;this.mM=0;this.v2=!!b.sV;this.cf=null;this.wD=new Set;this.vU=[];Pf(this.Cv)}lj(){return!0}async mr(){super.mr();var a=this.va;dc(this.bA,1,
1,1,1);this.cq=this.al=null;this.sq=this.Uj=0;this.jT=23988;Ph.I(this.Py);this.kc=this.rp=0;this.wb=this.Un=null;this.D2.set(0,0,1,1);var b=this.Qc;b.ai=null;b.Fo=null;b.sl=null;Rh.set(b.YG,1,1,1,1);dc(b.clearColor,0,0,0,0);b.VO.set(0,0,1,1);a.clearColor(0,0,0,0);a.clear(a.COLOR_BUFFER_BIT);a.enable(a.BLEND);a.blendFunc(a.ONE,a.ONE_MINUS_SRC_ALPHA);this.SL=a.ONE;this.QL=a.ONE_MINUS_SRC_ALPHA;this.mJ(a);a.disable(a.CULL_FACE);a.disable(a.STENCIL_TEST);a.disable(a.DITHER);this.vm?(a.enable(a.DEPTH_TEST),
a.depthMask(!0),a.depthFunc(a.LEQUAL)):(a.disable(a.DEPTH_TEST),a.depthMask(!1));this.Rz=this.vm;this.BL=!1;this.co=a.createBuffer();a.bindBuffer(a.ARRAY_BUFFER,this.co);a.bufferData(a.ARRAY_BUFFER,this.kw.byteLength,a.DYNAMIC_DRAW);this.Ao=a.createBuffer();a.bindBuffer(a.ARRAY_BUFFER,this.Ao);a.bufferData(a.ARRAY_BUFFER,this.Tj.byteLength,a.DYNAMIC_DRAW);this.ko=a.createBuffer();a.bindBuffer(a.ARRAY_BUFFER,this.ko);a.bufferData(a.ARRAY_BUFFER,this.Wh.byteLength,a.DYNAMIC_DRAW);this.Pp=a.createBuffer();
a.bindBuffer(a.ELEMENT_ARRAY_BUFFER,this.Pp);a.bufferData(a.ELEMENT_ARRAY_BUFFER,this.Cv,a.STATIC_DRAW);a.activeTexture(a.TEXTURE0);a.bindTexture(a.TEXTURE_2D,null);this.ew=a.getParameter(a.MAX_TEXTURE_SIZE);this.oM=a.getParameter(a.ALIASED_POINT_SIZE_RANGE)[1];2048<this.oM&&(this.oM=2048);if(b=a.getExtension("WEBGL_debug_renderer_info"))a.getParameter(b.UNMASKED_VENDOR_WEBGL),this.jB=a.getParameter(b.UNMASKED_RENDERER_WEBGL);this.LM=a.getExtension("KHR_parallel_shader_compile");Ph.CB&&($h=a.getExtension("WEBGL_lose_context"));
this.v2&&(this.cf=1===this.Zc?a.getExtension("EXT_disjoint_timer_query"):a.getExtension("EXT_disjoint_timer_query_webgl2")||a.getExtension("EXT_disjoint_timer_query"));this.mM=(this.Gy=a.getExtension("EXT_texture_filter_anisotropic"))?a.getParameter(this.Gy.MAX_TEXTURE_MAX_ANISOTROPY_EXT):0;if(2>this.Zc&&this.vm&&this.Rl&&(this.kz=a.getExtension("WEBGL_depth_texture"),!this.kz))throw Error("no depth texture support");2>this.Zc&&(this.SK=a.getExtension("EXT_frag_depth"),this.vN=a.getExtension("OES_standard_derivatives"),
this.zN=a.getExtension("EXT_shader_texture_lod"));a=Ph.W.fD;b=a.du(!1);let d="varying mediump vec2 vTex;\nuniform lowp vec4 color;\nuniform lowp sampler2D samplerFront;\nvoid main(void) {\n\tgl_FragColor = texture2D(samplerFront, vTex) * color;\n}",c=b,e="uniform lowp sampler2D samplerFront;\nvarying lowp float pointOpacity;\nuniform mediump vec2 pointTexStart;\nuniform mediump vec2 pointTexEnd;\nuniform lowp vec4 color;\nvoid main(void) {\n\tmediump vec2 pointTexMin = min(pointTexStart, pointTexEnd);\n\tmediump vec2 pointTexMax = max(pointTexStart, pointTexEnd);\n\tmediump vec2 pointCoord = (pointTexEnd.x > pointTexStart.x ? gl_PointCoord : vec2(1.0 - gl_PointCoord.y, gl_PointCoord.x));\n\tgl_FragColor = texture2D(samplerFront, mix(pointTexMin, pointTexMax, pointCoord)) * color * pointOpacity;\n}",
g="attribute vec4 aPoints;\nvarying float pointOpacity;\nuniform float zElevation;\nuniform mat4 matP;\nuniform mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPoints.xy, zElevation, 1.0);\n\tgl_PointSize = aPoints.z;\n\tpointOpacity = aPoints.w;\n}",k="#ifdef GL_FRAGMENT_PRECISION_HIGH\n#define highmedp highp\n#else\n#define highmedp mediump\n#endif\nvarying highmedp vec2 vTex;\nuniform lowp vec4 color;\nuniform lowp sampler2D samplerFront;\nuniform highmedp vec2 srcStart;\nuniform highmedp vec2 pixelSize;\nuniform highmedp vec2 tileSize;\nuniform highmedp vec2 tileSpacing;\nvoid main(void) {\n\thighmedp vec2 tile = floor(vTex);\n\thighmedp vec2 tex = fract(vTex);\n\thighmedp vec2 tileOrigin = srcStart + tile * (tileSize + tileSpacing);\n\thighmedp vec2 lowerBound = tileOrigin + pixelSize / 2.0;\n\thighmedp vec2 upperBound = tileOrigin + tileSize - pixelSize / 2.0;\n\tgl_FragColor = texture2D(samplerFront, clamp(tex, lowerBound, upperBound), -16.0) * color;\n}",
l=a.du(!0),n=!1;this.vm&&(2>this.Zc?this.SK&&(d="#extension GL_EXT_frag_depth : enable\nvarying mediump vec2 vTex;\nuniform lowp vec4 color;\nuniform lowp sampler2D samplerFront;\nvoid main(void) {\n\tgl_FragColor = texture2D(samplerFront, vTex) * color;\n\tgl_FragDepthEXT = (gl_FragColor.a == 0.0 ? 1.0 : gl_FragCoord.z);\n}",e="#extension GL_EXT_frag_depth : enable\nuniform lowp sampler2D samplerFront;\nvarying lowp float pointOpacity;\nuniform mediump vec2 pointTexStart;\nuniform mediump vec2 pointTexEnd;\nuniform lowp vec4 color;\nvoid main(void) {\n\tmediump vec2 pointTexMin = min(pointTexStart, pointTexEnd);\n\tmediump vec2 pointTexMax = max(pointTexStart, pointTexEnd);\n\tmediump vec2 pointCoord = (pointTexEnd.x > pointTexStart.x ? gl_PointCoord : vec2(1.0 - gl_PointCoord.y, gl_PointCoord.x));\n\tgl_FragColor = texture2D(samplerFront, mix(pointTexMin, pointTexMax, pointCoord)) * color * pointOpacity;\n\tgl_FragDepthEXT = (gl_FragColor.a == 0.0 ? 1.0 : gl_FragCoord.z);\n}",
k="#extension GL_EXT_frag_depth : enable\n#ifdef GL_FRAGMENT_PRECISION_HIGH\n#define highmedp highp\n#else\n#define highmedp mediump\n#endif\nvarying highmedp vec2 vTex;\nuniform lowp vec4 color;\nuniform lowp sampler2D samplerFront;\nuniform highmedp vec2 srcStart;\nuniform highmedp vec2 pixelSize;\nuniform highmedp vec2 tileSize;\nuniform highmedp vec2 tileSpacing;\nvoid main(void) {\n\thighmedp vec2 tile = floor(vTex);\n\thighmedp vec2 tex = fract(vTex);\n\thighmedp vec2 tileOrigin = srcStart + tile * (tileSize + tileSpacing);\n\thighmedp vec2 lowerBound = tileOrigin + pixelSize / 2.0;\n\thighmedp vec2 upperBound = tileOrigin + tileSize - pixelSize / 2.0;\n\tgl_FragColor = texture2D(samplerFront, clamp(tex, lowerBound, upperBound), -16.0) * color;\n\tgl_FragDepthEXT = (gl_FragColor.a == 0.0 ? 1.0 : gl_FragCoord.z);\n}",
n=!0):(c=Qg(),d="#version 300 es\nin mediump vec2 vTex;\nout lowp vec4 outColor;\nuniform lowp vec4 color;\nuniform lowp sampler2D samplerFront;\nvoid main(void) {\n\toutColor = texture(samplerFront, vTex) * color;\n\tgl_FragDepth = (outColor.a == 0.0 ? 1.0 : gl_FragCoord.z);\n}",e="#version 300 es\nuniform lowp sampler2D samplerFront;\nin lowp float pointOpacity;\nuniform mediump vec2 pointTexStart;\nuniform mediump vec2 pointTexEnd;\nuniform lowp vec4 color;\nout lowp vec4 outColor;\nvoid main(void) {\n\tmediump vec2 pointTexMin = min(pointTexStart, pointTexEnd);\n\tmediump vec2 pointTexMax = max(pointTexStart, pointTexEnd);\n\tmediump vec2 pointCoord = (pointTexEnd.x > pointTexStart.x ? gl_PointCoord : vec2(1.0 - gl_PointCoord.y, gl_PointCoord.x));\n\toutColor = texture(samplerFront, mix(pointTexMin, pointTexMax, pointCoord)) * color * pointOpacity;\n\tgl_FragDepth = (outColor.a == 0.0 ? 1.0 : gl_FragCoord.z);\n}",
g="#version 300 es\nin vec4 aPoints;\nout float pointOpacity;\nuniform float zElevation;\nuniform mat4 matP;\nuniform mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPoints.xy, zElevation, 1.0);\n\tgl_PointSize = aPoints.z;\n\tpointOpacity = aPoints.w;\n}",k="#version 300 es\nin highp vec2 vTex;\nout lowp vec4 outColor;\nuniform lowp vec4 color;\nuniform lowp sampler2D samplerFront;\nuniform highp vec2 srcStart;\nuniform highp vec2 pixelSize;\nuniform highp vec2 tileSize;\nuniform highp vec2 tileSpacing;\nvoid main(void) {\n\thighp vec2 tile = floor(vTex);\n\thighp vec2 tex = fract(vTex);\n\thighp vec2 tileOrigin = srcStart + tile * (tileSize + tileSpacing);\n\thighp vec2 lowerBound = tileOrigin + pixelSize / 2.0;\n\thighp vec2 upperBound = tileOrigin + tileSize - pixelSize / 2.0;\n\toutColor = texture(samplerFront, clamp(tex, lowerBound, upperBound), -16.0) * color;\n\tgl_FragDepth = (outColor.a == 0.0 ? 1.0 : gl_FragCoord.z);\n}",
l=Qg(!0)));a=await Promise.all([[d,c,"<default>"],[d,c,"<default-device-transform>"],[e,g,"<point>"],["uniform lowp vec4 color;\nvoid main(void) {\n\tgl_FragColor = color;\n}",b,"<fill>"],["precision lowp float;\nvarying mediump vec2 vTex;\nuniform vec4 color;\nuniform vec4 color2_;\nvec3 fromLinear(vec3 linearRGB)\n{\n\tbvec3 cutoff = lessThan(linearRGB, vec3(0.0031308));\n\tvec3 higher = vec3(1.055) * pow(abs(linearRGB), vec3(1.0/2.4)) - vec3(0.055);\n\tvec3 lower = linearRGB * vec3(12.92);\n\treturn mix(higher, lower, vec3(cutoff));\n}\nvec3 toLinear(vec3 sRGB)\n{\n\tbvec3 cutoff = lessThan(sRGB, vec3(0.04045));\n\tvec3 higher = pow(abs((sRGB + vec3(0.055))/vec3(1.055)), vec3(2.4));\n\tvec3 lower = sRGB/vec3(12.92);\n\treturn mix(higher, lower, vec3(cutoff));\n}\nvoid main(void) {\n\tvec3 linearGrad = mix(toLinear(color.rgb), toLinear(color2_.rgb), vTex.x);\n\tfloat a = mix(color.a, color2_.a, vTex.x);\n\tgl_FragColor = vec4(fromLinear(linearGrad) * a, a);\n}",
b,"<lineargradient>"],["#ifdef GL_FRAGMENT_PRECISION_HIGH\n#define highmedp highp\n#else\n#define highmedp mediump\n#endif\nprecision lowp float;\nvarying highmedp vec2 vTex;\nuniform vec4 color;\nvoid main(void) {\n\thighmedp float grad = vTex.x / (1.0 - vTex.y);\n\tgl_FragColor = color * (1.0 - (cos(grad * 3.141592653589793) + 1.0) / 2.0);\n}",b,"<penumbra>"],["varying mediump vec2 vTex;\nuniform lowp vec4 color;\nvoid main(void) {\n\tmediump vec2 diff = vTex - vec2(0.5, 0.5);\n\tmediump vec2 diffSq = diff * diff;\n\tmediump float f = step(diffSq.x + diffSq.y, 0.25);\n\tgl_FragColor = color * f;\n}",
b,"<hardellipse>"],["varying mediump vec2 vTex;\nuniform lowp vec4 color;\nuniform mediump vec2 pixelSize;\nuniform mediump float outlineThickness;\nvoid main(void) {\n\tmediump vec2 diff = vTex - vec2(0.5, 0.5);\n\tmediump vec2 diffSq = diff * diff;\n\tmediump float distSq = diffSq.x + diffSq.y;\n\tmediump vec2 norm = normalize(diff);\n\tmediump vec2 halfNorm = norm * 0.5;\n\tmediump float innerF = step(distSq, 0.25);\n\tmediump vec2 innerEdge = halfNorm - pixelSize * norm * outlineThickness;\n\tmediump vec2 innerEdgeSq = innerEdge * innerEdge;\n\tmediump float outerF = step(innerEdgeSq.x + innerEdgeSq.y, distSq);\n\tgl_FragColor = color * innerF * outerF;\n}",
b,"<hardellipseoutline>"],["varying mediump vec2 vTex;\nuniform lowp vec4 color;\nuniform mediump vec2 pixelSize;\nvoid main(void) {\n\tmediump vec2 diff = vTex - vec2(0.5, 0.5);\n\tmediump vec2 diffSq = diff * diff;\n\tmediump vec2 norm = normalize(diff);\n\tmediump vec2 halfNorm = norm * 0.5;\n\tmediump vec2 halfNormSq = halfNorm * halfNorm;\n\tmediump vec2 innerEdge = halfNorm - pixelSize * norm;\n\tmediump vec2 innerEdgeSq = innerEdge * innerEdge;\n\tmediump float f = smoothstep(halfNormSq.x + halfNormSq.y, innerEdgeSq.x + innerEdgeSq.y, diffSq.x + diffSq.y);\n\tgl_FragColor = color * f;\n}",
b,"<smoothellipse>"],["varying mediump vec2 vTex;\nuniform lowp vec4 color;\nuniform mediump vec2 pixelSize;\nuniform mediump float outlineThickness;\nvoid main(void) {\n\tmediump vec2 diff = vTex - vec2(0.5, 0.5);\n\tmediump vec2 diffSq = diff * diff;\n\tmediump float distSq = diffSq.x + diffSq.y;\n\tmediump vec2 norm = normalize(diff);\n\tmediump vec2 halfNorm = norm * 0.5;\n\tmediump vec2 halfNormSq = halfNorm * halfNorm;\n\tmediump vec2 pxNorm = pixelSize * norm;\n\tmediump vec2 innerEdge1 = halfNorm - pxNorm;\n\tmediump vec2 innerEdge1Sq = innerEdge1 * innerEdge1;\n\tmediump float innerF = smoothstep(halfNormSq.x + halfNormSq.y, innerEdge1Sq.x + innerEdge1Sq.y, distSq);\n\tmediump vec2 innerEdge2 = halfNorm - pxNorm * outlineThickness;\n\tmediump vec2 innerEdge2Sq = innerEdge2 * innerEdge2;\n\tmediump vec2 innerEdge3 = halfNorm - pxNorm * (outlineThickness + 1.0);\n\tmediump vec2 innerEdge3Sq = innerEdge3 * innerEdge3;\n\tmediump float outerF = smoothstep(innerEdge3Sq.x + innerEdge3Sq.y, innerEdge2Sq.x + innerEdge2Sq.y, distSq);\n\tgl_FragColor = color * innerF * outerF;\n}",
b,"<smoothellipseoutline>"],["varying mediump vec2 vTex;\nuniform lowp vec4 color;\nvoid main(void) {\n\tlowp float f = 1.0 - abs(vTex.y - 0.5) * 2.0;\n\tgl_FragColor = color * f;\n}",b,"<smoothline>"],[k,l,"<tilemap>"],[a.AC(this.Zc,n,this.vN&&this.zN),2<=this.Zc?Qg():b,"<tilerandomization>"]].map(p=>this.eC({src:p[0],Vt:p[1],name:p[2]})));this.ot=a[0];this.nt=a[1];this.TA=a[2];this.SA=a[3];this.UA=a[12];Xf(this)}async eC(a){a=await Ph.W.fD.Ka(this,a);Wf(this,a);return a}Vd(a,b,d){if(this.S!==a||
this.T!==b||d){this.qe();d=this.va;var c=this.Qc;this.S=a;this.T=b;di(this,a,b);Sf(this,this.AD,a/b);this.an(this.AD);this.nt&&(d.useProgram(this.nt.Le()),Mg(this.nt,this.Ss),this.Un=this.nt,this.Qc.ai=this.nt);d.bindTexture(d.TEXTURE_2D,null);d.activeTexture(d.TEXTURE1);d.bindTexture(d.TEXTURE_2D,null);d.activeTexture(d.TEXTURE0);this.cq=this.al=null;this.vm&&this.zL&&this.Pr(this.S,this.T);this.wb&&this.wb.zy(this.S,this.T);d.bindFramebuffer(d.FRAMEBUFFER,null);this.wb=null;c.Fo=null;c.sl=null}}Pr(a,
b){const d=this.va;this.ye&&this.iz===a&&this.gz===b||(this.Rl?(this.ye&&d.deleteTexture(this.ye),this.ye=d.createTexture(),d.bindTexture(d.TEXTURE_2D,this.ye),d.texParameteri(d.TEXTURE_2D,d.TEXTURE_MAG_FILTER,d.NEAREST),d.texParameteri(d.TEXTURE_2D,d.TEXTURE_MIN_FILTER,d.NEAREST),d.texParameteri(d.TEXTURE_2D,d.TEXTURE_WRAP_S,d.CLAMP_TO_EDGE),d.texParameteri(d.TEXTURE_2D,d.TEXTURE_WRAP_T,d.CLAMP_TO_EDGE),2<=this.Zc?d.texImage2D(d.TEXTURE_2D,0,d.DEPTH24_STENCIL8,a,b,0,d.DEPTH_STENCIL,d.UNSIGNED_INT_24_8,
null):this.kz&&d.texImage2D(d.TEXTURE_2D,0,d.DEPTH_STENCIL,a,b,0,d.DEPTH_STENCIL,this.kz.UNSIGNED_INT_24_8_WEBGL,null),d.bindTexture(d.TEXTURE_2D,null)):(this.ye&&d.deleteRenderbuffer(this.ye),this.ye=d.createRenderbuffer(),d.bindRenderbuffer(d.RENDERBUFFER,this.ye),d.renderbufferStorage(d.RENDERBUFFER,2<=this.Zc?d.DEPTH24_STENCIL8:d.DEPTH_STENCIL,a,b),d.bindRenderbuffer(d.RENDERBUFFER,null)),this.iz=a,this.gz=b)}UQ(a,b){this.vm&&(this.zL=!1,this.Pr(a,b))}SQ(){this.vm&&(this.zL=!0,this.Pr(this.S,
this.T))}LI(a){super.LI(a);Sf(this,this.AD,this.S/this.T)}an(a){if(!Sh.bj(this.Ss,a)){var b=ei(this);b.Da=6;fh.Ja(b.Ee,a);Sh.Ja(this.Ss,a);this.kc=0;this.Cp=!0}}YC(){let a,b;var d=this.wb;null===d?(a=this.AD,b=this.P(),d=this.N()):(a=Ig(d),b=d.P(),d=d.N());this.an(a);di(this,b,d)}xu(a){if(!Sh.bj(this.cw,a)){var b=ei(this);b.Da=7;fh.Ja(b.Ee,a);Sh.Ja(this.cw,a);this.kc=0;this.Cp=!0}}NQ(){this.Cp=!1}gC(){return this.Cp}qe(){if(0!==this.rp&&!this.mk()){this.BJ();const a=this.Py;for(let b=0,d=this.rp;b<
d;++b)a[b].Fa();this.kc=this.sq=this.hg=this.Uj=this.rp=0}}BJ(){const a=this.va;0<this.sq&&(a.bindBuffer(a.ARRAY_BUFFER,this.co),a.bufferSubData(a.ARRAY_BUFFER,0,this.kw.subarray(0,this.sq)));0<this.Uj&&(a.bindBuffer(a.ARRAY_BUFFER,this.Ao),a.bufferSubData(a.ARRAY_BUFFER,0,this.Tj.subarray(0,this.Uj)),a.bindBuffer(a.ARRAY_BUFFER,this.ko),a.bufferSubData(a.ARRAY_BUFFER,0,this.Wh.subarray(0,this.hg)))}nc(){return this.bA.ab}tg(a,b,d,c){const e=this.bA;kc(e,a,b,d,c)||(dc(e,a,b,d,c),a=ei(this),a.Da=3,
e.Hd(a.un,0),this.kc=0,this.Bg=null)}Ne(a){const b=this.bA;b.ab!==a&&(hc(b,a),a=ei(this),a.Da=3,b.Hd(a.un,0),this.kc=0,this.Bg=null)}ep(a){const b=this.bA;b.Pd(a)||(b.set(a),a=ei(this),a.Da=3,b.Hd(a.un,0),this.kc=0,this.Bg=null)}te(a){if(a!==this.al){var b=ei(this);b.Da=2;this.al=b.gg=a;this.kc=0}}Me(a){a=this.DD[a];ki(this,a[0],a[1])}by(){ki(this,this.va.ONE,this.va.ONE_MINUS_SRC_ALPHA)}Fr(){ki(this,this.va.ONE,this.va.ZERO)}Rect(a){this.VC(a.la,a.ea,a.wa,a.ra)}VC(a,b,d,c){this.yI(a,b,d,b,d,c,a,
c)}yd(a){li(this);mi(this,a);Vh.Hd(this.Wh,this.hg);this.hg+=8}yI(a,b,d,c,e,g,k,l){li(this);const n=this.Tj;let p=this.Uj;const r=this.Gh+this.xn;n[p++]=a;n[p++]=b;n[p++]=r;n[p++]=d;n[p++]=c;n[p++]=r;n[p++]=e;n[p++]=g;n[p++]=r;n[p++]=k;n[p++]=l;n[p++]=r;this.Uj=p;Vh.Hd(this.Wh,this.hg);this.hg+=8}Zm(a,b){li(this);mi(this,a);a=this.Wh;var d=this.hg;a[d++]=b.la;a[d++]=b.ea;a[d++]=b.wa;a[d++]=b.ea;a[d++]=b.wa;a[d++]=b.ra;a[d++]=b.la;a[d]=b.ra;this.hg+=8}SC(a,b){li(this);mi(this,a);b.Hd(this.Wh,this.hg);
this.hg+=8}Yx(a,b,d,c,e,g,k,l,n,p,r,w,x){li(this);const z=this.Tj;let F=this.Uj;const C=this.Gh+this.xn;z[F++]=a;z[F++]=b;z[F++]=C+d;z[F++]=c;z[F++]=e;z[F++]=C+g;z[F++]=k;z[F++]=l;z[F++]=C+n;z[F++]=p;z[F++]=r;z[F++]=C+w;this.Uj=F;x.Hd(this.Wh,this.hg);this.hg+=8}wx(a,b){ag(this,0);Sh.Ja(Wh,this.Ss);Sh.Ja(Xh,this.cw);this.YC();const [d,c]=this.Hx(this.wb);var e=Uf(this,0,0,this.If(c),0,0,c);this.xu(e);if("crop"===a&&this.wb&&b){a=this.S/2;e=this.T/2;const l=b.P();b=b.N();var g=this.wb.P(),k=this.wb.N();
g=Math.min(g,l);const n=Math.min(k,b),p=Math.max(b-k,0);k=Math.max(k-b,0);Zh.set(-a,e-k,-a+g,e-n-k);Yh.lh(Zh);Zh.set(0,p,g,n+p);Zh.Go(l,b);this.Zm(Yh,Zh)}else a=d/2,e=c/2,this.VC(-a,e,a,-e);this.an(Wh);this.xu(Xh)}rk(a){if(this.Un!==a){var b=ei(this);b.Da=11;this.Un=b.gg=a;this.kc=0;this.Bg=null}}aR(a,b,d,c,e,g,k){if(this.Un!==this.UA)throw Error("must set tile randomization mode first");var l=ei(this);l.Da=29;l=l.Ee;l[0]=1/a;l[1]=1/b;l[2]=d;l[3]=c;l[4]=e;l[5]=g;l[6]=k;this.kc=0}cD(a,b,d,c,e,g,k,
l,n,p,r){const w=this.Un;r%=10800;if(w.d2&&(w.Qw.ta||w.hh.ta&&!Yg(w.hh,g,k)||w.Kq.ta&&!Yg(w.Kq,b.la,b.ea)||w.Jq.ta&&!Yg(w.Jq,b.wa,b.ra)||w.Lq.ta&&w.Lq.Yf[0]!==Math.fround(l)||w.Nq.ta&&w.Nq.Yf[0]!==Math.fround(n)||w.Mq.ta&&w.Mq.Yf[0]!==Math.fround(p)||w.rl.ta&&!Yg(w.rl,d.la,d.ea)||w.wo.ta&&!Yg(w.wo,d.wa,d.ra)||w.yo.ta&&!Yg(w.yo,c.la,c.ea)||w.xo.ta&&!Yg(w.xo,c.wa,c.ra)||w.Pq.ta&&!Yg(w.Pq,e.la,e.ea)||w.Oq.ta&&!Yg(w.Oq,e.ea,e.ra)||w.Qq.ta&&w.Qq.Yf[0]!==Math.fround(r))){var x=ei(this);x.Da=12;var z=r;
w.Qw.ta||(w.hh.ta&&Zg(w.hh,g,k),w.Kq.ta&&Zg(w.Kq,b.la,b.ea),w.Jq.ta&&Zg(w.Jq,b.wa,b.ra),w.Lq.ta&&(w.Lq.Yf[0]=l),w.Nq.ta&&(w.Nq.Yf[0]=n),w.Mq.ta&&(w.Mq.Yf[0]=p),w.rl.ta&&Zg(w.rl,d.la,d.ea),w.wo.ta&&Zg(w.wo,d.wa,d.ra),w.yo.ta&&Zg(w.yo,c.la,c.ea),w.xo.ta&&Zg(w.xo,c.wa,c.ra),w.Pq.ta&&Zg(w.Pq,e.la,e.ea),w.Oq.ta&&Zg(w.Oq,e.ea,e.ra),w.Qq.ta&&(w.Qq.Yf[0]=z));z=x.Ee;z[0]=g;z[1]=k;b.Hd(z,2);z[6]=n;z[7]=p;d.Hd(z,12);b=x.un;e.Hd(b,0);e=b[1];b[1]=b[3];b[3]=e;c.Hd(x.oU,0);x.Je=r;x.In=l;x.gg=w.Qw.ta?a?a.oc():null:
null;this.kc=0}}bD(a){const b=this.Un;var d;if(d=0!==a.length){a:{for(let g=0,k=a.length;g<k;++g){d=b.Dt[g];var c=a[g],e=d.Yf;if(d.AL?e[0]!==Math.fround(c.kb)||e[1]!==Math.fround(c.Ra)||e[2]!==Math.fround(c.hb):e[0]!==Math.fround(c)){d=!1;break a}}d=!0}d=!d}if(d){d=ei(this);d.Da=13;for(let g=0,k=a.length;g<k;++g){c=b.Dt[g];e=a[g];const l=c.Yf;c.AL?(l[0]=e.kb,l[1]=e.Ra,l[2]=e.hb):l[0]=e}Ph.Fd(d.kG,a);this.kc=0}}gi(a,b,d,c){var e=ei(this);e.Da=9;e=e.Ee;e[0]=a;e[1]=b;e[2]=d;e[3]=c;this.kc=0}pe(a){var b=
ei(this);b.Da=9;a.Hd(b.Ee,0);this.kc=0}bn(){}Oo(){super.Oo();this.va.flush()}GH(){if(this.vm&&this.wb&&this.wb.gd){var a=ei(this),b=this.Rz;a.Da=22;a.Je=b?1:0;this.kc=0}}lf(a){a=!!a;if(this.Rz!==a&&this.vm){this.Rz=a;var b=ei(this);b.Da=23;b.Je=a?1:0;this.kc=0}}Ux(){return this.Rz}vu(a){a=!!a;if(this.Rl&&this.BL!==a){if(a&&this.Ux())throw Error("depth still enabled");this.BL=a;var b=ei(this);b.Da=24;b.Je=a?1:0;this.kc=0}}ZQ(a,b,d,c,e=0){a=Math.floor(a);b=Math.floor(b);d=Math.floor(d);c=Math.floor(c);
uc(this.wF,a,b,d,c)||(tc(this.wF,a,b,d,c),b=(e||this.Hx(this.ik())[1])-b-c,e=ei(this),e.Da=28,e.Je=1,e=e.Ee,e[0]=a,e[1]=b,e[2]=d,e[3]=c,this.kc=0)}CI(){if(-1!==this.wF.wa){this.wF.set(0,0,-1,-1);var a=ei(this);a.Da=28;a.Je=0;a=a.Ee;a[0]=0;a[1]=0;a[2]=0;this.kc=a[3]=0}}mk(){return!this.va||this.va.isContextLost()||this.EL}Td(){Rf(this);Ph.W.eD.Td();Ph.W.oR.Td();Ph.W.DI.Td();for(const a of this.wD)a.pe();this.zN=this.vN=this.SK=this.kz=this.Gy=this.LM=this.cf=null;this.mM=0;this.jB="(unavailable)";
this.ye=this.nt=this.Un=null;for(const a of this.qt.values())a.Td()}async MC(){this.EL=!0;await this.mr();this.EL=!1;for(const a of this.qt.values())a.MC(this);this.Vd(this.S,this.T,!0)}Zt(a,b){if(this.mk())throw Error("context lost");this.qe();const d=Ph.C(Ph.W.eD,this);if(!("undefined"!==typeof HTMLImageElement&&a instanceof HTMLImageElement||"undefined"!==typeof HTMLCanvasElement&&a instanceof HTMLCanvasElement||"undefined"!==typeof ImageBitmap&&a instanceof ImageBitmap||"undefined"!==typeof OffscreenCanvas&&
a instanceof OffscreenCanvas||a instanceof ImageData||a instanceof ArrayBuffer)&&null!==a)throw Error("invalid texture source");var c=Object.assign({},wg,b);if(d.Xa)throw Error("already created texture");d.Zi=c.Fm;d.$i=c.Gm;d.ic=c.tc;d.Wr=c.Uw;d.rq=c.UO;d.Lh=!!c.Io&&d.V.ss;d.Ts=c.JB;if(!ug.has(d.Zi)||!ug.has(d.$i))throw Error("invalid wrap mode");if(!sg.has(d.ic))throw Error("invalid sampling");if(!rg.has(d.rq))throw Error("invalid pixel format");if(!tg.has(d.Ts))throw Error("invalid mipmap quality");
d.uf=!0;if(a instanceof ArrayBuffer||null===a||c.IV){if(d.S=c.width,d.T=c.height,a instanceof ArrayBuffer&&a.byteLength!==d.S*d.T*4)throw Error("ArrayBuffer wrong size");}else d.S=a.width,d.T=a.height;if(0>=d.S||0>=d.T)throw Error("invalid texture data size");c.IV&&(b=qg.oh(d.S,d.T),b.getContext("2d").drawImage(a,0,0,d.S,d.T),a=b);var e=qg.Xj(d.S)&&qg.Xj(d.T);b=d.V.ew;if(d.S>b||d.T>b)throw Error("texture data exceeds maximum texture size");b=d.V.va;var g=d.V.Zc;d.Xa=b.createTexture();b.bindTexture(b.TEXTURE_2D,
d.Xa);b.pixelStorei(b.UNPACK_PREMULTIPLY_ALPHA_WEBGL,c.premultiplyAlpha);b.pixelStorei(b.UNPACK_FLIP_Y_WEBGL,!1);c=vg(d.rq,b);if(d.V.hp()||e||!zg(d))2<=g?(b.texStorage2D(b.TEXTURE_2D,d.Lh?Math.floor(Math.log2(Math.max(d.S,d.T))+1):1,c.dP,d.S,d.T),a instanceof ArrayBuffer?b.texSubImage2D(b.TEXTURE_2D,0,0,0,d.S,d.T,c.format,c.type,new Uint8Array(a)):null!==a&&b.texSubImage2D(b.TEXTURE_2D,0,0,0,c.format,c.type,a)):a instanceof ArrayBuffer?b.texImage2D(b.TEXTURE_2D,0,c.Zw,d.S,d.T,0,c.format,c.type,new Uint8Array(a)):
null===a?b.texImage2D(b.TEXTURE_2D,0,c.Zw,d.S,d.T,0,c.format,c.type,null):b.texImage2D(b.TEXTURE_2D,0,c.Zw,c.format,c.type,a);else{if(null===a)throw Error("cannot pass null data when creating a NPOT tiled texture without NPOT support");a instanceof ArrayBuffer&&(a=new ImageData(new Uint8ClampedArray(a),d.S,d.T));a instanceof ImageData&&(e=qg.oh(d.S,d.T),e.getContext("2d").putImageData(a,0,0),a=e);e=qg.oh(qg.Mt(d.S),qg.Mt(d.T));g=e.getContext("2d");g.imageSmoothingEnabled="nearest"!==d.ic;g.drawImage(a,
0,0,d.S,d.T,0,0,e.width,e.height);b.texImage2D(b.TEXTURE_2D,0,c.Zw,c.format,c.type,e)}null!==a&&Ag(d,b);b.bindTexture(b.TEXTURE_2D,null);d.V.al=null;d.rc=1;yg.add(d);return d}async nx(a,b){if(this.mk())throw Error("context lost");b=Object.assign({},b);if(Ph.vb.ImageBitmapOptions){let d=await createImageBitmap(a,{premultiplyAlpha:"premultiply"});const c=b.Fm&&"clamp-to-edge"!==b.Fm||b.Gm&&"clamp-to-edge"!==b.Gm,e=Ph.Xj(d.width)&&Ph.Xj(d.height);this.hp()||e||!c?b.premultiplyAlpha=!1:Ph.vb.EC?(d=await createImageBitmap(a,
{premultiplyAlpha:"premultiply",resizeWidth:Ph.Mt(d.width),resizeHeight:Ph.Mt(d.height)}),b.premultiplyAlpha=!1):d=await createImageBitmap(a,{premultiplyAlpha:"none"});return await Ph.lx(()=>this.Zt(d,b))}if(a instanceof Blob){if("undefined"===typeof Image)throw Error("texture upload variant not supported in worker");a=await Ph.qP(a)}return await Ph.lx(()=>this.Zt(a,b))}mx(a,b,d){this.qe();const c=Ph.C(Ph.W.eD,this);c.eJ(a,b,d);return c}lR(a,b){this.qe();b.sD(a)}fj(a){a&&(Dg(a),0<a.rc||(this.qe(),
a===this.al&&(this.va.bindTexture(this.va.TEXTURE_2D,null),this.al=null),a===this.cq&&(this.va.activeTexture(this.va.TEXTURE1),this.va.bindTexture(this.va.TEXTURE_2D,null),this.va.activeTexture(this.va.TEXTURE0),this.cq=null),a.Lr()))}zP(a){let b=this.S,d=this.T,c=!0;a&&("number"===typeof a.width&&(b=Math.floor(a.width),c=!1),"number"===typeof a.height&&(d=Math.floor(a.height),c=!1));if(0>=b||0>=d)throw Error("invalid size");this.qe();const e=Ph.C(Ph.W.oR,this);e.oy(b,d,Object.assign({DB:c},a));this.wb=
null;this.Qc.Fo=null;this.Qc.sl=null;return e}ke(a,b=!0){if(a!==this.wb){a&&a.Nn&&a.zy(this.S,this.T);var d=ei(this);d.Da=8;this.wb=d.gg=a;this.kc=0;b&&this.YC()}}ik(){return this.wb}Hx(a){return a?[a.P(),a.N()]:[this.S,this.T]}cC(a){if(2>this.Zc||this.wb&&0<this.wb.Fe)this.Fr(),ji(this),this.au(a,"stretch");else{var b=ei(this),d=this.wb;b.Da=17;const c=b.Ee,e=b.Qc.Uq;c[0]=a.P();c[1]=a.N();c[2]=d?d.P():e.P();c[3]=d?d.N():e.N();c[4]=a.qr()?1:0;c[5]=!0;b=b.kG;ch.I(b);b.push(a.Fi);b.push(d?d.Fi:null);
this.kc=0}}au(a,b="stretch"){a=a.oc();if(!a)throw Error("not a texture-backed render target");this.te(a);this.wx(b,a)}nr(a){if(!(2>this.Zc)){var b=ei(this);a=a.Fi;b.Da=14;b.gg=a;this.kc=0}}BP(a){this.ke(null);this.qe();const b=a.oc();b===this.al&&(this.va.bindTexture(this.va.TEXTURE_2D,null),this.al=null);b===this.cq&&(this.va.activeTexture(this.va.TEXTURE1),this.va.bindTexture(this.va.TEXTURE_2D,null),this.va.activeTexture(this.va.TEXTURE0),this.cq=null);a.Lr()}IH(){this.lf(!0);ei(this).Da=25;this.kc=
0;this.RD=1}bC(){this.lf(!1);ei(this).Da=26;this.kc=0;this.RD=2}XP(){return 2===this.RD}aC(){this.lf(!0);ei(this).Da=27;this.RD=this.kc=0}RH(){let a=0;for(const b of Ph.W.eD.aO())a+=b.Cx();return a}hp(){return 2<=this.Zc}Ch(){return!!this.cf}mJ(a){$f(this,[["normal",a.ONE,a.ONE_MINUS_SRC_ALPHA],["additive",a.ONE,a.ONE],["xor",a.ONE,a.ONE_MINUS_SRC_ALPHA],["copy",a.ONE,a.ZERO],["destination-over",a.ONE_MINUS_DST_ALPHA,a.ONE],["source-in",a.DST_ALPHA,a.ZERO],["destination-in",a.ZERO,a.SRC_ALPHA],["source-out",
a.ONE_MINUS_DST_ALPHA,a.ZERO],["destination-out",a.ZERO,a.ONE_MINUS_SRC_ALPHA],["source-atop",a.DST_ALPHA,a.ONE_MINUS_SRC_ALPHA],["destination-atop",a.ONE_MINUS_DST_ALPHA,a.SRC_ALPHA]])}};"use strict";const oi=self.D,pi=self.cj.tl,qi=self.GPUBufferUsage,ri=self.GPUShaderStage,si=self.GPUTextureUsage,ti={powerPreference:"default",depth:!1,failIfMajorPerformanceCaveat:!1,hV:!1,nW:!1,vB:!1},vi=new oi.yd(0,0,1,0,1,1,0,1),wi=oi.C(oi.Bu),xi=oi.C(oi.Rect);oi.C(oi.Rect);const yi=oi.C(oi.yd);let zi=!1;
function Ai(a){console.log("[WebGPU] "+a)}function Bi(a,b){return 0!==(a.G&b)}async function Ci(a,b){a.Ae=null;for(await Di(a,b);!a.Ae;)a.Ol=null,await Di(a,b);await a.mr()}
async function Di(a,b){if(!a.Ol){a.Ol=await navigator.gpu.requestAdapter(a.JJ);if(!a.Ol)throw Error("renderer-unavailable (no WebGPU adapter available)");if(b&&a.Ol.isFallbackAdapter)throw Error("renderer-unavailable (WebGPU provided fallback adapter)");}b=[];a.Ol.features.has("timestamp-query")&&b.push("timestamp-query");a.Ol.features.has("shader-f16")&&b.push("shader-f16");a.Ae=await a.Ol.requestDevice({requiredFeatures:b});if(!a.Ae)return null;a.ew=a.Ae.limits.maxTextureDimension2D;a.Fb(33554432,
a.Ae.features.has("timestamp-query"));a.Fb(67108864,a.Ae.features.has("shader-f16"));a.Ae.lost.then(d=>Ei(a,d));a.Fb(32768,!1)}
async function Ei(a,b){console.log("[WebGPU] Device lost: ",b);Rf(a);a.wj.Td();oi.W.ly.Td();oi.W.bJ.Td();oi.W.DI.Td();a.pm="";a.Gw=null;a.Fw=null;a.ye=null;a.hz=null;a.DM=null;a.EM=null;a.yK=null;a.NF=null;a.Ao=null;a.ko=null;a.ND=null;a.Pp=null;a.co=null;a.LG=null;a.yE=null;a.wE=null;a.VK=null;a.YD=null;a.ED=null;a.bv=null;a.ZA=null;a.Ny=null;a.jz=null;a.OM=null;a.cv=null;a.Zn=null;a.tf=null;a.Ap=null;a.av=null;a.UD=null;a.cz=null;a.$D=null;a.Us=null;a.tj=null;a.wb=null;a.sM=null;a.Sk=null;a.yD.clear();
a.MF.clear();a.eN.clear();for(const d of a.qt.values())d.Td();a.Ae=null;a.Ol=null;a.Fu=null;a.G|=32768;a.NO&&a.NO();await Ci(a);for(const d of a.qt.values())d.MC(a);a.Vd(a.S,a.T,!0);a.OO&&a.OO()}function Fi(a){a.G|=268435968;Gi(a,a.MG.transform)}function Hi(a){const b=a.MG.O4;a.S1.Hd(a.OG,b.offset/4);Gi(a,b)}function Ii(a){const b=a.MG.vl;a.OG[b.offset/4]=a.T1;Gi(a,b)}
function Ji(a,b){return a.Ae.createBindGroup({layout:a.ED,entries:[{binding:0,resource:{buffer:a.LG}},{binding:1,resource:{buffer:a.yE}},{binding:2,resource:{buffer:a.ND}},{binding:3,resource:{buffer:a.co}},{binding:4,resource:{buffer:a.wE}},{binding:5,resource:{buffer:b}}]})}function Ki(){return"depth24plus-stencil8"}function Li(a){a.Kk=a.Ae.createCommandEncoder();a.G&=-16385}function Mi(a,b){b!==a.av&&(a.av=b,null===b&&(b=a.Zn),Ni(a),a.UD=b.Lu,a.G|=128)}
function Oi(a){a.Gw=a.YF.getCurrentTexture();a.Fw=a.Gw.createView({label:"swapchaintextureview"});a=a.tj.oc();const b=a.V,d=b.yg();a.Xa=b.Gw;a.Eq=b.Fw;b.iK&&(a.Lu=d.createBindGroup({layout:b.Ny,entries:[{binding:0,resource:a.FA},{binding:1,resource:a.Eq}]}))}
function Pi(a){var b=a.G;if(0!==(b&7680)){var d=a.G;0!==(d&512)&&(zi&&Ai("Updating transform"),pi.multiply(a.sT,a.Ss,a.cw),a.OG.set(a.sT,a.MG.transform.offset/4));0!==(d&1024)&&(zi&&Ai("Updating vertex uniform buffer"),Qi(a.wj,a.Kk,a.LG,a.RN,a.Rw,a.oB-a.Rw));0!==(d&2048)&&(zi&&Ai("Updating fragment uniform buffer"),Qi(a.wj,a.Kk,a.yE,a.TK,a.vv,a.yz-a.vv));0!==(d&4096)&&(zi&&Ai("Updating fragment C3Params buffer"),Qi(a.wj,a.Kk,a.wE,a.tE,a.wz,a.uE-a.wz));a.G=d&-7681|16384}if(0!==(b&2097152))b=a.G,b=
{colorAttachments:[],depthStencilAttachment:{view:a.hz,depthLoadOp:0!==(b&1048576)?"clear":"load",depthClearValue:1,depthStoreOp:"store",stencilLoadOp:0!==(b&8388608)?"clear":"load",stencilClearValue:0,stencilStoreOp:"store"}},Ri(a,b),a.G&=-9437185,zi&&Ai(`Starting coplanar stencil renderpass${"load"===b.depthStencilAttachment.depthLoadOp?"":", clear depth"}${"load"===b.depthStencilAttachment.stencilLoadOp?"":", clear stencil"}`);else if(0!==(b&4194304))b=a.wb,d={colorAttachments:[{view:b.lp(),loadOp:b.Vk?
"clear":"load",clearValue:b.bs.toJSON(),storeOp:"store"}],depthStencilAttachment:{view:a.hz,depthReadOnly:!0,stencilReadOnly:!0}},Ri(a,d),b.Vk=!1,zi&&Ai(`Starting coplanar color renderpass to ${b.Tp?"backbuffer":"texture"}, ${"load"===d.colorAttachments[0].loadOp?"continue":"clear"} color`),b=d;else{b=a.G;d=a.wb;const c={colorAttachments:[{view:d.lp(),loadOp:d.Vk?"clear":"load",clearValue:d.bs.toJSON(),storeOp:"store"}]};Ri(a,c);d.Vk=!1;786432===(b&786432)&&(c.depthStencilAttachment={view:a.hz,depthLoadOp:0!==
(b&1048576)?"clear":"load",depthClearValue:1,depthStoreOp:"store",stencilLoadOp:"clear",stencilClearValue:0,stencilStoreOp:"discard"},a.G&=-1048577);zi&&Ai(`Starting render pass to ${d.Tp?"backbuffer":"texture"}, depth ${c.depthStencilAttachment?"enabled":"disabled"}, ${"load"===c.colorAttachments[0].loadOp?"continue":"clear"} color${c.depthStencilAttachment&&"load"!==c.depthStencilAttachment.depthLoadOp?", clear depth":""}`);b=c}a.ks=a.Kk.beginRenderPass(b);a.G|=25072}
function Si(a){null!==a.ks&&(Ni(a),zi&&Ai(`Ending render pass (to ${a.wb.Tp?"backbuffer":"texture"})`),a.ks.end(),a.ks=null)}function Ti(a,b,d){if(a.Ch()){if(!a.Sk)throw Error("not started frame timing");if(0>b||0>d||b===d)throw Error("invalid timestamp index");Si(a);a.dB=!0;a.AG=b;a.yU=d}}function Ui(a){let b=a.eo;if(10499<b)a.qe(),b=0;else if(0!==(a.G&1)){a.mv+=6;return}null===a.ks&&Pi(a);a.G|=1;a.lS=6*b;a.mv=6}
function Vi(a,b,d){const c=d.P();d=d.N();let e=oi.$(b.la,0,c),g=oi.$(b.ea,0,d),k=oi.$(b.wa,e,c);b=oi.$(b.ra,g,d);Number.isNaN(e)&&(e=0);Number.isNaN(g)&&(g=0);Number.isNaN(k)&&(k=c);Number.isNaN(b)&&(b=d);a.setScissorRect(e,g,k-e,b-g)}
function Ni(a){const b=a.G;if(0!==(b&1)){if(zi){var d=[];b&16&&d.push("draw state");b&32&&d.push("pipeline");b&64&&d.push("texture");b&128&&d.push("background texture");b&256&&d.push("depth texture");b&8192&&d.push("buffer");b&8&&d.push("scissor");var c="";0<d.length&&(c+=`(Updated ${d.join(", ")}) `);c=0!==(b&2)?c+`Drawing ${a.mv/6} points`:c+`Drawing ${a.mv/6} quads`;Ai(c)}d=a.ks;0!==(b&16)&&(c=a.wb,d.setViewport(0,0,c.P(),c.N(),0,1),d.setIndexBuffer(a.Pp,"uint16"),d.setVertexBuffer(0,a.Ao),d.setVertexBuffer(1,
a.ko),0!==(b&6291456)&&d.setStencilReference(1),0!==(b&4)&&Vi(d,a.iG,c));if(0!==(b&32)){var e=0;0!==(b&134217728)?e=4:0!==(b&2097152)?e=2:0!==(b&4194304)?e=3:786432===(b&786432)&&(e=1);c=d.setPipeline;{var g=a.cv;var k=a.VD,l=a.$R;const r=5*k+e;if(2>l){var n=g.ww[r];null===n&&(n=g.yg().createRenderPipeline(Wi(g,k,e,l)),g.ww[r]=n);g=n}else{n=g.xM.get(l);Array.isArray(n)||(n=Xi(),g.xM.set(l,n));var p=n[r];null===p&&(p=g.yg().createRenderPipeline(Wi(g,k,e,l)),n[r]=p);g=p}}c.call(d,g)}0!==(b&8192)&&d.setBindGroup(0,
a.bv);0!==(b&64)&&d.setBindGroup(1,a.Ap);0!==(b&128)&&d.setBindGroup(2,a.UD);0!==(b&256)&&d.setBindGroup(3,a.cz);0!==(b&8)&&(c=a.wb,0!==(b&4)?Vi(d,a.iG,c):d.setScissorRect(0,0,c.P(),c.N()));d.drawIndexed(a.mv,1,a.lS,0,0);a.G&=-8698}}function Ri(a,b){if(a.dB){var d={querySet:a.Sk.aG,endOfPassWriteIndex:a.yU};a.BN.has(a.AG)||(d.beginningOfPassWriteIndex=a.AG,a.BN.add(a.AG));b.timestampWrites=d}}
function Yi(a,b){b.Vk&&(Si(a),a.Kk.beginRenderPass({colorAttachments:[{view:b.lp(),loadOp:"clear",clearValue:b.bs.toJSON(),storeOp:"store"}]}).end(),a.G|=16384,b.Vk=!1)}function Gi(a,b){const d=b.offset;b=b.end;0!==(a.G&1024)?(a.Rw=Math.min(a.Rw,d),a.oB=Math.max(a.oB,b)):(a.G|=1024,a.Rw=d,a.oB=b,Si(a))}function Zi(a,b,d){b.Hd(a.zz,d.offset/4);$i(a,d)}function $i(a,b){const d=b.offset;b=b.end;0!==(a.G&2048)?(a.vv=Math.min(a.vv,d),a.yz=Math.max(a.yz,b)):(a.G|=2048,a.vv=d,a.yz=b,Si(a))}
function aj(a,b){const d=b.offset;b=b.end;0!==(a.G&4096)?(a.wz=Math.min(a.wz,d),a.uE=Math.max(a.uE,b)):(a.G|=4096,a.wz=d,a.uE=b,Si(a))}function bj(a,b,d){a.xz[d.offset/4]!==Math.fround(b)&&(a.xz[d.offset/4]=b,aj(a,d))}function dj(a,b,d){a.RK[d.offset/4]!==b&&(a.RK[d.offset/4]=b,aj(a,d))}function ej(a,b,d){b.xB(a.xz,d.offset/4)||(b.Hd(a.xz,d.offset/4),aj(a,d))}
function fj(a,b){if(0!==(a.G&65536)){if(null!==b.Xn)var d=b.Xn.gw;else if(b.uf&&b.IF&&!b.Qn){d=b.V;const c=[b];for(const e of d.MF)e.A();for(const e of d.yD){if(14<=c.length)break;e!==b&&c.push(e)}2>c.length||oi.C(oi.W.Q0,d,c);d=null!==b.Xn?b.Xn.gw:b.nq}else d=b.nq;gj(a,d);a.zp=b.wM}else gj(a,b.nq),a.zp=0}function hj(a,b){b=!!b;0!==(a.G&134217728)!==b&&(Ni(a),a.Fb(134217728,b),a.G|=32)}function gj(a,b){b!==a.Ap&&(Ni(a),a.Ap=b,a.G|=64)}function ij(a,b){b!==a.bv&&(Ni(a),a.bv=b,a.G|=8192)}
function jj(a){a=a.Fu;if(!a)return"unknown/unknown";const b=a.vendor||"unknown",d=a.architecture||"unknown",c=[];a.device&&c.push(a.device);a.description&&c.push(a.description);a.type&&c.push(a.type);a.backend&&c.push(a.backend);return b+"/"+d+(0<c.length?` (${c.join(", ")})`:"")}
oi.W.S0=class extends oi.W.EQ{constructor(a){super(a);this.YF=this.UR=this.Ae=this.Fu=this.Ol=this.JJ=null;this.pm="";this.Fw=this.Gw=null;this.df=this.jg=0;this.sT=pi.create();this.NF=this.yK=this.EM=this.hz=this.DM=this.ye=null;this.gz=this.iz=0;this.co=this.Pp=this.ND=this.ko=this.Ao=this.VK=this.wE=this.yE=this.LG=null;this.MG=kj;this.NG=16*Math.ceil(lj/16);this.OG=this.RN=null;this.UK=mj;this.vE=16*Math.ceil(nj/16);this.zz=this.TK=null;this.PK=oj;this.QK=16*Math.ceil(pj/16);this.RK=this.xz=this.tE=
null;this.Tj=new Float32Array(126E3);this.Wh=new Float32Array(126E3);this.ds=new Float32Array(42E3);this.Cv=new Uint16Array(63E3);this.kw=new Float32Array(42E3);this.zp=this.eo=0;this.vn=oi.C(oi.ub,1,1,1,1);this.sq=0;this.wj=oi.C(oi.W.P0,this);this.G=32768;this.uE=this.wz=this.yz=this.vv=this.oB=this.Rw=this.mv=this.lS=0;this.iG=oi.C(oi.Rect,0,0,0,0);this.ZR=oi.C(oi.ub,1,1,1,1);this.aS=oi.C(oi.ub,1,1,1,1);this.S1=oi.C(oi.Rect,0,0,0,0);this.T1=0;this.yN="";this.sM=this.bv=this.cz=this.UD=this.av=this.Ap=
this.tf=this.Zn=this.jz=this.Ny=this.ZA=this.YD=this.ED=null;this.yD=new Set;this.MF=new Set;this.ew=8192;this.cv=this.Us=this.$D=this.OM=null;this.$R=this.VD=0;this.CT=null;this.eN=new Map;this.ks=this.Kk=null;this.Zy=[];this.wb=this.tj=null;this.Rl=this.KU=this.iK=!1;this.Sk=null;this.dB=!1;this.yU=this.AG=-1;this.BN=new Set;this.OO=this.NO=null;this.mJ()}Sd(){return!0}Fb(a,b){this.G=b?this.G|a:this.G&~a}async Ka(a,b){b=Object.assign({},ti,b);if(!navigator.gpu)throw Error("renderer-unavailable (WebGPU not supported)");
b.depth&&(this.G|=131072);this.iK=!!b.hV;this.KU=!!b.nW;this.JJ={};this.Rl=!(!b.depth||!b.vB);"default"!==b.powerPreference&&(this.JJ.powerPreference=b.powerPreference);this.UR=a;Pf(this.Cv);await Ci(this,b.failIfMajorPerformanceCaveat)}async mr(){super.mr();const a=this.Ae;this.pm=navigator.gpu.getPreferredCanvasFormat();this.Fw=this.Gw=null;let b=si.RENDER_ATTACHMENT;this.iK&&(b|=si.TEXTURE_BINDING);this.KU&&(b|=si.COPY_SRC);this.yN=this.pm.startsWith("rgba8")||this.pm.startsWith("bgra8")?this.pm:
"rgba8unorm";this.G&=100794368;this.G|=7680;Bi(this,131072)&&(this.G|=17563648);this.$R=this.VD=this.eo=0;dc(this.vn,1,1,1,1);dc(this.ZR,1,1,1,1);dc(this.aS,1,1,1,1);this.RN=new ArrayBuffer(this.NG);this.OG=new Float32Array(this.RN);this.TK=new ArrayBuffer(this.vE);this.zz=new Float32Array(this.TK);this.tE=new ArrayBuffer(this.QK);this.xz=new Float32Array(this.tE);this.RK=new Uint32Array(this.tE);this.Ao=a.createBuffer({label:"vertexbuffer",size:this.Tj.byteLength,usage:qi.VERTEX|qi.COPY_DST});this.ko=
a.createBuffer({label:"texcoordbuffer",size:this.Wh.byteLength,usage:qi.VERTEX|qi.COPY_DST});this.ND=a.createBuffer({label:"colorbuffer",size:this.ds.byteLength,usage:qi.VERTEX|qi.STORAGE|qi.COPY_DST});this.Pp=a.createBuffer({label:"indexbuffer",mappedAtCreation:!0,size:this.Cv.byteLength,usage:qi.INDEX});var d=this.Pp.getMappedRange();(new Uint16Array(d)).set(this.Cv);this.Pp.unmap();this.co=a.createBuffer({label:"pointbuffer",size:this.kw.byteLength,usage:qi.VERTEX|qi.STORAGE|qi.COPY_DST});this.ED=
a.createBindGroupLayout({label:"bufferbindgrouplayout",entries:[{binding:0,visibility:ri.VERTEX,buffer:{type:"uniform",minBindingSize:this.NG}},{binding:1,visibility:ri.FRAGMENT,buffer:{type:"uniform",minBindingSize:this.vE}},{binding:2,visibility:ri.VERTEX,buffer:{type:"read-only-storage",minBindingSize:this.ds.byteLength}},{binding:3,visibility:ri.VERTEX,buffer:{type:"read-only-storage",minBindingSize:this.kw.byteLength}},{binding:4,visibility:ri.FRAGMENT,buffer:{type:"uniform",minBindingSize:this.QK}},
{binding:5,visibility:ri.FRAGMENT,buffer:{type:"uniform"}}]});d=[];for(var c=0;14>c;++c)d.push({binding:2*c,visibility:ri.FRAGMENT,sampler:{type:"filtering"}},{binding:2*c+1,visibility:ri.FRAGMENT,texture:{sampleType:"float",viewDimension:"2d"}});this.ZA=a.createBindGroupLayout({label:"texturebindgrouplayout",entries:d});this.Ny=a.createBindGroupLayout({label:"backtexturebindgrouplayout",entries:[{binding:0,visibility:ri.FRAGMENT,sampler:{type:"non-filtering"}},{binding:1,visibility:ri.FRAGMENT,texture:{sampleType:"float",
viewDimension:"2d"}}]});this.jz=a.createBindGroupLayout({label:"depthtexturebindgrouplayout",entries:[{binding:0,visibility:ri.FRAGMENT,sampler:{type:"non-filtering"}},{binding:1,visibility:ri.FRAGMENT,texture:{sampleType:"depth",viewDimension:"2d"}}]});this.OM=a.createPipelineLayout({bindGroupLayouts:[this.ED,this.ZA,this.Ny,this.jz]});d=oi.W.gD;c=Bi(this,67108864);this.$D=a.createShaderModule({label:"<default vertex module>",code:qj(d.du(),c)});this.$D.getCompilationInfo().then(g=>rj("<default>",
"vertex",g));this.Us=a.createShaderModule({label:"<normalized vertex module>",code:qj("\n\t\tstruct ColorData {\n\t\t\tdata : array<vec4<f32>>\n\t\t};\n\t\t@binding(2) @group(0) var<storage> colorBuffer : ColorData;\n\n\t\tstruct VertexInput {\n\t\t\t@builtin(vertex_index) VertexIndex : u32,\n\t\t\t@location(0) position : vec3<f32>,\n\t\t\t@location(1) uv : vec3<f32>\n\t\t};\n\n\t\tstruct VertexOutput {\n\t\t\t@builtin(position) Position : vec4<f32>,\n\t\t\t@location(0) fragUV : vec2<f32>,\n\t\t\t@location(1) fragColor : vec4<f32>\n\t\t};\n\n\t\t@vertex\n\t\tfn main(input : VertexInput) -> VertexOutput {\n\t\t\tvar output : VertexOutput;\n\t\t\tvar p = input.position;\n\t\t\tp.y = 1.0 - p.y;\n\t\t\toutput.Position = vec4<f32>(p.xy * 2.0 - 1.0, p.z, 1.0);\n\t\t\toutput.fragUV = input.uv.xy;\n\t\t\toutput.fragColor = colorBuffer.data[input.VertexIndex / u32(4)];\n\t\t\treturn output;\n\t\t}",
c)});this.Us.getCompilationInfo().then(g=>rj("<normalized>","vertex",g));d=await Promise.all([d.Ka(this,{name:"<default>",src:sj(!1),OB:sj(!0),Vt:"\n\t\t\nstruct Uniforms {\n\ttransform\t\t: mat4x4<f32>,\n\tpointTexStart\t: vec2<f32>,\n\tpointTexEnd\t\t: vec2<f32>,\n\tzElevation\t\t: f32\n};\n@binding(0) @group(0) var<uniform> uniforms : Uniforms;\n\n\n\t\tstruct ColorData {\n\t\t\tdata : array<vec4<f32>>\n\t\t};\n\t\t@binding(2) @group(0) var<storage> colorBuffer : ColorData;\n\n\t\tstruct VertexInput {\n\t\t\t@builtin(vertex_index) VertexIndex : u32,\n\t\t\t@location(0) position : vec3<f32>,\n\t\t\t@location(1) uv : vec3<f32>\n\t\t};\n\n\t\tstruct VertexOutput {\n\t\t\t@builtin(position) Position : vec4<f32>,\n\t\t\t@location(0) fragUV : vec3<f32>,\n\t\t\t@location(1) fragColor : vec4<f32>\n\t\t};\n\n\t\t@vertex\n\t\tfn main(input : VertexInput) -> VertexOutput {\n\t\t\tvar output : VertexOutput;\n\t\t\toutput.Position = uniforms.transform * vec4<f32>(input.position, 1.0);\n\t\t\toutput.fragUV = input.uv;\n\t\t\toutput.fragColor = colorBuffer.data[input.VertexIndex / u32(4)];\n\t\t\treturn output;\n\t\t}",
H4:"\n\t\tstruct ColorData {\n\t\t\tdata : array<vec4<f32>>\n\t\t};\n\t\t@binding(2) @group(0) var<storage> colorBuffer : ColorData;\n\n\t\tstruct VertexInput {\n\t\t\t@builtin(vertex_index) VertexIndex : u32,\n\t\t\t@location(0) position : vec3<f32>,\n\t\t\t@location(1) uv : vec3<f32>\n\t\t};\n\n\t\tstruct VertexOutput {\n\t\t\t@builtin(position) Position : vec4<f32>,\n\t\t\t@location(0) fragUV : vec3<f32>,\n\t\t\t@location(1) fragColor : vec4<f32>\n\t\t};\n\n\t\t@vertex\n\t\tfn main(input : VertexInput) -> VertexOutput {\n\t\t\tvar output : VertexOutput;\n\t\t\tvar p = input.position;\n\t\t\tp.y = 1.0 - p.y;\n\t\t\toutput.Position = vec4<f32>(p.xy * 2.0 - 1.0, p.z, 1.0);\n\t\t\toutput.fragUV = input.uv;\n\t\t\toutput.fragColor = colorBuffer.data[input.VertexIndex / u32(4)];\n\t\t\treturn output;\n\t\t}"}),
d.Ka(this,{name:"<generate-mipmap>",src:"\n\t\t@binding(0) @group(0) var sampler0 : sampler;\n\t\t@binding(1) @group(0) var texture0 : texture_2d<f32>;\n\n\t\tstruct FragmentInput {\n\t\t\t@location(0) fragUV : vec2<f32>\n\t\t};\n\n\t\tstruct FragmentOutput {\n\t\t\t@location(0) color : vec4<f32>\n\t\t};\n\n\t\t@fragment\n\t\tfn main(input : FragmentInput) -> FragmentOutput {\n\t\t\tvar output : FragmentOutput;\n\t\t\toutput.color = textureSample(texture0, sampler0, vec2<f32>(input.fragUV.x, 1.0 - input.fragUV.y));\n\t\t\treturn output;\n\t\t}",
Vt:"\n\t\tstruct VertexInput {\n\t\t\t@builtin(vertex_index) VertexIndex : u32\n\t\t};\n\t\t\n\t\tstruct VertexOutput {\n\t\t\t@builtin(position) Position : vec4<f32>,\n\t\t\t@location(0) fragUV : vec2<f32>\n\t\t};\n\n\t\t@vertex\n\t\tfn main(input : VertexInput) -> VertexOutput {\n\n\t\t\tvar pos : array<vec2<f32>, 4> = array<vec2<f32>, 4>(\n\t\t\t\tvec2<f32>(-1.0, 1.0),\n\t\t\t\tvec2<f32>(1.0, 1.0),\n\t\t\t\tvec2<f32>(-1.0, -1.0),\n\t\t\t\tvec2<f32>(1.0, -1.0));\n\t\t\t\n\t\t\tvar output : VertexOutput;\n\t\t\tvar p : vec2<f32> = pos[input.VertexIndex];\n\t\t\toutput.Position = vec4<f32>(p, 0.0, 1.0);\n\t\t\toutput.fragUV = p / 2.0 + 0.5;\n\t\t\treturn output;\n\t\t}"}),
d.Ka(this,{name:"<point>",src:tj(!1),OB:tj(!0),Vt:"\n\t\t\nstruct Uniforms {\n\ttransform\t\t: mat4x4<f32>,\n\tpointTexStart\t: vec2<f32>,\n\tpointTexEnd\t\t: vec2<f32>,\n\tzElevation\t\t: f32\n};\n@binding(0) @group(0) var<uniform> uniforms : Uniforms;\n\n\n\t\tstruct PointData {\n\t\t\tdata : array<vec4<f32>>\n\t\t};\n\t\t@binding(3) @group(0) var<storage> pointBuffer : PointData;\n\n\t\tstruct VertexInput {\n\t\t\t@builtin(vertex_index) VertexIndex : u32\n\t\t};\n\n\t\tstruct VertexOutput {\n\t\t\t@builtin(position) Position : vec4<f32>,\n\t\t\t@location(0) fragUV : vec2<f32>,\n\t\t\t@location(1) pointOpacity : f32\n\t\t};\n\n\t\t@vertex\n\t\tfn main(input : VertexInput) -> VertexOutput {\n\n\t\t\tvar normPos : array<vec2<f32>, 4> = array<vec2<f32>, 4>(\n\t\t\t\tvec2<f32>(-0.5, -0.5),\n\t\t\t\tvec2<f32>(0.5, -0.5),\n\t\t\t\tvec2<f32>(0.5, 0.5),\n\t\t\t\tvec2<f32>(-0.5, 0.5));\n\t\t\t\n\t\t\tvar output : VertexOutput;\n\t\t\tvar p : vec2<f32> = normPos[input.VertexIndex % u32(4)];\n\t\t\tvar pointData : vec4<f32> = pointBuffer.data[input.VertexIndex / u32(4)];\n\n\t\t\tvar size : f32 = pointData.z;\n\t\t\toutput.Position = uniforms.transform * vec4<f32>(p * size + pointData.xy, uniforms.zElevation, 1.0);\n\t\t\toutput.pointOpacity = pointData.w;\n\n\t\t\tvar pointTexMin : vec2<f32> = min(uniforms.pointTexStart, uniforms.pointTexEnd);\n\t\t\tvar pointTexMax : vec2<f32> = max(uniforms.pointTexStart, uniforms.pointTexEnd);\n\t\t\tvar pn : vec2<f32> = p + vec2<f32>(0.5, 0.5);\n\t\t\tvar pointCoord : vec2<f32> = select(vec2<f32>(1.0 - pn.y, pn.x), pn, uniforms.pointTexEnd.x > uniforms.pointTexStart.x);\n\n\t\t\toutput.fragUV = mix(pointTexMin, pointTexMax, pointCoord);\n\t\t\treturn output;\n\t\t}"}),
d.Ka(this,{name:"<tilemap>",src:uj(!1),OB:uj(!0)}),d.Ka(this,{name:"<fill>",src:"\n\t\t%%FRAGMENTINPUT_STRUCT%%\n\t\t%%FRAGMENTOUTPUT_STRUCT%%\n\n\t\t@fragment\n\t\tfn main(input : FragmentInput) -> FragmentOutput {\n\t\t\tvar output : FragmentOutput;\n\t\t\toutput.color = input.fragColor;\n\t\t\treturn output;\n\t\t}"}),d.Ka(this,{name:"<lineargradient>",src:"\n\t\t\nstruct Uniforms {\n\tcolor2\t\t\t\t: vec4<f32>,\n\tpointColor \t\t\t: vec4<f32>,\n\ttileSize\t\t\t: vec2<f32>,\n\ttileSpacing\t\t\t: vec2<f32>,\n\tsrcRectStart\t\t: vec2<f32>,\n\tsrcRectEnd\t\t\t: vec2<f32>,\n\tpixelSize\t\t\t: vec2<f32>,\n\toutlineThickness\t: f32\n};\n@binding(1) @group(0) var<uniform> uniforms : Uniforms;\n\n\n\t\t%%FRAGMENTINPUT_STRUCT%%\n\t\t%%FRAGMENTOUTPUT_STRUCT%%\n\n\t\tfn fromLinear(linearRGB : vec3<f32>) -> vec3<f32>\n\t\t{\n\t\t\tvar cutoff : vec3<bool> = (linearRGB < vec3<f32>(0.0031308));\n\t\t\tvar higher : vec3<f32> = vec3<f32>(1.055) * pow(abs(linearRGB), vec3<f32>(1.0/2.4)) - 0.055;\n\t\t\tvar lower : vec3<f32> = linearRGB * 12.92;\n\t\t\treturn select(higher, lower, cutoff);\n\t\t}\n\n\t\tfn toLinear(sRGB : vec3<f32>) -> vec3<f32>\n\t\t{\n\t\t\tvar cutoff : vec3<bool> = (sRGB < vec3<f32>(0.04045));\n\t\t\tvar higher : vec3<f32> = pow(abs((sRGB + 0.055) / 1.055), vec3<f32>(2.4));\n\t\t\tvar lower : vec3<f32> = sRGB / 12.92;\n\t\t\treturn select(higher, lower, cutoff);\n\t\t}\n\n\t\t@fragment\n\t\tfn main(input : FragmentInput) -> FragmentOutput {\n\t\t\tvar output : FragmentOutput;\n\t\t\tvar linearGrad : vec3<f32> = mix(toLinear(input.fragColor.rgb), toLinear(uniforms.color2.rgb), vec3<f32>(input.fragUV.x));\n\n\t\t\tvar a : f32 = mix(input.fragColor.a, uniforms.color2.a, input.fragUV.x);\n\t\t\toutput.color = vec4<f32>(fromLinear(linearGrad) * a, a);\n\t\t\treturn output;\n\t\t}\n\t\t"}),
d.Ka(this,{name:"<penumbra>",src:"\n\t\t\nstruct Uniforms {\n\tcolor2\t\t\t\t: vec4<f32>,\n\tpointColor \t\t\t: vec4<f32>,\n\ttileSize\t\t\t: vec2<f32>,\n\ttileSpacing\t\t\t: vec2<f32>,\n\tsrcRectStart\t\t: vec2<f32>,\n\tsrcRectEnd\t\t\t: vec2<f32>,\n\tpixelSize\t\t\t: vec2<f32>,\n\toutlineThickness\t: f32\n};\n@binding(1) @group(0) var<uniform> uniforms : Uniforms;\n\n\n\t\t%%FRAGMENTINPUT_STRUCT%%\n\t\t%%FRAGMENTOUTPUT_STRUCT%%\n\n\t\t@fragment\n\t\tfn main(input : FragmentInput) -> FragmentOutput {\n\t\t\tvar output : FragmentOutput;\n\t\t\tvar grad : f32 = input.fragUV.x / (1.0 - input.fragUV.y);\n\t\t\toutput.color = input.fragColor * (1.0 - (cos(grad * 3.141592653589793) + 1.0) / 2.0);\n\t\t\treturn output;\n\t\t}\n\t\t"}),
d.Ka(this,{name:"<hardellipse>",src:"\n\t\t%%FRAGMENTINPUT_STRUCT%%\n\t\t%%FRAGMENTOUTPUT_STRUCT%%\n\n\t\t@fragment\n\t\tfn main(input : FragmentInput) -> FragmentOutput {\n\t\t\tvar output : FragmentOutput;\n\t\t\tvar diff : vec2<f32> = input.fragUV - 0.5;\n\t\t\tvar diffSq : vec2<f32> = diff * diff;\n\n\t\t\tvar f : f32 = step(diffSq.x + diffSq.y, 0.25);\n\n\t\t\toutput.color = input.fragColor * f;\n\t\t\treturn output;\n\t\t}"}),d.Ka(this,{name:"<hardellipseoutline>",src:"\n\t\t\nstruct Uniforms {\n\tcolor2\t\t\t\t: vec4<f32>,\n\tpointColor \t\t\t: vec4<f32>,\n\ttileSize\t\t\t: vec2<f32>,\n\ttileSpacing\t\t\t: vec2<f32>,\n\tsrcRectStart\t\t: vec2<f32>,\n\tsrcRectEnd\t\t\t: vec2<f32>,\n\tpixelSize\t\t\t: vec2<f32>,\n\toutlineThickness\t: f32\n};\n@binding(1) @group(0) var<uniform> uniforms : Uniforms;\n\n\n\t\t%%FRAGMENTINPUT_STRUCT%%\n\t\t%%FRAGMENTOUTPUT_STRUCT%%\n\n\t\t@fragment\n\t\tfn main(input : FragmentInput) -> FragmentOutput {\n\t\t\tvar output : FragmentOutput;\n\t\t\tvar diff : vec2<f32> = input.fragUV - 0.5;\n\t\t\tvar diffSq : vec2<f32> = diff * diff;\n\t\t\tvar distSq : f32 = diffSq.x + diffSq.y;\n\t\t\tvar norm : vec2<f32> = normalize(diff);\n\t\t\tvar halfNorm : vec2<f32> = norm * 0.5;\n\n\t\t\tvar innerF : f32 = step(distSq, 0.25);\n\n\t\t\tvar innerEdge : vec2<f32> = halfNorm - uniforms.pixelSize * norm * uniforms.outlineThickness;\n\t\t\tvar innerEdgeSq : vec2<f32> = innerEdge * innerEdge;\n\t\t\tvar outerF : f32 = step(innerEdgeSq.x + innerEdgeSq.y, distSq);\n\t\t\t\n\t\t\toutput.color = input.fragColor * innerF * outerF;\n\t\t\treturn output;\n\t\t}"}),
d.Ka(this,{name:"<smoothellipse>",src:"\n\t\t\nstruct Uniforms {\n\tcolor2\t\t\t\t: vec4<f32>,\n\tpointColor \t\t\t: vec4<f32>,\n\ttileSize\t\t\t: vec2<f32>,\n\ttileSpacing\t\t\t: vec2<f32>,\n\tsrcRectStart\t\t: vec2<f32>,\n\tsrcRectEnd\t\t\t: vec2<f32>,\n\tpixelSize\t\t\t: vec2<f32>,\n\toutlineThickness\t: f32\n};\n@binding(1) @group(0) var<uniform> uniforms : Uniforms;\n\n\n\t\t%%FRAGMENTINPUT_STRUCT%%\n\t\t%%FRAGMENTOUTPUT_STRUCT%%\n\n\t\t@fragment\n\t\tfn main(input : FragmentInput) -> FragmentOutput {\n\t\t\tvar output : FragmentOutput;\n\t\t\tvar diff : vec2<f32> = input.fragUV - 0.5;\n\t\t\tvar diffSq : vec2<f32> = diff * diff;\n\t\t\tvar norm : vec2<f32> = normalize(diff);\n\t\t\tvar halfNorm : vec2<f32> = norm * 0.5;\n\t\t\tvar halfNormSq : vec2<f32> = halfNorm * halfNorm;\n\n\t\t\tvar innerEdge : vec2<f32> = halfNorm - uniforms.pixelSize * norm;\n\t\t\tvar innerEdgeSq : vec2<f32> = innerEdge * innerEdge;\n\n\t\t\tvar f : f32 = smoothstep(halfNormSq.x + halfNormSq.y, innerEdgeSq.x + innerEdgeSq.y, diffSq.x + diffSq.y);\n\n\t\t\toutput.color = input.fragColor * f;\n\t\t\treturn output;\n\t\t}"}),
d.Ka(this,{name:"<smoothellipseoutline>",src:"\n\t\t\nstruct Uniforms {\n\tcolor2\t\t\t\t: vec4<f32>,\n\tpointColor \t\t\t: vec4<f32>,\n\ttileSize\t\t\t: vec2<f32>,\n\ttileSpacing\t\t\t: vec2<f32>,\n\tsrcRectStart\t\t: vec2<f32>,\n\tsrcRectEnd\t\t\t: vec2<f32>,\n\tpixelSize\t\t\t: vec2<f32>,\n\toutlineThickness\t: f32\n};\n@binding(1) @group(0) var<uniform> uniforms : Uniforms;\n\n\n\t\t%%FRAGMENTINPUT_STRUCT%%\n\t\t%%FRAGMENTOUTPUT_STRUCT%%\n\n\t\t@fragment\n\t\tfn main(input : FragmentInput) -> FragmentOutput {\n\t\t\tvar output : FragmentOutput;\n\t\t\tvar diff : vec2<f32> = input.fragUV - 0.5;\n\t\t\tvar diffSq : vec2<f32> = diff * diff;\n\t\t\tvar distSq : f32 = diffSq.x + diffSq.y;\n\t\t\tvar norm : vec2<f32> = normalize(diff);\n\t\t\tvar halfNorm : vec2<f32> = norm * 0.5;\n\t\t\tvar halfNormSq : vec2<f32> = halfNorm * halfNorm;\n\n\t\t\tvar pxNorm : vec2<f32> = uniforms.pixelSize * norm;\n\t\t\tvar innerEdge1 : vec2<f32> = halfNorm - pxNorm;\n\t\t\tvar innerEdge1Sq : vec2<f32> = innerEdge1 * innerEdge1;\n\n\t\t\tvar innerF : f32 = smoothstep(halfNormSq.x + halfNormSq.y, innerEdge1Sq.x + innerEdge1Sq.y, distSq);\n\n\t\t\tvar innerEdge2 : vec2<f32> = halfNorm - pxNorm * uniforms.outlineThickness;\n\t\t\tvar innerEdge2Sq : vec2<f32> = innerEdge2 * innerEdge2;\n\t\t\tvar innerEdge3 : vec2<f32> = halfNorm - pxNorm * (uniforms.outlineThickness + 1.0);\n\t\t\tvar innerEdge3Sq : vec2<f32> = innerEdge3 * innerEdge3;\n\n\t\t\tvar outerF : f32 = smoothstep(innerEdge3Sq.x + innerEdge3Sq.y, innerEdge2Sq.x + innerEdge2Sq.y, distSq);\n\t\t\t\n\t\t\toutput.color = input.fragColor * innerF * outerF;\n\t\t\treturn output;\n\t\t}"}),
d.Ka(this,{name:"<tilerandomization>",src:d.AC(!1),OB:d.AC(!0)}),d.Ka(this,{name:"<smoothline>",src:"\n\t\t%%FRAGMENTINPUT_STRUCT%%\n\t\t%%FRAGMENTOUTPUT_STRUCT%%\n\n\t\t@fragment\n\t\tfn main(input : FragmentInput) -> FragmentOutput {\n\t\t\tvar output : FragmentOutput;\n\t\t\tvar f : f32 = 1.0 - abs(input.fragUV.y - 0.5) * 2.0;\n\t\t\toutput.color = input.fragColor * f;\n\t\t\treturn output;\n\t\t}"})]);this.ot=d[0];this.CT=d[1];this.TA=d[2];this.SA=d[4];this.UA=d[11];for(var e of d)Wf(this,e);
this.cv=this.ot;this.G|=65536;this.sM=this.CT.kJ();this.LG=a.createBuffer({label:"vertexuniformbuffer",size:this.NG,usage:qi.UNIFORM|qi.COPY_DST});this.yE=a.createBuffer({label:"fragmentuniformbuffer",size:this.vE,usage:qi.UNIFORM|qi.COPY_DST});this.wE=a.createBuffer({label:"fragmentc3paramsuniformbuffer",size:this.QK,usage:qi.UNIFORM|qi.COPY_DST});this.VK=a.createBuffer({label:"fragmentdefaultcustomparamsbuffer",size:16,usage:qi.UNIFORM|qi.COPY_DST});this.Rw=0;this.oB=this.NG;Fi(this);Hi(this);Ii(this);
this.vv=0;this.yz=this.vE;Zi(this,this.ZR,this.UK.E3);Zi(this,this.aS,this.UK.N4);this.bv=this.YD=Ji(this,this.VK);e=oi.oh(32,32);e.getContext("2d");this.Zn=await this.nx(e);this.tf=null;this.Ap=this.Zn.nq;this.zp=0;this.av=null;this.UD=this.Zn.Lu;vj(this.Zn);this.DM=this.Ae.createTexture({label:"nulldepthbuffer",size:[8,8,1],format:Ki(),usage:si.TEXTURE_BINDING});this.EM=this.DM.createView({label:"nulldepthbufferview",aspect:"depth-only"});this.cz=this.NF=this.Ae.createBindGroup({label:"nulldepthbufferbindgroup",
layout:this.jz,entries:[{binding:0,resource:this.kp({tc:"nearest"})},{binding:1,resource:this.EM}]});this.tj=oi.C(oi.W.bJ,this,!0);wj(this.tj.oc(),b,this.pm);this.wb=this.tj;Li(this);if((this.Fu=await this.Ol.requestAdapterInfo())&&"intel"===this.Fu.vendor&&"gen-12lp"===this.Fu.architecture)throw Error("abandoning WebGPU initialization as hardware is intel/gen-12lp which is broken on some systems - see https://crbug.com/330655410");this.YF||(this.YF=this.UR.getContext("webgpu"));this.YF.configure({device:a,
format:this.pm,usage:b,alphaMode:"premultiplied"});zi&&Ai("Initialised state")}yg(){return this.Ae}async eC(a){zi&&Ai(`Creating shader program '${a.name}'`);a=await oi.W.gD.Ka(this,a);Wf(this,a);return a}lJ(){return this.OM}mk(){return Bi(this,32768)}Ch(){return Bi(this,33554432)}RH(){let a=0;for(const b of oi.W.ly.aO())b.Qn||(a+=b.Cx());return a}hp(){return!0}Vd(a,b,d){if(this.S!==a||this.T!==b||d)zi&&Ai(`Setting size to ${a} x ${b}`),this.qe(),this.S=a,this.T=b,this.jg=a,this.df=b,this.tj.Jr(),
this.an(Ig(this.tj)),this.wb&&this.wb.zy(this.S,this.T),Bi(this,131072)&&Bi(this,16777216)&&this.Pr(a,b)}Pr(a,b){if(this.ye){if(this.iz===a&&this.gz===b)return;this.ye.destroy()}let d=si.RENDER_ATTACHMENT;this.Rl&&(d|=si.TEXTURE_BINDING);this.ye=this.Ae.createTexture({label:"depthbuffer",size:[a,b,1],format:Ki(),usage:d});this.hz=this.ye.createView({label:"depthbufferview"});this.Rl&&(this.yK=this.Ae.createBindGroup({label:"depthbufferbindgroup",layout:this.jz,entries:[{binding:0,resource:this.kp({tc:"nearest"})},
{binding:1,resource:this.ye.createView({label:"depthbufferview",aspect:"depth-only"})}]}));this.iz=a;this.gz=b}UQ(a,b){Bi(this,131072)&&(this.Fb(16777216,!1),this.Pr(a,b))}SQ(){Bi(this,131072)&&(this.Fb(16777216,!0),this.Pr(this.S,this.T))}an(a){pi.bj(this.Ss,a)||(pi.Ja(this.Ss,a),Fi(this))}YC(){this.an(Ig(this.wb))}xu(a){pi.bj(this.cw,a)||(pi.Ja(this.cw,a),Fi(this))}NQ(){this.Fb(268435456,!1)}gC(){return Bi(this,268435456)}Zt(a,b){if(a&&!xj(a)){var d=a.width||a.videoWidth;const c=a.height||a.videoHeight,
e=oi.oh(d,c);e.getContext("2d").drawImage(a,0,0,d,c);a=e}this.qe();zi&&Ai(`Creating texture ${a?a.width:b.width} x ${a?a.height:b.height}`);d=oi.C(oi.W.ly,this);d.oy(a,b);return d}async nx(a,b){if(xj(a))return this.Zt(a,b);if(!oi.vb.ImageBitmapOptions)throw Error("no support for ImageBitmapOptions");a=await createImageBitmap(a,{premultiplyAlpha:"premultiply"});return this.Zt(a,b)}kp(a){var b=a.Fm||"clamp-to-edge";const d=a.Gm||"clamp-to-edge",c=a.tc;a=a.Uw||0;"trilinear"!==c&&(a=0);const e=`${b},${d},${c},${a}`;
let g=this.eN.get(e);if(g)return g;b={addressModeU:b,addressModeV:d,magFilter:"nearest",minFilter:"nearest",mipmapFilter:"nearest"};if("bilinear"===c||"trilinear"===c)b.magFilter="linear",b.minFilter="linear";"trilinear"===c&&(b.mipmapFilter="linear",1<a&&(b.maxAnisotropy=a));g=this.Ae.createSampler(b);this.eN.set(e,g);return g}kJ(){return this.sM}mx(a,b,d){this.qe();const c=oi.C(oi.W.ly,this);c.eJ(a,b,d);return c}lR(a,b){b.sD(a)}fj(a){a&&(Dg(a),0<a.rc||(this.mk()||(this.qe(),this.tf===a&&this.te(null),
this.av===a&&Mi(this,null)),a.Lr()))}Qr(a,b){this.mk()||(b?this.yD.add(a):this.yD.delete(a))}bn(){zi&&Ai("================== START FRAME ===================");Oi(this)}Oo(){null===this.ks&&this.tj.Vk&&Pi(this);super.Oo();var a=this.wj,b=this.Vf;if(0===b%30)for(const [d,c]of a.Yr.entries()){let e=0;for(let g=0,k=c.length;g<k;++g){const l=c[g];l.UT<=b-25?(l.li(),l.A()):(c[e]=l,++e)}0===e?a.Yr.delete(d):yj.Ff(c,e)}a=this.tj.oc();a.Xa=null;a.Eq=null;this.Fw=this.Gw=a.Lu=null;zi&&Ai("End of frame");10<=
this.Vf&&(zi=!1)}qe(a=!1){Si(this);if(this.Sk&&a){var b=this.Sk,d=this.Kk;d.resolveQuerySet(b.aG,0,b.pw,b.gG,0);d.copyBufferToBuffer(b.gG,0,b.AA,0,8*b.pw);this.G|=16384}0!==(this.G&16384)&&(this.Zy.push(this.Kk.finish()),Li(this));if(0!==this.Zy.length){zi&&Ai("Ending batch");this.BJ();zi&&Ai(`Submitting ${this.Zy.length} commands`);this.Ae.queue.submit(this.Zy);oi.I(this.Zy);b=this.wj;for(const c of b.dG)zj(c);yj.I(b.dG);for(const c of b.ZM)c.li(),c.A();yj.I(b.ZM);for(const c of b.aE)c.destroy();
yj.I(b.aE);this.Sk&&a&&(Aj(this.Sk),this.Sk=null)}}BJ(){const a=this.Ae.queue;if(0<this.eo){const b=this.eo;zi&&Ai("Writing vertex buffers");a.writeBuffer(this.Ao,0,this.Tj.buffer,0,48*b);a.writeBuffer(this.ko,0,this.Wh.buffer,0,48*b);a.writeBuffer(this.ND,0,this.ds.buffer,0,16*b);this.eo=0}0<this.sq&&(zi&&Ai("Writing point buffer"),a.writeBuffer(this.co,0,this.kw.buffer,0,4*this.sq),this.sq=0)}zP(a){let b=this.S,d=this.T,c=!0;a&&("number"===typeof a.width&&(b=Math.floor(a.width),c=!1),"number"===
typeof a.height&&(d=Math.floor(a.height),c=!1));if(0>=b||0>=d)throw Error("invalid size");this.qe();const e=oi.C(oi.W.bJ,this);e.oy(b,d,Object.assign({DB:c},a));return e}ke(a,b=!0){null===a&&(a=this.tj);this.wb!==a&&(Si(this),this.wb=a,this.Fb(524288,a.gd),a.Nn&&!a.Tp&&a.zy(this.S,this.T),b&&this.YC())}nr(){}ik(){return this.wb===this.tj?null:this.wb}Hx(a){return null===a?[this.S,this.T]:[a.P(),a.N()]}BP(a){this.qe();this.wb===a&&this.ke(null);const b=a.oc();this.tf===b&&this.te(null);this.av===b&&
Mi(this,null);a.Lr()}lf(a){0!==(this.G&131072)&&(a=!!a,0!==(this.G&262144)!==a&&(0!==(this.G&524288)&&Si(this),this.Fb(262144,a)))}Ux(){return Bi(this,262144)}vu(a){if(this.Rl){if(a&&this.Ux())throw Error("depth still enabled");a=a?this.yK:this.NF;this.cz!==a&&(Ni(this),this.cz=a,this.G|=256)}}pe(a){Si(this);this.wb.Vk=!0;this.wb.bs.set(a)}gi(a,b,d,c){Si(this);this.wb.Vk=!0;dc(this.wb.bs,a,b,d,c)}GH(){655360===(this.G&655360)&&(Si(this),this.G|=1048576)}ZQ(a,b,d,c){a=Math.floor(a);b=Math.floor(b);
d=Math.floor(d);c=Math.floor(c);0!==(this.G&4)&&uc(this.iG,a,b,d,c)||(Ni(this),this.G|=12,tc(this.iG,a,b,d,c))}CI(){0!==(this.G&4)&&(Ni(this),this.G&=-5,this.G|=8)}rk(a){this.cv!==a&&(Ni(this),this.cv=a,this.Bg=null,this.G|=32,a=a===this.ot,a=!!a,0!==(this.G&65536)!==a&&(this.Fb(65536,a),fj(this,null===this.tf?this.Zn:this.tf)))}te(a){a!==this.tf&&(this.tf=a,null===a&&(a=this.Zn),fj(this,a))}Me(a){a!==this.VD&&(Ni(this),this.VD=a,this.Bg=null,this.G|=32)}by(){this.Me(0)}Fr(){this.Me(3)}tg(a,b,d,c){const e=
this.vn;kc(e,a,b,d,c)||(dc(e,a,b,d,c),this.Bg=null)}Ne(a){const b=this.vn;b.ab!==a&&(hc(b,a),this.Bg=null)}nc(){return this.vn.ab}ep(a){const b=this.vn;b.Pd(a)||(b.set(a),this.Bg=null)}Rect(a){this.VC(a.la,a.ea,a.wa,a.ra)}VC(a,b,d,c){this.yI(a,b,d,b,d,c,a,c)}yd(a){this.SC(a,vi)}yI(a,b,d,c,e,g,k,l){Ui(this);const n=this.Tj,p=this.eo++;let r=12*p;const w=this.Gh+this.xn;n[r++]=a;n[r++]=b;n[r++]=w;n[r++]=d;n[r++]=c;n[r++]=w;n[r++]=e;n[r++]=g;n[r++]=w;n[r++]=k;n[r++]=l;n[r]=w;Dc(vi,this.Wh,12*p,this.zp);
this.vn.Hd(this.ds,4*p)}Zm(a,b){Ui(this);const d=this.eo++;Dc(a,this.Tj,12*d,this.Gh+this.xn);a=this.Wh;var c=12*d,e=this.zp;a[c++]=b.la;a[c++]=b.ea;a[c++]=e;a[c++]=b.wa;a[c++]=b.ea;a[c++]=e;a[c++]=b.wa;a[c++]=b.ra;a[c++]=e;a[c++]=b.la;a[c++]=b.ra;a[c]=e;this.vn.Hd(this.ds,4*d)}SC(a,b){Ui(this);const d=this.eo++;Dc(a,this.Tj,12*d,this.Gh+this.xn);Dc(b,this.Wh,12*d,this.zp);this.vn.Hd(this.ds,4*d)}Yx(a,b,d,c,e,g,k,l,n,p,r,w,x){Ui(this);const z=this.Tj,F=this.eo++;let C=12*F;const G=this.Gh+this.xn;
z[C++]=a;z[C++]=b;z[C++]=G+d;z[C++]=c;z[C++]=e;z[C++]=G+g;z[C++]=k;z[C++]=l;z[C++]=G+n;z[C++]=p;z[C++]=r;z[C]=G+w;Dc(x,this.Wh,12*F,this.zp);this.vn.Hd(this.ds,4*F)}aR(a,b,d,c,e,g,k){a=this.UK;b=this.zz;wi.set(d,c);wi.xB(b,a.cW.offset/4)||(d=a.cW,wi.Hd(this.zz,d.offset/4),$i(this,d));b[a.kH.offset/4]!==Math.fround(e)&&(b[a.kH.offset/4]=e,$i(this,a.kH));wi.set(g,k);wi.xB(b,a.dW.offset/4)||(e=a.dW,wi.Hd(this.zz,e.offset/4),$i(this,e))}cD(a,b,d,c,e,g,k,l,n,p,r){g=this.PK;k=this.cv;r%=10800;k.Ou&&Mi(this,
a);k.IU&&(ej(this,b,g.O3),ej(this,d,g.YV),ej(this,c,g.Z4),ej(this,e,g.Lt));bj(this,l,g.devicePixelRatio);bj(this,n,g.GB);bj(this,p,g.EB);bj(this,r,g.nH);bj(this,this.lq,g.s5);bj(this,this.Ip,g.r5)}bD(a){a&&(a.$E&&(Si(this),Qi(a.Ga().wj,this.Kk,a.we,a.SJ,0,a.dK),a.$E=!1),ij(this,a.cK))}cC(a){a.Vk?(this.wb.Vk=!0,this.wb.bs.set(a.bs)):2<=a.Fe&&2>this.wb.Fe?(Yi(this,a),Si(this),this.Kk.beginRenderPass({colorAttachments:[{view:a.oc().lp(),resolveTarget:this.wb.oc().lp(),loadOp:"load",storeOp:"store"}]}).end(),
this.G|=16384):(this.gi(0,0,0,0),this.Fr(),ji(this),this.au(a))}au(a){Yi(this,a);a=a.oc();this.te(a);this.wx()}wx(){const a=Bi(this,134217728);a||hj(this,!0);ag(this,0);yi.set(0,-1,0,-1,2,1,0,1);xi.set(0,-1,2,1);this.Zm(yi,xi);a||hj(this,!1)}IH(){Si(this);this.lf(!0);this.G|=10485760}bC(){Si(this);this.lf(!1);this.G&=-2097153;this.G|=4194304}XP(){return Bi(this,4194304)}aC(){Si(this);this.lf(!0);this.G&=-4194305}mJ(){$f(this,[["normal","one","one-minus-src-alpha"],["additive","one","one"],["xor",
"one","one-minus-src-alpha"],["copy","one","zero"],["destination-over","one-minus-dst-alpha","one"],["source-in","dst-alpha","zero"],["destination-in","zero","src-alpha"],["source-out","one-minus-dst-alpha","zero"],["destination-out","zero","one-minus-src-alpha"],["source-atop","dst-alpha","one-minus-src-alpha"],["destination-atop","one-minus-dst-alpha","src-alpha"]])}};"use strict";const yj=self.D;
function Qi(a,b,d,c,e,g){var k=Math.max(yj.Mt(g),16);var l=a.Yr.get(k);if("undefined"!==typeof l&&0<l.length){var n=l.pop();0===l.length&&a.Yr.delete(k);k=n}else k=yj.C(yj.W.R0,a,k);l=k.we;n=l.getMappedRange(0,g);(new Uint8Array(n)).set(new Uint8Array(c,e,g));l.unmap();b.copyBufferToBuffer(l,0,d,e,g);a.dG.push(k)}yj.W.P0=class{constructor(a){this.V=a;this.Yr=new Map;this.dG=[];this.ZM=[];this.aE=[]}Ga(){return this.V}Td(){this.Yr.clear();yj.I(this.dG);yj.I(this.ZM);yj.I(this.aE)}};"use strict";
const Bj=self.GPUBufferUsage,Cj=self.GPUMapMode;async function zj(a){try{await a.we.mapAsync(Cj.WRITE)}catch(d){console.warn("[WebGPU] Error recycling buffer, assuming device was lost: ",d);return}if(!a.Ga().mk()){a.UT=a.Ga().Vf;var b=a.wj;const d=a.li(),c=b.Yr.get(d);"undefined"===typeof c?b.Yr.set(d,[a]):c.push(a)}}
self.D.W.R0=class{constructor(a,b){this.wj=a;this.om=b;this.we=this.Ga().yg().createBuffer({mappedAtCreation:!0,size:b,usage:Bj.COPY_SRC|Bj.MAP_WRITE});this.UT=0}Ga(){return this.wj.Ga()}li(){return this.om}A(){this.we.destroy();this.wj=this.we=null}};"use strict";const Dj=self.GPUBufferUsage;
function Ej(a,b,d){var c=a.Nc.Ia[b];b=c.type;const e=c.offset/4;c=a.qS;if("color"===b){if(c[e]!==Math.fround(d.kb)||c[e+1]!==Math.fround(d.Ra)||c[e+2]!==Math.fround(d.hb))b=e,c[b++]=d.kb,c[b++]=d.Ra,c[b]=d.hb,a.$E=!0}else if("float"===b||"percent"===b)c[e]!==Math.fround(d)&&(c[e]=d,a.$E=!0);else throw Error(`unexpected shader param type '${b}'`);}
self.D.W.pR=class{constructor(a){const b=a.Ga();this.Nc=a;this.dK=a.WD;this.SJ=new ArrayBuffer(this.dK);this.qS=new Float32Array(this.SJ);this.$E=!1;this.we=b.yg().createBuffer({size:this.dK,usage:Dj.UNIFORM|Dj.COPY_DST});this.cK=Ji(b,this.we)}A(){var a=this.Ga();a.bv===this.cK&&ij(a,a.YD);this.Ga().wj.aE.push(this.we);this.cK=this.qS=this.SJ=this.Nc=this.we=null}Ga(){return this.Nc.Ga()}Le(){return this.Nc}};"use strict";const Fj=self.D;
function Gj(a){for(const b of Object.values(a))b.end=b.offset+b.size}function Xi(){const a=[];for(let b=0;55>b;++b)a.push(null);return a}const kj={transform:{offset:0,size:64,end:0},O4:{offset:64,size:16,end:0},Aia:{offset:64,size:8,end:0},zia:{offset:72,size:8,end:0},vl:{offset:80,size:4,end:0}};Gj(kj);
const lj=kj.vl.end,mj={E3:{offset:0,size:16,end:0},N4:{offset:16,size:16,end:0},cW:{offset:32,size:8,end:0},dW:{offset:40,size:8,end:0},YV:{offset:48,size:16,end:0},uja:{offset:48,size:8,end:0},tja:{offset:56,size:8,end:0},xia:{offset:64,size:8,end:0},kH:{offset:72,size:4,end:0}};Gj(mj);
const nj=mj.kH.end,Hj="srcStart srcEnd srcOriginStart srcOriginEnd c3_srcToNorm c3_normToSrc c3_clampToSrc c3_srcOriginToNorm c3_normToSrcOrigin c3_clampToSrcOrigin c3_getLayoutPos c3_srcToDest".split(" "),Ij=["layoutStart","layoutEnd","destStart","destEnd","c3_clampToDest"],oj={YV:{offset:0,size:16,end:0},vja:{offset:0,size:8,end:0},qja:{offset:8,size:8,end:0},Z4:{offset:16,size:16,end:0},sja:{offset:16,size:8,end:0},rja:{offset:24,size:8,end:0},Lt:{offset:32,size:16,end:0},Wha:{offset:32,size:8,
end:0},Vha:{offset:40,size:8,end:0},O3:{offset:48,size:16,end:0},Kga:{offset:48,size:8,end:0},Jga:{offset:56,size:8,end:0},devicePixelRatio:{offset:64,size:4,end:0},GB:{offset:68,size:4,end:0},EB:{offset:72,size:4,end:0},nH:{offset:76,size:4,end:0},s5:{offset:80,size:4,end:0},r5:{offset:84,size:4,end:0},AO:{offset:88,size:4,end:0}};Gj(oj);const pj=oj.AO.end,Jj=new Map([["float",4],["percent",4],["color",12]]),Kj=new Map([["float",4],["percent",4],["color",16]]);
function rj(a,b,d){for(const c of d.messages)d=`[WebGPU] Message (${c.type}) compiling ${b} shader '${a}': ${c.message} (line ${c.lineNum}, pos ${c.linePos})`,"error"===c.type?console.error(d):"warning"===c.type?console.warn(d):console.log(d)}function sj(a){return`
		@binding(0) @group(1) var sampler0 : sampler;
		@binding(1) @group(1) var texture0 : texture_2d<f32>;
		@binding(2) @group(1) var sampler1 : sampler;
		@binding(3) @group(1) var texture1 : texture_2d<f32>;
		@binding(4) @group(1) var sampler2 : sampler;
		@binding(5) @group(1) var texture2 : texture_2d<f32>;
		@binding(6) @group(1) var sampler3 : sampler;
		@binding(7) @group(1) var texture3 : texture_2d<f32>;
		@binding(8) @group(1) var sampler4 : sampler;
		@binding(9) @group(1) var texture4 : texture_2d<f32>;
		@binding(10) @group(1) var sampler5 : sampler;
		@binding(11) @group(1) var texture5 : texture_2d<f32>;
		@binding(12) @group(1) var sampler6 : sampler;
		@binding(13) @group(1) var texture6 : texture_2d<f32>;
		@binding(14) @group(1) var sampler7 : sampler;
		@binding(15) @group(1) var texture7 : texture_2d<f32>;
		@binding(16) @group(1) var sampler8 : sampler;
		@binding(17) @group(1) var texture8 : texture_2d<f32>;
		@binding(18) @group(1) var sampler9 : sampler;
		@binding(19) @group(1) var texture9 : texture_2d<f32>;
		@binding(20) @group(1) var sampler10 : sampler;
		@binding(21) @group(1) var texture10 : texture_2d<f32>;
		@binding(22) @group(1) var sampler11 : sampler;
		@binding(23) @group(1) var texture11 : texture_2d<f32>;
		@binding(24) @group(1) var sampler12 : sampler;
		@binding(25) @group(1) var texture12 : texture_2d<f32>;
		@binding(26) @group(1) var sampler13 : sampler;
		@binding(27) @group(1) var texture13 : texture_2d<f32>;

		struct FragmentInput {
			@location(0) fragUV : vec3<f32>,
			@location(1) fragColor : vec4<f32>,
			${a?"@builtin(position) fragPos: vec4<f32>":""}
		};

		struct FragmentOutput {
			@location(0) color : vec4<f32>,
			${a?"@builtin(frag_depth) fragDepth: f32":""} 
		};

		@fragment
		fn main(input : FragmentInput) -> FragmentOutput {
			var output : FragmentOutput;
			var texXy : vec2<f32> = input.fragUV.xy;
			var texIndex : f32 = input.fragUV.z;
			var c : vec4<f32>;

			let dx = dpdx(texXy);
			let dy = dpdy(texXy);
			
			if (texIndex < 6.5)
			{
				if (texIndex < 2.5)
				{
					if (texIndex < 0.5)			{	c = textureSampleGrad(texture0, sampler0, texXy, dx, dy);	}
					else
					{
						if (texIndex < 1.5)		{	c = textureSampleGrad(texture1, sampler1, texXy, dx, dy);	}
						else					{	c = textureSampleGrad(texture2, sampler2, texXy, dx, dy);	}
					}						
				}
				else
				{
					if (texIndex < 4.5)
					{
						if (texIndex < 3.5)		{	c = textureSampleGrad(texture3, sampler3, texXy, dx, dy);	}
						else					{	c = textureSampleGrad(texture4, sampler4, texXy, dx, dy);	}
					}
					else
					{
						if (texIndex < 5.5)		{	c = textureSampleGrad(texture5, sampler5, texXy, dx, dy);	}
						else					{	c = textureSampleGrad(texture6, sampler6, texXy, dx, dy);	}
					}
				}
			}
			else
			{
				if (texIndex < 9.5)
				{
					if (texIndex < 7.5)			{	c = textureSampleGrad(texture7, sampler7, texXy, dx, dy);	}
					else
					{
						if (texIndex < 8.5)		{	c = textureSampleGrad(texture8, sampler8, texXy, dx, dy);	}
						else					{	c = textureSampleGrad(texture9, sampler9, texXy, dx, dy);	}
					}						
				}
				else
				{
					if (texIndex < 11.5)
					{
						if (texIndex < 10.5)	{	c = textureSampleGrad(texture10, sampler10, texXy, dx, dy);	}
						else					{	c = textureSampleGrad(texture11, sampler11, texXy, dx, dy);	}
					}
					else
					{
						if (texIndex < 12.5)	{	c = textureSampleGrad(texture12, sampler12, texXy, dx, dy);	}
						else					{	c = textureSampleGrad(texture13, sampler13, texXy, dx, dy);	}
					}
				}
			}

			output.color = c * input.fragColor;
			${a?"output.fragDepth = select(input.fragPos.z, 1.0, output.color.a == 0.0);":""}
			return output;
		}`}function tj(a){return`
		${"\nstruct Uniforms {\n\tcolor2\t\t\t\t: vec4<f32>,\n\tpointColor \t\t\t: vec4<f32>,\n\ttileSize\t\t\t: vec2<f32>,\n\ttileSpacing\t\t\t: vec2<f32>,\n\tsrcRectStart\t\t: vec2<f32>,\n\tsrcRectEnd\t\t\t: vec2<f32>,\n\tpixelSize\t\t\t: vec2<f32>,\n\toutlineThickness\t: f32\n};\n@binding(1) @group(0) var<uniform> uniforms : Uniforms;\n"}

		%%SAMPLERFRONT_BINDING%% var sampler0 : sampler;
		%%TEXTUREFRONT_BINDING%% var texture0 : texture_2d<f32>;

		struct FragmentInput {
			@location(0) fragUV : vec2<f32>,
			@location(1) pointOpacity : f32,
			@builtin(position) fragPos : vec4<f32>
		};
		
		struct FragmentOutput {
			@location(0) color : vec4<f32>,
			${a?"@builtin(frag_depth) fragDepth: f32":""} 
		};

		@fragment
		fn main(input : FragmentInput) -> FragmentOutput {
			var output : FragmentOutput;
			output.color = textureSample(texture0, sampler0, input.fragUV) * uniforms.pointColor * input.pointOpacity;
			${a?"output.fragDepth = select(input.fragPos.z, 1.0, output.color.a == 0.0);":""}
			return output;
		}`}function uj(a){return`
		${"\nstruct Uniforms {\n\tcolor2\t\t\t\t: vec4<f32>,\n\tpointColor \t\t\t: vec4<f32>,\n\ttileSize\t\t\t: vec2<f32>,\n\ttileSpacing\t\t\t: vec2<f32>,\n\tsrcRectStart\t\t: vec2<f32>,\n\tsrcRectEnd\t\t\t: vec2<f32>,\n\tpixelSize\t\t\t: vec2<f32>,\n\toutlineThickness\t: f32\n};\n@binding(1) @group(0) var<uniform> uniforms : Uniforms;\n"}

		%%SAMPLERFRONT_BINDING%% var sampler0 : sampler;
		%%TEXTUREFRONT_BINDING%% var texture0 : texture_2d<f32>;

		%%FRAGMENTINPUT_STRUCT%%
		
		struct FragmentOutput {
			@location(0) color : vec4<f32>,
			${a?"@builtin(frag_depth) fragDepth: f32":""} 
		};

		@fragment
		fn main(input : FragmentInput) -> FragmentOutput {
			var output : FragmentOutput;
			var halfPixelSize : vec2<f32> = vec2<f32>(0.5, 0.5) / vec2<f32>(textureDimensions(texture0));

			var tile : vec2<f32> = floor(input.fragUV);
			var tex : vec2<f32> = fract(input.fragUV);
			var tileOrigin : vec2<f32> = uniforms.srcRectStart + tile * (uniforms.tileSize + uniforms.tileSpacing);
			var lowerBound : vec2<f32> = tileOrigin + halfPixelSize;
			var upperBound : vec2<f32> = tileOrigin + uniforms.tileSize - halfPixelSize;

			output.color = textureSampleLevel(texture0, sampler0, clamp(tex, lowerBound, upperBound), 0.0) * input.fragColor;
			${a?"output.fragDepth = select(input.fragPos.z, 1.0, output.color.a == 0.0);":""}
			return output;
		}`}function Lj(a,b){a=qj(a,b);return Fj.k0(a)}function Mj(a,b){return a.yg().createRenderPipelineAsync(Wi(a,0,b,0))}function qj(a,b){return a?(b?"enable f16;\nalias f16or32 = f16;\n":"alias f16or32 = f32;\n")+a:a}
function Wi(a,b,d,c){const [e,g]=a.V.DD[b];b={label:`${a.ua()} blendMode ${b} variant ${d} multisampleCount ${c}`,layout:a.lJ(),vertex:{module:4===d?a.Us:a.QN,entryPoint:"main",buffers:[{arrayStride:12,attributes:[{shaderLocation:0,offset:0,format:"float32x3"}]},{arrayStride:12,attributes:[{shaderLocation:1,offset:0,format:"float32x3"}]}]},fragment:{module:a.wv,entryPoint:"main",targets:[{format:a.V.pm,blend:{color:{srcFactor:e,dstFactor:g},alpha:{srcFactor:e,dstFactor:g}}}]}};2<=c&&(b.multisample=
{count:c});1===d?(b.fragment.module=a.xE||a.wv,b.depthStencil={format:Ki(),depthWriteEnabled:!0,depthCompare:"less-equal"}):2===d?(b.fragment.module=a.xE||a.wv,b.fragment.targets=[],a={compare:"always",failOp:"keep",depthFailOp:"keep",passOp:"replace"},b.depthStencil={format:Ki(),depthWriteEnabled:!0,depthCompare:"less-equal",stencilFront:a,stencilBack:a,stencilReadMask:1,stencilWriteMask:1}):3===d&&(b.fragment.module=a.xE||a.wv,a={compare:"equal",failOp:"keep",depthFailOp:"keep",passOp:"keep"},b.depthStencil=
{format:Ki(),depthWriteEnabled:!1,depthCompare:"always",stencilFront:a,stencilBack:a,stencilReadMask:1,stencilWriteMask:0});return b}
Fj.W.gD=class extends Fj.W.cR{constructor(a,b){super(a,b);this.wv=b.W3;this.xE=b.X3;this.QN=b.n5;this.Us=b.G4;this.ww=Xi();this.xM=new Map;this.tM=new Map;this.LU=this.IU=!1;this.Ia=[];this.WD=0;if(b.parameters){a=0;for(const d of b.parameters){b=d[2];if(!Jj.has(b))throw Error(`unrecognized effect param type '${b}'`);const c=Jj.get(b),e=Kj.get(b),g=a%e;0!==g&&(a+=e-g);this.Ia.push({type:b,offset:a,size:c,end:a+c});a+=c}this.WD=16*Math.ceil(a/16)}}static async Ka(a,b){var d=a.yg();const c=b.name;var e=
Bi(a,67108864);const g=b.src;var k=Lj(g,e);k=d.createShaderModule({label:c,code:k});var l=null;b.OB&&(l=Lj(b.OB,e),l=d.createShaderModule({label:c,code:l}));k.getCompilationInfo().then(p=>rj(c,"fragment",p));var n;(n=qj(b.Vt,e))?(n=d.createShaderModule({label:c,code:n}),n.getCompilationInfo().then(p=>rj(c,"vertex",p))):n=a.$D;(e=qj(b.H4,e))?(d=d.createShaderModule({label:c,code:e}),d.getCompilationInfo().then(p=>rj(c,"vertex (norm)",p))):d=a.Us;b=Fj.C(Fj.W.gD,a,Object.assign({W3:k,X3:l,n5:n,G4:d},
b));b.mB=g.includes("%%C3PARAMS_STRUCT%%")&&Hj.some(p=>g.includes(p));b.IU=b.mB||g.includes("%%C3PARAMS_STRUCT%%")&&Ij.some(p=>g.includes(p));b.LU=g.includes("%%C3PARAMS_STRUCT%%")&&g.includes("isSrcTexRotated");if("<generate-mipmap>"!==c){d=Mj(b,0);k=null;Bi(a,131072)&&(k=Mj(b,1));const [p,r]=await Promise.all([d,k]);b.ww[0]=p;r&&(b.ww[1]=r)}return b}A(){this.Us=this.QN=this.xE=this.wv=null;for(let a=0,b=this.ww.length;a<b;++a)this.ww[a]=null;this.xM.clear();this.tM.clear();super.A()}yg(){return this.V.yg()}lJ(){return this.V.lJ()}Ga(){return this.V}mR(){return this.LU}PP(){return this.Ia.length}Fx(a){return 0>
a||a>=this.Ia.length?null:this.Ia[a].type}static du(){return"\n\t\t\nstruct Uniforms {\n\ttransform\t\t: mat4x4<f32>,\n\tpointTexStart\t: vec2<f32>,\n\tpointTexEnd\t\t: vec2<f32>,\n\tzElevation\t\t: f32\n};\n@binding(0) @group(0) var<uniform> uniforms : Uniforms;\n\n\n\t\tstruct ColorData {\n\t\t\tdata : array<vec4<f32>>\n\t\t};\n\t\t@binding(2) @group(0) var<storage> colorBuffer : ColorData;\n\n\t\tstruct VertexInput {\n\t\t\t@builtin(vertex_index) VertexIndex : u32,\n\t\t\t@location(0) position : vec3<f32>,\n\t\t\t@location(1) uv : vec3<f32>\n\t\t};\n\n\t\tstruct VertexOutput {\n\t\t\t@builtin(position) Position : vec4<f32>,\n\t\t\t@location(0) fragUV : vec2<f32>,\n\t\t\t@location(1) fragColor : vec4<f32>\n\t\t};\n\n\t\t@vertex\n\t\tfn main(input : VertexInput) -> VertexOutput {\n\t\t\tvar output : VertexOutput;\n\t\t\toutput.Position = uniforms.transform * vec4<f32>(input.position, 1.0);\n\t\t\toutput.fragUV = input.uv.xy;\n\t\t\toutput.fragColor = colorBuffer.data[input.VertexIndex / u32(4)];\n\t\t\treturn output;\n\t\t}"}kJ(){var a;
a||(a=this.V.yN);let b=this.tM.get(a);b||(b=this.yg().createRenderPipeline({label:"<mipmap generator>",layout:"auto",vertex:{module:this.QN,entryPoint:"main"},primitive:{topology:"triangle-strip",stripIndexFormat:"uint16"},fragment:{module:this.wv,entryPoint:"main",targets:[{format:a,blend:{color:{srcFactor:"one",dstFactor:"zero"},alpha:{srcFactor:"one",dstFactor:"zero"}}}]}}),this.tM.set(a,b));return b}static AC(a){return`
${"\nstruct Uniforms {\n\tcolor2\t\t\t\t: vec4<f32>,\n\tpointColor \t\t\t: vec4<f32>,\n\ttileSize\t\t\t: vec2<f32>,\n\ttileSpacing\t\t\t: vec2<f32>,\n\tsrcRectStart\t\t: vec2<f32>,\n\tsrcRectEnd\t\t\t: vec2<f32>,\n\tpixelSize\t\t\t: vec2<f32>,\n\toutlineThickness\t: f32\n};\n@binding(1) @group(0) var<uniform> uniforms : Uniforms;\n"}

%%SAMPLERFRONT_BINDING%% var sampler0 : sampler;
%%TEXTUREFRONT_BINDING%% var texture0 : texture_2d<f32>;

%%FRAGMENTINPUT_STRUCT%%

struct FragmentOutput {
	@location(0) color : vec4<f32>,
	${a?"@builtin(frag_depth) fragDepth: f32":""} 
};

%%C3_UTILITY_FUNCTIONS%%

const PI : f32 = 3.1415926;

fn cospVec4(a : vec4<f32>, b : vec4<f32>, x : f32) -> vec4<f32>
{
	return (a + b + (a - b) * cos(x * PI)) / 2.0;
}

fn randVec3(seed : vec2<f32>) -> vec3<f32>
{
	return vec3<f32>(
		fract(sin(dot(seed.xy, vec2<f32>(12.9898,78.233))) * 43758.5453),
		fract(sin(dot(seed.yx, vec2<f32>(12.9898,-78.233))) * 43758.5453),
		fract(sin(dot(seed.xy, vec2<f32>(-12.9898,-78.233))) * 43758.5453));
}

fn sampleTile(tile : vec2<f32>, uv : vec2<f32>, ddx : vec2<f32>, ddy : vec2<f32>) -> vec4<f32>
{
	var posRandom = uniforms.tileSize;
	var angleRandom = uniforms.outlineThickness;
	var pixelSize = c3_getPixelSize(texture0);
	
	var rand = (randVec3(round(tile)) - 0.5) * 2.0;
	
	var angle = angleRandom * rand.z * PI;
	var sin_a = sin(angle);
	var cos_a = cos(angle);
	var aspect = pixelSize.x / pixelSize.y;

	var mid = tile + vec2<f32>(0.5, 0.5);
	var dp = uv - mid;
	dp.x /= aspect;
	var r = vec2<f32>(dp.x * cos_a - dp.y * sin_a,
					  dp.y * cos_a + dp.x * sin_a);
	r.x *= aspect;

	var p = mid + r + (posRandom * rand.xy / 2.0);
	
	return textureSampleGrad(texture0, sampler0, p, ddx, ddy);
}

@fragment
fn main(input : FragmentInput) -> FragmentOutput
{
	var output : FragmentOutput;
	
	var blendMarginX = uniforms.tileSpacing.x;
	var blendMarginY = uniforms.tileSpacing.y;
	
	var tile = floor(input.fragUV);
	var tex = fract(input.fragUV);
	var ddx = dpdx(input.fragUV);
	var ddy = dpdy(input.fragUV);
	
	var curTile = sampleTile(tile, input.fragUV, ddx, ddy);
	
	var inLeftMargin = (tex.x < blendMarginX);
	var inRightMargin = (tex.x > 1.0 - blendMarginX);
	var inTopMargin = (tex.y < blendMarginY);
	var inBottomMargin = (tex.y > 1.0 - blendMarginY);
	
	if (inLeftMargin)
	{
		var leftTile = sampleTile(tile + vec2<f32>(-1.0, 0.0), input.fragUV, ddx, ddy);
		var leftMix = (tex.x / (blendMarginX * 2.0)) + 0.5;
		var leftMixedTile = cospVec4(leftTile, curTile, leftMix);
		
		if (inTopMargin)
		{
			var topTile =     sampleTile(tile + vec2<f32>(0.0,  -1.0), input.fragUV, ddx, ddy);
			var topLeftTile = sampleTile(tile + vec2<f32>(-1.0, -1.0), input.fragUV, ddx, ddy);
			var topLeftMixedTile = cospVec4(topLeftTile, topTile, leftMix);
			
			output.color = cospVec4(topLeftMixedTile, leftMixedTile, (tex.y / (blendMarginY * 2.0)) + 0.5);
		}
		else if (inBottomMargin)
		{
			var bottomTile =     sampleTile(tile + vec2<f32>(0.0,  1.0), input.fragUV, ddx, ddy);
			var bottomLeftTile = sampleTile(tile + vec2<f32>(-1.0, 1.0), input.fragUV, ddx, ddy);
			var bottomLeftMixedTile = cospVec4(bottomLeftTile, bottomTile, leftMix);
			
			output.color = cospVec4(leftMixedTile, bottomLeftMixedTile, (tex.y - (1.0 - blendMarginY)) / (blendMarginY * 2.0));
		}
		else
		{
			output.color = leftMixedTile;
		}
	}
	else if (inRightMargin)
	{
		var rightTile = sampleTile(tile + vec2(1.0, 0.0), input.fragUV, ddx, ddy);
		var rightMix = (tex.x - (1.0 - blendMarginX)) / (blendMarginX * 2.0);
		var rightMixedTile = cospVec4(curTile, rightTile, rightMix);
		
		if (inTopMargin)
		{
			var topTile =      sampleTile(tile + vec2<f32>(0.0, -1.0), input.fragUV, ddx, ddy);
			var topRightTile = sampleTile(tile + vec2<f32>(1.0, -1.0), input.fragUV, ddx, ddy);
			var topRightMixedTile = cospVec4(topTile, topRightTile, rightMix);
			
			output.color = cospVec4(topRightMixedTile, rightMixedTile, (tex.y / (blendMarginY * 2.0)) + 0.5);
		}
		else if (inBottomMargin)
		{
			var bottomTile =      sampleTile(tile + vec2<f32>(0.0, 1.0), input.fragUV, ddx, ddy);
			var bottomRightTile = sampleTile(tile + vec2<f32>(1.0, 1.0), input.fragUV, ddx, ddy);
			var bottomRightMixedTile = cospVec4(bottomTile, bottomRightTile, rightMix);
			
			output.color = cospVec4(rightMixedTile, bottomRightMixedTile, (tex.y - (1.0 - blendMarginY)) / (blendMarginY * 2.0));
		}
		else
		{
			output.color = rightMixedTile;
		}
	}
	else if (inTopMargin)
	{
		var topTile = sampleTile(tile + vec2<f32>(0.0, -1.0), input.fragUV, ddx, ddy);
		output.color = cospVec4(topTile, curTile, (tex.y / (blendMarginY * 2.0)) + 0.5);
	}
	else if (inBottomMargin)
	{
		var bottomTile = sampleTile(tile + vec2<f32>(0.0, 1.0), input.fragUV, ddx, ddy);
		output.color = cospVec4(curTile, bottomTile, (tex.y - (1.0 - blendMarginY)) / (blendMarginY * 2.0));
	}
	else
	{
		output.color = curTile;
	}
	
	output.color *= input.fragColor;
	${a?"output.fragDepth = select(input.fragPos.z, 1.0, output.color.a == 0.0);":""}
	return output;
}
`}};"use strict";
const Nj=self.D,Oj=new Set(["nearest","bilinear","trilinear"]),Pj=new Set(["clamp-to-edge","repeat","mirror-repeat"]),Qj=self.GPUTextureUsage,Rj={Fm:"clamp-to-edge",Gm:"clamp-to-edge",tc:"trilinear",Uw:0,Io:!0,yO:!1,Yj:!1,Sq:!1,UG:!1,hx:0,width:-1,height:-1},Sj=[[1,["r8unorm","r8snorm","r8uint","r8sint","stencil8"]],[2,"r16uint r16sint r16float rg8unorm rg8snorm rg8uint rg8sint depth16unorm".split(" ")],[3,["depth24plus"]],[4,"r32uint r32sint r32float rg16uint rg16sint rg16float rgba8unorm rgba8unorm-srgb rgba8snorm rgba8uint rgba8sint bgra8unorm bgra8unorm-srgb rgb9e5ufloat rgb10a2uint rgb10a2unorm rg11b10ufloat depth24plus-stencil8 depth32float".split(" ")],[8,
"rg32uint rg32sint rg32float rgba16uint rgba16sint rgba16float".split(" ")],[16,["rgba32uint","rgba32sint","rgba32float"]],[5,["depth32float-stencil8"]]],Tj=new Map;for(const [a,b]of Sj)for(const d of b)Tj.set(d,a);const Uj=new Set,Vj={premultiplyAlpha:!0,flipY:!1};function vj(a){a.IF=!1;a.Qr(!1)}function wj(a,b,d){a.Xi=b;a.Mp=d}
function xj(a){return a instanceof ImageBitmap||"undefined"!==typeof HTMLVideoElement&&a instanceof HTMLVideoElement||"undefined"!==typeof HTMLCanvasElement&&a instanceof HTMLCanvasElement||"undefined"!==typeof OffscreenCanvas&&a instanceof OffscreenCanvas}
function Wj(a){const b=a.V,d=b.yg();a.Xi=0;a.Qn?(a.Xi=Qj.RENDER_ATTACHMENT,a.Ii&&(a.Xi|=Qj.TEXTURE_BINDING),a.TR&&(a.Xi|=Qj.COPY_DST),a.Mp=a.V.pm):(a.Xi=Qj.COPY_DST|Qj.TEXTURE_BINDING,a.Mp=a.V.yN);a.hK&&(a.Xi|=Qj.COPY_SRC);a.Xa=d.createTexture({size:[a.S,a.T,1],mipLevelCount:Xj(a),format:a.Mp,usage:a.Xi,sampleCount:2<=a.Fe?a.Fe:1});a.Eq=a.Xa.createView();const c=[];for(let e=0;14>e;++e)c.push({binding:2*e,resource:a.FA},{binding:2*e+1,resource:a.Eq});if(!a.Qn||a.Ii)a.nq=d.createBindGroup({layout:b.ZA,
entries:c}),a.Lu=d.createBindGroup({layout:b.Ny,entries:[{binding:0,resource:a.V.kp({tc:"nearest"})},{binding:1,resource:a.Eq}]});a.uf&&a.IF&&!a.Qn&&a.Qr(!0);Uj.add(a)}
function Yj(a,b){a.Zi=b.Fm;a.$i=b.Gm;a.ic=b.tc;a.Wr=b.Uw;a.Lh=!!b.Io&&a.V.ss&&"nearest"!==b.tc;a.Qn=!!b.yO;a.Ii=!!b.Yj;a.hK=!!b.Sq;a.TR=!!b.UG;a.Fe=2<=b.hx?4:1;if(!Oj.has(a.ic))throw Error("invalid sampling");if(!Pj.has(a.Zi)||!Pj.has(a.$i))throw Error("invalid wrap mode");if(2<=a.Fe&&a.Ii)throw Error("invalid use of multisampling");"nearest"===a.ic&&(a.Wr=0);a.FA=a.V.kp({Fm:a.Zi,Gm:a.$i,tc:a.ic,Uw:a.Wr});Wj(a);a.rc=1}function Xj(a){return a.Lh?Math.floor(Math.log2(Math.max(a.S,a.T))+1):1}
function Zj(a){Uj.delete(a);a.Xn&&a.Xn.A();a.Qr(!1);a.Xa.destroy();a.Xa=null;a.Eq=null;a.nq=null;a.Lu=null}function ak(a){return"undefined"!==typeof HTMLImageElement&&a instanceof HTMLImageElement||a instanceof ImageData}
function bk(a,b,d=!0){if(a.Lh)ck(a,b,Xj(a),d);else{const c=a.V.yg(),e=c.createCommandEncoder(),g=c.createTexture({size:[a.S,a.T,1],mipLevelCount:1,format:a.Mp,usage:Qj.COPY_SRC|Qj.COPY_DST|Qj.RENDER_ATTACHMENT});dk(a,g,b,d);e.copyTextureToTexture({texture:g,mipLevel:0},{texture:a.Xa,mipLevel:0},[a.S,a.T,1]);c.queue.submit([e.finish()]);g.destroy()}}
function ck(a,b,d,c=!0){const e=a.V.yg(),g=e.createTexture({size:[a.S,a.T,1],mipLevelCount:Xj(a),format:a.Mp,usage:Qj.COPY_DST|Qj.COPY_SRC|Qj.TEXTURE_BINDING|Qj.RENDER_ATTACHMENT}),k=a.V.kJ(),l=k.getBindGroupLayout(0),n=a.V.kp({tc:"bilinear"}),p=e.createCommandEncoder();dk(a,g,b,c);p.copyTextureToTexture({texture:g,mipLevel:0},{texture:a.Xa,mipLevel:0},[a.S,a.T,1]);b=[];for(c=0;c<d;++c)b.push(g.createView({baseMipLevel:c,mipLevelCount:1}));c=a.S;let r=a.T;for(let w=1;w<d;++w){c/=2;r/=2;const x=Math.max(Math.floor(c),
1),z=Math.max(Math.floor(r),1),F=p.beginRenderPass({colorAttachments:[{view:b[w],loadOp:"clear",clearValue:[0,0,0,0],storeOp:"store"}]}),C=e.createBindGroup({layout:l,entries:[{binding:0,resource:n},{binding:1,resource:b[w-1]}]});F.setPipeline(k);F.setBindGroup(0,C);F.draw(4);F.end();p.copyTextureToTexture({texture:g,mipLevel:w},{texture:a.Xa,mipLevel:w},[x,z,1])}e.queue.submit([p.finish()]);g.destroy()}
function dk(a,b,d,c=!0){const [e,g]=[d.width||d.videoWidth,d.height||d.videoHeight];a.V.yg().queue.copyExternalImageToTexture({source:d},{texture:b,mipLevel:0,premultipliedAlpha:!!c},[e,g,1])}
Nj.W.ly=class{constructor(a,b){this.V=a;this.Xa=null;this.Mp="";this.Lu=this.nq=this.FA=this.Eq=null;this.T=this.S=0;this.uf=!0;this.$i=this.Zi="clamp-to-edge";this.ic="trilinear";this.Wr=0;this.Lh=!1;this.rc=0;this.TR=this.hK=this.Ii=this.Qn=!1;this.Xi=this.Fe=0;this.IF=!0;this.Xn=null;this.wM=0;if(this.CL=!!b)this.Mp=this.V.pm,this.Ii=this.Qn=!0,this.FA=this.V.kp({tc:"nearest"})}oy(a,b){if(a&&!xj(a))throw new TypeError("invalid texture source");b=Object.assign({},Rj,b);if(this.Xa)throw Error("already created texture");
this.uf=!0;if(a){const [d,c]=[a.width||a.videoWidth,a.height||a.videoHeight];this.S=d;this.T=c}else if(this.S=b.width,this.T=b.height,0>=this.S||0>=this.T)throw Error("invalid texture size");Yj(this,b);if(this.Qn||this.Ii)throw Error("static texture cannot be render target");a&&bk(this,a)}eJ(a,b,d){d=Object.assign({},Rj,d);if(this.Xa)throw Error("already created texture");this.uf=!1;this.S=a;this.T=b;Yj(this,d)}async sD(a){if(!xj(a)&&!ak(a))throw Error("invalid texture source");if(!this.Xa||0>=this.rc)throw Error("texture not created");
if(this.uf)throw Error("cannot update static texture");var b=Object.assign({},Vj,b);if(ak(a)||b.flipY||!b.premultiplyAlpha)if(a=await createImageBitmap(a,{premultiplyAlpha:b.premultiplyAlpha?"premultiply":"none",imageOrientation:b.flipY?"flipY":"none"}),!this.Xa)return;this.V.qe();const [d,c]=[a.width||a.videoWidth,a.height||a.videoHeight];if(this.S!==d||this.T!==c){Zj(this);this.S=d;this.T=c;Wj(this);var e=this.V;e.tf===this&&(Ni(e),e.Ap=this.nq,e.G|=64)}bk(this,a,b.premultiplyAlpha)}Lr(){if(0<this.rc)throw Error("texture still has references");
if(!this.Xa)throw Error("already deleted texture");Zj(this)}Qr(a){this.V.Qr(this,a)}P(){return this.CL?this.V.P():this.S}N(){return this.CL?this.V.N():this.T}Ga(){return this.V}lp(){return this.Eq}kp(){return this.FA}qr(){return"nearest"!==this.ic}nu(){return this.Ii}XB(){return this.hK}Cx(){var a=this.P()*this.N();const b=Tj.get(this.Mp);a*="number"===typeof b?b:NaN;this.Lh&&(a+=Math.floor(a/3));return a}static Td(){}static aO(){return Uj.values()}};"use strict";const ek=self.D;
function fk(a){if(null!==a.gw){var b=a.V;b.Ap===a.gw&&(Ni(b),b.Ap=(null===b.tf?b.Zn:b.tf).nq,b.zp=0,b.G|=64)}a.gw=null}
ek.W.Q0=class{constructor(a,b){if(2>b.length)throw Error("invalid multi-texture group");this.V=a;this.zG=b;this.gw=null;for(let c=0,e=b.length;c<e;++c){a=b[c];var d=c;if(a.Xn)throw Error("already in a group");a.Xn=this;a.wM=d;a.Qr(!1)}14>b.length&&this.V.MF.add(this);fk(this);b=this.V.yg();a=[];for(d=0;14>d;++d){const c=this.zG[Math.min(d,this.zG.length-1)];a.push({binding:2*d,resource:c.kp()},{binding:2*d+1,resource:c.lp()})}this.gw=b.createBindGroup({layout:this.V.ZA,entries:a})}A(){this.V.MF.delete(this);
for(const a of this.zG)a.Xn=null,a.wM=0,a.uf&&a.IF&&!a.Qn&&a.Qr(!0);fk(this);ek.I(this.zG);this.V=null}};"use strict";const gk=self.D,hk=self.cj.tl,ik={tc:"trilinear",alpha:!0,depth:!1,Yj:!0,Sq:!1,UG:!1,DB:!0,hx:0},jk=new Set;
gk.W.bJ=class{constructor(a,b){this.V=a;this.Tp=!!b;this.gd=b?Bi(a,131072):!1;this.Ze=null;this.Nn=!0;this.Fe=0;this.Vk=!1;this.bs=gk.C(gk.ub);this.Ij=hk.create();this.sF=this.vF=this.tF=0;this.Tp&&(this.Ze=gk.C(gk.W.ly,a,!0))}oy(a,b,d){d=Object.assign({},ik,d);if(this.Ze)throw Error("already created render target");this.gd=!!d.depth;this.Nn=!!d.DB;this.Fe=2<=d.hx?4:1;if(2<=this.Fe&&d.Yj)throw Error("invalid use of multisampling");this.Ze=this.V.mx(a,b,{tc:d.tc,Io:!1,yO:!0,Yj:d.Yj,Sq:d.Sq,UG:d.UG,
hx:this.Fe});this.Jr();jk.add(this)}Lr(){jk.delete(this);Zj(this.Ze);this.V=this.Ze=null}zy(a,b){if(a!==this.P()||b!==this.N()){var d=this.Ze.ic,c=this.Ze.nu(),e=this.Ze.XB();Zj(this.Ze);this.Ze=null;this.Ze=this.V.mx(a,b,{tc:d,Io:!1,yO:!0,Yj:c,Sq:e});this.Jr()}}lp(){return this.Tp?this.V.Fw:this.Ze.lp()}Jr(){Sf(this.V,this.Ij,this.P()/this.N());this.tF=this.V.xs;this.vF=this.V.lq;this.sF=this.V.Ip}P(){return this.Tp?this.V.P():this.Ze.P()}N(){return this.Tp?this.V.N():this.Ze.N()}oc(){if(this.Ze)return this.Ze;
throw Error("no texture");}Ga(){return this.V}qr(){return this.Ze.qr()}nu(){return this.Ze.nu()}XB(){return this.Ze.XB()}WP(a){a=Object.assign({},ik,a);return"nearest"!==a.tc!==this.qr()||!!a.Yj!==this.nu()||!!a.Sq!==this.XB()||!!a.depth!==this.gd?!1:"number"===typeof a.width||"number"===typeof a.height?!this.Nn&&this.P()===Math.floor(a.width)&&this.N()===Math.floor(a.height):this.Nn}static Td(){}};"use strict";
async function Aj(a){var b=8*a.pw;await a.AA.mapAsync(self.GPUMapMode.READ,0,b);b=a.AA.getMappedRange(0,b);a.ho=new BigUint64Array(b.slice(0));a.AA.destroy();a.AA=null;a.gG.destroy();a.gG=null;a.aG.destroy();a.aG=null}
self.D.W.T0=class{constructor(a,b){this.V=a;this.Vf=this.V.Vf;this.pw=b;a=this.V.yg();this.aG=a.createQuerySet({count:this.pw,type:"timestamp"});b=self.GPUBufferUsage;this.gG=a.createBuffer({size:8*this.pw,usage:b.QUERY_RESOLVE|b.COPY_SRC});this.AA=a.createBuffer({size:8*this.pw,usage:b.COPY_DST|b.MAP_READ});this.ho=null}Qx(){return null!==this.ho}Ix(){if(!this.ho)throw Error("not yet got result");return this.ho}};"use strict";const kk={vV:null,wV:null,SV:null,getTime:null,RV:null};
function mk(a,b){return a.VR?a.VR(b):[b.P(),b.N()]}self.D.W.lX=class{constructor(a){a=Object.assign({},kk,a);this.VR=a.vV;this.N1=a.wV;this.WR=a.SV;this.O1=a.getTime;this.P1=a.RV;this.Co=null;this.LJ=new Set}Td(){this.Co=null;for(const a of this.LJ)a.Td()}ik(a){return this.N1(a)}Ha(){return this.O1()}WC(a){this.P1(a)}};"use strict";
const nk=self.D,ok=self.cj.tl,Ac=nk.C(nk.Rect),pk=nk.C(nk.Rect),qk=nk.C(nk.Rect),rk=nk.C(nk.Rect),sk=ok.create(),tk=ok.create(),uk={aH:null,xV:null,eH:null,tO:!1},vk={Xw:null,nO:!1,tV:!1,DV:!1,iH:!1,zO:!1,kP:!1};
function wk(a,b,d){d=Object.assign({},vk,d);nk.I(a.Cq);a.Qu=0;a.Ru=0;a.wL=!1;a.ZE=!1;a.YE=!1;a.xL=!1;a.XE=!1;a.Et=!1;a.Vs=0;a.ML=!!d.iH;a.zo=!!d.kP;a.nA=!1;nk.Fd(a.IA,b);if(0!==b.length){if(d.Xw){if(d.Xw.length!==b.length)throw Error("incorrect indexMap length");nk.Fd(a.Aq,d.Xw)}else{nk.I(a.Aq);for(let g=0,k=b.length;g<k;++g)a.Aq.push(g)}for(var c of b)a.Qu+=c.Z1,a.Ru+=c.a2,c.z1&&(a.wL=!0),c.PN&&(a.ZE=!0),c.Ou&&(a.YE=!0),c.tK&&(a.xL=!0),c.mR()&&(a.XE=!0);a.Et=b[0].Ga().Sd()&&a.YE&&!a.xL;c=b[0];c=
d.nO||c.ur()||d.DV&&!c.Y2||c.PN&&!a.zo||0!==a.Qu||0!==a.Ru?!0:c.Ga().lj()?c.Ou&&(d.zO||d.iH)||c.mB&&d.iH:c.Ou&&!a.Et&&d.zO;var e=b.at(-1);d=d.tV?!0:e.Ga().lj()?e.Ou||e.tK:(e.Ou||e.tK)&&!a.Et;if(1!==b.length||c||d){a.Vy=!1;e=0;c&&(a.Vs=1,a.Cq.push(nk.C(nk.W.ng.oj.F_,a,-1,1)),e=1);for(let g=0,k=b.length;g<k;++g)0!==g||c?(b=1===e?2:1,g!==k-1||d||(b=0),a.Vs=Math.max(a.Vs,b),a.Cq.push(nk.C(nk.W.ng.oj.PW,a,e,b,g)),e=b):(a.Vs=1,a.Cq.push(nk.C(nk.W.ng.oj.zX,a,-1,1,g)),e=1);d&&a.Cq.push(nk.C(nk.W.ng.oj.D_,
a,e,0))}else a.Vy=!0}}function xk(a,b,d){const [c,e]=mk(a.De,b);if(0>=c||0>=e)throw Error("invalid draw size");a.Xd===c&&a.Nd===e||yk(b,c,e,0,0,a.Ij,a.lA);a.Xd=c;a.Nd=e;a.Tv.Ja(d.Lt);d.bH?a.yi.Ja(d.bH):a.yi.set(0,0,a.Xd,a.Nd);a.jl.Ja(a.yi);a.jl.Go(a.Xd,a.Nd);b=a.Sv*a.Ul;xc(a.yi,a.Qu*b,a.Ru*b);a.vq.Ja(a.yi);a.vq.Go(a.Xd,a.Nd);b=a.yi;d=a.Xd;var g=a.Nd,k;var l=k=0;d=+d;g=+g;b.la=sc.$(b.la,k,d);b.ea=sc.$(b.ea,l,g);b.wa=sc.$(b.wa,k,d);b.ra=sc.$(b.ra,l,g);a.il.Ja(a.yi);a.il.Go(a.Xd,a.Nd)}
function yk(a,b,d,c,e,g,k){c=b/2+c;e=d/2+e;Sf(a,g,b/d);a=Uf(a,c,e,a.If(d),c,e,d);ok.Ja(k,a)}function zk(a,b){ji(b);a.zo||(a.pK&&b.aC(),b.lf(!1),a.ZE&&b.vu(!0));b.Sd()&&hj(b,!0)}function Ak(a){a.vq.$(0,0,1,1)}function Bk(a,b){a.GD?a.GD(a,b,()=>a.jK(b,a)):a.jK(b,a);a.Vy||zk(a,b)}function Ck(a,b){if(a.zo)return!0;if(0!==a.nK||0!==a.oK)return!1;const [d,c]=b.Hx(b.ik());return d!==a.Xd||c!==a.Nd?!1:!0}
function Dk(a,b,d){let c=a.Ij,e=a.lA;if(d&&!Ck(a,b)){c=sk;e=tk;const [g,k]=b.Hx(b.ik());yk(b,g,k,a.nK,a.oK,c,e);a.zo||b.CI()}b.an(c);b.xu(e)}function Ek(a,b,d){var c=a.vq,e=a.il,g=a.jl;b.lj()&&(pk.Ja(c),yc(pk),c=pk,qk.Ja(e),yc(qk),e=qk,rk.Ja(g),yc(rk),g=rk);var k=1/a.Xd,l=1/a.Nd;b.cD(Fk(a,b),c,e,g,a.Tv,k,l,a.Ul,a.Sv,a.CF,a.Gc);b.bD(a.HD(a.Aq[d],b))}
function Gk(a,b,d){var c=a.il,e=a.jl,g=1/a.Xd,k=1/a.Nd;if(a.Wy){let {ZV:n,$V:p,XV:r}=a.Wy(a.yp);n||(Ac.set(0,0,0,0),n=Ac);p||(p=a.Xd);r||(r=a.Nd);e=c=n;g=1/p;k=1/r}else b.lj()&&(qk.Ja(c),yc(qk),c=qk,rk.Ja(e),yc(rk),e=rk);var l=a.vq;b.lj()&&(l=pk,l.Ja(a.vq),yc(l));b.cD(Fk(a,b),l,c,e,a.Tv,g,k,a.Ul,a.Sv,a.CF,a.Gc);b.bD(a.HD(a.Aq[d],b));b.Sd()&&a.XE&&dj(b,a.ML?1:0,b.PK.AO)}function Fk(a,b){return a.YE?b.Sd()?a.Et?a.zD:a.os.oc():a.os:null}
nk.W.ng=class{constructor(a,b){b=Object.assign({},uk,b);this.De=a;this.jK=b.aH;this.Wy=b.xV;this.HD=b.eH;this.GD=null;this.IA=[];this.Aq=[];this.Cq=[];this.nA=!1;this.Rg=0;this.ML=this.zo=this.Vy=this.pK=this.eS=this.Cp=this.Et=this.XE=this.xL=this.YE=this.ZE=this.wL=!1;this.Vs=0;this.lm=[null,null,null];this.TS=!!b.tO;this.Nd=this.Xd=this.Ru=this.Qu=0;this.yp=null;this.Tv=nk.C(nk.Rect);this.yi=nk.C(nk.Rect);this.jl=nk.C(nk.Rect);this.il=nk.C(nk.Rect);this.vq=nk.C(nk.Rect);this.Sv=this.Ul=1;this.Gc=
this.CF=0;this.zD=this.os=null;this.oK=this.nK=0;this.NN=!1;this.Ij=ok.create();this.lA=ok.create();this.De.LJ.add(this)}A(){this.De.LJ.delete(this);nk.I(this.Cq);nk.I(this.IA);nk.I(this.Aq);this.HD=this.Wy=this.jK=this.yp=null}Td(){this.nA=!0;nk.I(this.Cq);nk.I(this.IA);nk.I(this.Aq)}Cr(a,b,d){a.Sd()&&null===b&&(b=a.tj);this.os=b;this.yp=d.iO||null;this.Rg=d.Dm||0;this.Ul=d.devicePixelRatio||1;this.Sv=d.GB||1;this.CF=d.EB||0;this.Gc="number"===typeof d.time?d.time:this.De.Ha();this.Cp=!1;a.NQ();
this.wL&&this.De.WC(this);var c=!1;if(this.Et){xk(this,a,d);c=!0;var e=this.De,g=this.Xd,k=this.Nd;g=Math.floor(g);k=Math.floor(k);!e.Co||e.Co.P()===g&&e.Co.N()===k||(a.fj(e.Co),e.Co=null);null===e.Co&&(e.Co=a.Zt(null,{width:g,height:k,tc:"nearest",Io:!1}));this.zD=e.Co;Ac.Ja(this.yi);zc();a.Sd()&&Yi(a,this.os);e=this.os.oc();g=this.zD;k=Ac.la;var l=Ac.ea,n=Ac.width(),p=Ac.height(),r=g.Xi;if(0===(e.Xi&si.COPY_SRC))throw Error("source texture missing COPY_SRC usage");if(0===(r&si.COPY_DST))throw Error("destination texture missing COPY_DST usage");
if(e===g)throw Error("invalid destination");r=Math.min(e.P(),g.P());const x=Math.min(e.N(),g.N());n=Math.min(n,r-k);p=Math.min(p,x-l);0>=n||0>=p||(Si(a),zi&&Ai(`Copying texture to texture, from (${k}, ${l}), size ${n} x ${p}`),a.Kk.copyTextureToTexture({texture:e.Xa,origin:[k,l]},{texture:g.Xa,origin:[k,l]},[n,p]),a.G|=16384)}if(this.Vy){c=this.IA[0];var w=a.Ux();if(b=c.PN)a.lf(!1),a.vu(!0),this.vq.set(0,0,1,1),this.jl.set(0,0,1,1);a.rk(c);a.Me(this.Rg);a.ke(this.os);this.jl.set(0,0,1,1);if(c.mB&&
this.Wy){const {ZV:x,$V:z,XV:F}=this.Wy(this.yp);x&&this.jl.Ja(x);c=Number.isFinite(z)?1/z:0;e=Number.isFinite(F)?1/F:0}else{const [x,z]=mk(this.De,a);c=1/x;e=1/z}d.Lt?this.Tv.Ja(d.Lt):this.Tv.set(0,0,0,0);a.cD(Fk(this,a),this.vq,this.jl,this.jl,this.Tv,c,e,this.Ul,this.Sv,this.CF,this.Gc);a.bD(this.HD(this.Aq[0],a));a.Sd()&&this.XE&&dj(a,this.ML?1:0,a.PK.AO);a.Gh=0;Bk(this,a);b&&(a.vu(!1),a.lf(w))}else if(c||xk(this,a,d),0!==this.jl.width()||0!==this.jl.height()){a.by();ji(a);a.Gh=0;ag(a,0);this.GD=
d.P3||null;this.nK=d.F3||0;this.oK=d.G3||0;this.NN=!!d.l5;this.eS=a.Ux();this.pK=a.XP();this.zo?(a.lf(!1),this.ZE&&a.vu(!0)):(Ac.Ja(this.yi),a.lj()?(d=this.Sv*this.Ul,xc(Ac,Math.max(this.Qu,1)*d,Math.max(this.Ru,1)*d),zc(),Ac.$(0,0,this.Xd,this.Nd)):zc(),a.ZQ(Ac.la,Ac.ea,Ac.width(),Ac.height(),this.Nd));this.lm[0]=b;this.lm[1]=1<=this.Vs?this.De.ik(this):null;this.lm[2]=2===this.Vs?this.De.ik(this):null;for(w of this.Cq)d=w.W2,d=0>d?null:this.lm[d],b=w.zK,b=0>b?null:this.lm[b],a.Sd()?w.ay(a,d,b):
w.$x(a,d,b);a.te(null);this.lm[1]&&this.De.WR(this.lm[1],this);this.lm[2]&&this.De.WR(this.lm[2],this);this.lm.fill(null);a.vu(!1);this.pK&&a.bC();a.lf(this.eS);this.zo||a.CI();a.Sd()&&hj(a,!1);this.Cp=a.gC();this.GD=this.yp=this.zD=this.os=null}}gC(){return this.Cp}};"use strict";self.D.W.ng.oj=class{constructor(a,b,d,c=-1){this.Tf=a;this.W2=b;this.zK=d;this.xa=c}Lg(){return this.Tf}Ma(){return this.xa}Le(){return this.Lg().IA[this.Ma()]}$x(){}ay(){}};"use strict";const Hk=self.D;
Hk.W.ng.oj.F_=class extends Hk.W.ng.oj{constructor(a,b,d,c){super(a,b,d,c)}$x(a,b,d){b=this.Lg();a.by();Xf(a);a.ke(d,b.NN);a.gi(0,0,0,0);Bk(b,a);Ak(b)}ay(a,b,d){b=this.Lg();a.by();Xf(a);a.ke(d,!1);a.gi(0,0,0,0);Bk(b,a);Ak(b)}};"use strict";const Ik=self.D,Jk=Ik.C(Ik.Rect),Kk=Ik.C(Ik.yd);
Ik.W.ng.oj.D_=class extends Ik.W.ng.oj{constructor(a,b,d,c){super(a,b,d,c)}$x(a,b,d){const c=this.Lg();Xf(a);a.ke(d);Dk(c,a,!0);a.Me(c.Rg);a.te(b.oc());Kk.lh(c.yi);Jk.Ja(c.il);yc(Jk);a.Zm(Kk,Jk);c.TS&&a.nr(b)}ay(a,b,d){const c=this.Lg();Xf(a);a.ke(d,!1);Ck(c,a)?Kk.lh(c.il):(hj(a,!1),Dk(c,a,!0),Kk.lh(c.yi));Mi(a,null);a.Me(c.Rg);a.te(b.oc());c.zo?a.wx():a.Zm(Kk,c.il)}};"use strict";const Lk=self.D;
Lk.W.ng.oj.zX=class extends Lk.W.ng.oj{constructor(a,b,d,c){super(a,b,d,c)}$x(a,b,d){b=this.Lg();a.ke(d,b.NN);a.gi(0,0,0,0);a.Fr();a.rk(this.Le());Gk(b,a,this.Ma());Bk(b,a);Ak(b)}ay(a,b,d){b=this.Lg();a.ke(d,!1);a.gi(0,0,0,0);a.Fr();a.rk(this.Le());Gk(b,a,this.Ma());Bk(b,a);Ak(b)}};"use strict";const Mk=self.D,Nk=Mk.C(Mk.Rect),Ok=Mk.C(Mk.yd);
Mk.W.ng.oj.PW=class extends Mk.W.ng.oj{constructor(a,b,d,c){super(a,b,d,c)}$x(a,b,d){const c=this.Lg();a.ke(d);(d=0===this.zK)?a.Me(c.Rg):(a.gi(0,0,0,0),a.Fr());a.rk(this.Le());Ek(c,a,this.Ma());a.te(b.oc());Dk(c,a,d);Ok.lh(c.yi);Nk.Ja(c.il);yc(Nk);a.Zm(Ok,Nk);c.TS&&a.nr(b)}ay(a,b,d){const c=this.Lg();a.ke(d,!1);0===this.zK?(a.Me(c.Rg),Mi(a,null),Ck(c,a)?Ok.lh(c.il):(hj(a,!1),Dk(c,a,!0),Ok.lh(c.yi))):(a.gi(0,0,0,0),a.Fr(),Ok.lh(c.il));a.rk(this.Le());Ek(c,a,this.Ma());a.te(b.oc());c.zo?a.wx():a.Zm(Ok,
c.il)}};"use strict";const Pk=self.Gf;let Qk=null;const Rk=new Set;let Sk=!1,Tk=!1;
self.uY=class{constructor(a){Qk=a;Object.defineProperties(this,{f4:{value:{},writable:!1},storage:{value:new self.xY,writable:!1},Cha:{value:Qk.Ld(),writable:!1}});Qk.Cf.addEventListener("keydown",b=>{Rk.has(b.key)?b.stopPropagation():Rk.add(b.key)});Qk.Cf.addEventListener("keyup",b=>Rk.delete(b.key));Qk.sb().addEventListener("window-blur",()=>Rk.clear());Qk.Ld()&&(self.alert=b=>{Sk||(Sk=!0,console.warn("[Construct] alert() was called from a Web Worker, because the project 'Use worker' setting is enabled. This method is not normally available in a Web Worker. Construct has implemented the alert for you, but note that other features may be missing in worker mode. You may wish to disable 'Use worker', or use a more convenient function like console.log(). For more information please refer to the scripting section of the manual."));return this.alert(b)})}addEventListener(a,
b){Qk.Cf.addEventListener(a,b)}removeEventListener(a,b){Qk.Cf.removeEventListener(a,b)}get pV(){return Uk(Qk)}get hha(){return Vk(Qk)}get fP(){return Qk.de}set fP(a){Pk.Ud(a);Qk.jy(a)}get V3(){Tk||(console.warn("IRuntime.fps is deprecated. Use IRuntime.framesPerSecond instead."),Tk=!0);return Qk.uv}get framesPerSecond(){return Qk.uv}random(){return Qk.rw()}get layout(){const a=Qk.Vb();if(!a)throw Error("no layout is running - make sure a layout is loaded before accessing");return a.Hz}get keyboard(){const a=
Qk.Yu.keyboard;if(!a)throw Error("runtime.keyboard used but Keyboard object missing - add it to your project first");return a}get GO(){const a=Qk.Yu.GO;if(!a)throw Error("runtime.mouse used but Mouse object missing - add it to your project first");return a}get hP(){const a=Qk.Yu.hP;if(!a)throw Error("runtime.touch used but Touch object missing - add it to your project first");return a}get eW(){const a=Qk.Yu.eW;if(!a)throw Error("runtime.timelineController used but Timeline Controller object missing - add it to your project first");
return a}alert(a){return Wk(Qk,"runtime","alert",{message:a+(Qk.Ld()?" [via Web Worker]":"")})}};"use strict";self.hY=class{constructor(){}};"use strict";let Xk=null;self.kY=class{constructor(a){Xk=a;Object.defineProperties(this,{Kg:{value:Xk.K(),writable:!1}})}};"use strict";const Yk=self.Gf;
self.xY=class{constructor(){Qk.VM||(Qk.VM=localforage.jO({name:"c3-localstorage-"+Qk.WM,description:Qk.ZF}));this.XA=Qk.VM}getItem(a){Yk.kf(a);return this.XA.getItem(a)}setItem(a,b){Yk.kf(a);return this.XA.setItem(a,b)}removeItem(a){Yk.kf(a);return this.XA.removeItem(a)}clear(){return this.XA.clear()}keys(){return this.XA.keys()}};"use strict";const Zk=self.Gf,$k=new WeakMap;
self.Rx=class{constructor(a){$k.set(this,a);Object.defineProperties(this,{name:{value:a.ua(),writable:!1}});a.K().vL.set(this,a)}addEventListener(a,b){Zk.kf(a);Zk.Jl(b);$k.get(this).Cf.addEventListener(a,b)}removeEventListener(a,b){Zk.kf(a);Zk.Jl(b);$k.get(this).Cf.removeEventListener(a,b)}*AB(){for(const a of al($k.get(this)))yield bl(a)}jO(a){Zk.yh(void 0);Zk.yh(void 0);if("number"!==typeof a&&"string"!==typeof a)throw new TypeError("invalid layer parameter");var b=$k.get(this);const d=b.K();a=
d.Vb().fa(a);if(!a)throw Error("invalid layer");b=cl(d,b,a);a=d.Ea();dl(a,!0);el(b);dl(a,!1);fl(a)||0<d.ib.Ks||gl(d);return bl(b)}};"use strict";const hl=self.Gf,il=new WeakMap;
self.pY=class{constructor(a){il.set(this,a);const b=[],d=a.Va,c=d.hi().length;for(let e=0;e<c;++e)b.push(new self.eI(d,e));Object.defineProperties(this,{name:{value:a.ua(),writable:!1},index:{value:a.Ma(),writable:!1},rV:{value:b,writable:!1}})}addEventListener(a,b){hl.kf(a);hl.Jl(b);il.get(this).Cf.addEventListener(a,b)}removeEventListener(a,b){hl.kf(a);hl.Jl(b);il.get(this).Cf.removeEventListener(a,b)}get width(){return il.get(this).P()}set width(a){hl.Ud(a);il.get(this).Of(a)}get height(){return il.get(this).N()}set height(a){hl.Ud(a);
il.get(this).ug(a)}getSize(){const a=il.get(this);return[a.P(),a.N()]}set scale(a){hl.Ud(a);il.get(this).OI(a)}get scale(){return il.get(this).ne}set angle(a){hl.Ud(a);il.get(this).ad(a)}get angle(){return il.get(this).Na()}set scrollX(a){hl.yh(a);il.get(this).tk(a)}get scrollX(){return il.get(this).vh()}set scrollY(a){hl.yh(a);il.get(this).uk(a)}get scrollY(){return il.get(this).wh()}scrollTo(a,b){hl.yh(a);hl.yh(b);const d=il.get(this);d.tk(a);d.uk(b)}*Tw(){for(const a of il.get(this).Tw())yield a.IE}set PV(a){hl.kf(a);
const b=il.get(this);if("perspective"===a)jl(b);else if("orthographic"===a)kl(b);else throw Error("invalid projection");}get PV(){return il.get(this).Zg?"orthographic":"perspective"}};"use strict";const ll=self.D,ml=self.Gf,nl=new WeakMap,ol=new Map([["normal",0],["additive",1],["copy",3],["destination-over",4],["source-in",5],["destination-in",6],["source-out",7],["destination-out",8],["source-atop",9],["destination-atop",10]]),pl=new Map([...ol.entries()].map(a=>[a[1],a[0]])),ql=ll.C(ll.ub);
self.nY=class{constructor(a){nl.set(this,a);const b=[],d=a.Va,c=d.hi().length;for(let e=0;e<c;++e)b.push(new self.eI(d,e));Object.defineProperties(this,{name:{value:a.ua(),writable:!1},layout:{value:a.zc().Hz,writable:!1},rV:{value:b,writable:!1}})}*KB(){for(const a of nl.get(this).KB())yield a.IE}get index(){return nl.get(this).Ma()}get isVisible(){return nl.get(this).Kv}set isVisible(a){nl.get(this).Ah(a)}get hH(){return nl.get(this).Hv}set hH(a){nl.get(this).Hv=!!a}get gH(){return nl.get(this).Ms}set gH(a){rl(nl.get(this),
!!a)}get opacity(){return nl.get(this).nc()}set opacity(a){a=ll.$(+a,0,1);isNaN(a)||nl.get(this).Ne(a)}set scale(a){ml.Ud(a);sl(nl.get(this),a)}get scale(){return nl.get(this).ne}set mH(a){ml.Ud(a);tl(nl.get(this),a)}get mH(){return nl.get(this).Mj}set angle(a){ml.Ud(a);nl.get(this).ad(a)}get angle(){return nl.get(this).Qf}set vl(a){ml.Ud(a);nl.get(this).xg(a)}get vl(){return nl.get(this).eb()}set jH(a){ul(nl.get(this),a)}get jH(){return nl.get(this).Yk}set fH(a){vl(nl.get(this),a)}get fH(){return nl.get(this).eF}set Dm(a){ml.kf(a);
a=ol.get(a);if("number"!==typeof a)throw Error("invalid blend mode");nl.get(this).Me(a)}get Dm(){return pl.get(nl.get(this).zl())}set backgroundColor(a){ml.FI(a);if(3>a.length)throw Error("expected 3 elements");ec(ql,a[0],a[1],a[2]);a=nl.get(this);const b=a.pn;ic(b,ql)||(gc(b,ql),a.K().qa())}get backgroundColor(){const a=nl.get(this).pn;return[a.kb,a.Ra,a.hb]}set scrollX(a){ml.yh(a);const b=nl.get(this);wl(b,!0);b.tk(a)}get scrollX(){return nl.get(this).vh()}set scrollY(a){ml.yh(a);const b=nl.get(this);
wl(b,!0);b.uk(a)}get scrollY(){return nl.get(this).wh()}scrollTo(a,b){ml.yh(a);ml.yh(b);const d=nl.get(this);wl(d,!0);d.tk(a);d.uk(b)}};"use strict";const xl=self.D,yl=self.Gf,zl=new WeakMap,Al=new WeakMap;function Bl(a){let b=Al.get(a);if(b)return b;b=xl.C(xl.Event.sb);Al.set(a,b);return b}let Cl=null;
self.lk=class{constructor(){zl.set(this,Cl);const a={Kg:{value:Cl.K().Tk,writable:!1},MO:{value:Cl.J().Iz,writable:!1},uid:{value:Cl.Sb,writable:!1}};var b=Cl;if(0!==b.Eg.length){var d={},c=Dl(b.Ye);for(let g=0,k=c.length;g<k;++g)d[c[g]]={configurable:!1,enumerable:!0,get:El.Instance.prototype.j1.bind(b,g),set:El.Instance.prototype.fp.bind(b,g)};b=Object.create(Object.prototype,d);a.Aha={value:b,writable:!1}}b=Cl.zd;if(0!==b.length){d={};for(var e of b)d[e.qh().fk()]={value:e.gu(),writable:!1};e=
Object.create(Object.prototype,d);a.uB={value:e,writable:!1}}Object.defineProperties(this,a);Cl.K().vL.set(this,Cl)}static Bk(a){Cl=a}static zk(){return Cl}yy(){const a=Al.get(this);a&&(a.A(),Al.delete(this));zl.delete(this)}addEventListener(a,b,d){yl.kf(a);yl.Jl(b);Bl(this).addEventListener(a,b,d)}removeEventListener(a,b,d){yl.kf(a);yl.Jl(b);Bl(this).removeEventListener(a,b,d)}dispatchEvent(a){Bl(this).dispatchEvent(a)}Jt(){const a=zl.get(this),b=a.K();Fl(b,a);fl(b.Ea())||0<b.ib.Ks||0<b.Ea().Sy||
gl(b)}set fP(a){yl.Ud(a);zl.get(this).jy(a)}get fP(){var a=zl.get(this);const b=a.de;return-1===b?a.K().de:b}};"use strict";const Gl=self.D,Hl=self.Gf,Il=self.lk,Jl=new WeakMap,Kl=new Map([["normal",0],["additive",1],["copy",3],["destination-over",4],["source-in",5],["destination-in",6],["source-out",7],["destination-out",8],["source-atop",9],["destination-atop",10]]),Ll=new Map([...Kl.entries()].map(a=>[a[1],a[0]]));Gl.C(Gl.ub);
self.DC=class a extends Il{constructor(){super();var b=Il.zk();Jl.set(this,b);const d=[];var c=b.B();if(b=c.Wf){c=c.J().Va.hi().length;for(let e=0;e<c;++e)d.push(new self.eI(b,e))}Object.defineProperties(this,{rV:{value:d,writable:!1}})}get layout(){return Jl.get(this).B().zc().Hz}get Kt(){return Jl.get(this).B().fa().IE}get x(){return Jl.get(this).B().X()}set x(b){b=+b;const d=Jl.get(this).B();isNaN(b)||d.X()===b||(d.Pg(b),U(d))}get y(){return Jl.get(this).B().Y()}set y(b){b=+b;const d=Jl.get(this).B();
isNaN(b)||d.Y()===b||(d.Bh(b),U(d))}setPosition(b,d){b=+b;d=+d;const c=Jl.get(this).B();isNaN(b)||isNaN(d)||c.X()===b&&c.Y()===d||(Ml(c,b,d),U(c))}get vl(){return Jl.get(this).B().eb()}set vl(b){b=+b;const d=Jl.get(this),c=d.B();isNaN(b)||c.eb()===b||(c.xg(b),d.K().qa())}get width(){return Jl.get(this).B().P()}set width(b){b=+b;const d=Jl.get(this).B();isNaN(b)||d.P()===b||(d.Of(b),U(d))}get height(){return Jl.get(this).B().N()}set height(b){b=+b;const d=Jl.get(this).B();isNaN(b)||d.N()===b||(d.ug(b),
U(d))}getSize(){const b=Jl.get(this).B();return[b.P(),b.N()]}get angle(){return Jl.get(this).B().Na()}set angle(b){b=Gl.Ed(+b);const d=Jl.get(this).B();isNaN(b)||d.Na()===b||(d.ad(b),U(d))}rO(){var b=Nl(Jl.get(this).B());new DOMRect(b.la,b.ea,b.width(),b.height())}get isVisible(){return Jl.get(this).B().Md()}set isVisible(b){b=!!b;const d=Jl.get(this),c=d.B();c.Md()!==b&&(c.Ah(b),d.K().qa())}get opacity(){return Jl.get(this).B().nc()}set opacity(b){b=Gl.$(+b,0,1);const d=Jl.get(this),c=d.B();isNaN(b)||
c.nc()===b||(c.Ne(b),d.K().qa())}set Dm(b){Hl.kf(b);b=Kl.get(b);if("number"!==typeof b)throw Error("invalid blend mode");const d=Jl.get(this);d.B().Me(b);d.K().qa()}get Dm(){return Ll.get(Jl.get(this).B().zl())}get zIndex(){return Ol(Jl.get(this).B())}jh(b,d){Hl.yh(b);Hl.yh(d);return Pl(Jl.get(this).B(),+b,+d)}getParent(){const b=Jl.get(this).La();return b?bl(b):null}*ix(){for(const b of Jl.get(this).ix())yield bl(b)}*children(){for(const b of Jl.get(this).children())yield bl(b)}*Vj(){for(const b of Jl.get(this).Vj())yield bl(b)}removeChild(b){Hl.GI(b,
a);const d=Jl.get(this);b=Jl.get(b);d.Il(b)}};"use strict";const Ql=new WeakMap;self.x8=class extends self.DC{constructor(){super();Ql.set(this,self.lk.zk())}focus(){Rl(Ql.get(this).oa,{focus:!0})}blur(){Rl(Ql.get(this).oa,{focus:!1})}};"use strict";const Sl=self.D,Tl=self.Gf,Ul=new WeakMap,Vl=new WeakMap;function Wl(a){let b=Vl.get(a);if(b)return b;b=Sl.C(Sl.Event.sb);Vl.set(a,b);return b}let Xl=null;
self.lr=class{constructor(){Ul.set(this,Xl);var a={value:Xl.K().Tk,writable:!1},b=Xl.Lm();if(null===b.Gz){const d=b.U2;if(d){if(b.Gz=new d(b),!(b.Gz instanceof Yl))throw new TypeError("script interface class must derive from IBehavior");}else b.Gz=new Yl(b)}Object.defineProperties(this,{Kg:a,behavior:{value:b.Gz,writable:!1}})}static Bk(a){Xl=a}static zk(){return Xl}get instance(){return bl(Ul.get(this).L)}yy(){const a=Vl.get(this);a&&(a.A(),Vl.delete(this));Ul.delete(this)}addEventListener(a,b,d){Tl.kf(a);
Tl.Jl(b);Wl(this).addEventListener(a,b,d)}removeEventListener(a,b,d){Tl.kf(a);Tl.Jl(b);Wl(this).removeEventListener(a,b,d)}dispatchEvent(a){Wl(this).dispatchEvent(a)}};"use strict";const Zl=new WeakMap;self.jY=class{constructor(a){Zl.set(this,a);Object.defineProperties(this,{Kg:{value:a.K().Tk,writable:!1}})}};"use strict";const $l=self.D,am=self.Gf,bm=new WeakMap;$l.C($l.ub);
self.eI=class{constructor(a,b){bm.set(this,a);Object.defineProperties(this,{index:{value:b,writable:!1}})}get name(){return bm.get(this).hi()[this.index].ua()}get isActive(){return bm.get(this).So(this.index)}set isActive(a){a=!!a;const b=bm.get(this);b.So(this.index)!==a&&(b.KI(this.index,a),b.Dh(),b.K().qa())}getParameter(a){am.Ud(a);a=Math.floor(+a);a=bm.get(this).MP(this.index,a);if(null===a)throw new RangeError("invalid index");return a instanceof $l.ub?[a.kb,a.Ra,a.hb]:a}};"use strict";
const cm=new WeakMap;self.fY=class{constructor(a){cm.set(this,a);Object.defineProperties(this,{name:{value:a.ua(),writable:!1}})}get speed(){return cm.get(this).kk()}get GV(){return cm.get(this).Tz}get Qia(){return cm.get(this).ji()}get frameCount(){return dm(cm.get(this))}*frames(){for(const a of cm.get(this).Zd)yield a.g2}};"use strict";const em=new WeakMap;
self.RP=class{constructor(a){em.set(this,a)}get width(){return em.get(this).P()}get height(){return em.get(this).N()}getSize(){const a=em.get(this);return[a.P(),a.N()]}};"use strict";const fm=new WeakMap;self.gY=class extends self.RP{constructor(a){super(a.xd());fm.set(this,a);Object.defineProperties(this,{duration:{value:a.nz,writable:!1}})}get tag(){return fm.get(this).fg}};"use strict";const gm=self.Gf,hm=new WeakMap;
function im(a){a=hm.get(a);if(a.Ie)throw Error("timeline/tween was released and is no longer valid");return a}
self.SP=class{constructor(a){hm.set(this,a);a.K().vL.set(this,a)}pause(){im(this).ue()}resume(){var a=im(this);a.Ie||jm(a)&&a.Play(!0)}stop(){im(this).Yb()}set time(a){gm.Ud(a);im(this).Hr(a)}get time(){return im(this).Ha()}set totalTime(a){gm.Ud(a);im(this).RI(a)}get totalTime(){return im(this).$c()}set GV(a){im(this).MI(!!a)}get GV(){return im(this).hr()}set playbackRate(a){gm.Ud(a);im(this).nj(a)}get playbackRate(){return im(this).kd}get progress(){const a=im(this);return a.Ha()/a.$c()}get bW(){return im(this).yC()}get finished(){return km(im(this))}get Dha(){return im(this).IsPlaying()}};
"use strict";const lm=new WeakMap;self.z8=class extends self.SP{constructor(a){super(a);lm.set(this,a);Object.defineProperties(this,{name:{value:a.ua(),writable:!1}})}};"use strict";const mm=new WeakMap,nm=new WeakMap;let om=null;function pm(a){a=mm.get(a);if(a.Ie)throw Error("tween was released and is no longer valid");return a}
self.A8=class extends self.SP{constructor(a,b,d){super(a);om||(om=d.Pga);mm.set(this,a);b&&nm.set(this,b)}stop(){const a=pm(this);nm.get(this).nba(a)}get instance(){const a=pm(this).ja();return a?bl(a):null}get value(){const a=pm(this);if("value"!==a.hj())throw Error("not a value tween");return a.Qd("value").Kb().nd()}};"use strict";
const qm=self.D,rm=new Set(["local","remote"]),sm=new Map([["mp4","video/mp4"],["webm","video/webm"],["m4a","audio/mp4"],["mp3","audio/mpeg"],["js","application/javascript"],["wasm","application/wasm"],["svg","image/svg+xml"],["html","text/html"]]);function tm(a){const b=qm.C(qm.Event,"loadingprogress");a.uF=qm.$(a.Jy/a.fB,0,1);b.progress=a.uF;a.j.sb().dispatchEvent(b)}function um(a,b){a.Ei=b;if("flat"===b){b=new Map;for(const [d,c]of a.Zv.entries())b.set(d.toLowerCase(),c);a.Zv=b}}
function vm(a,b){"flat"===a.Ei&&(b=b.toLowerCase());return a.Zv.has(b)}function wm(a,b){"flat"===a.Ei&&(b=b.toLowerCase());return a.Zv.get(b)||null}function xm(a,b){"flat"===a.Ei&&(b=b.toLowerCase());if(!vm(a,b))return b;var d=a.Yv.get(b);d||(d=wm(a,b),d=URL.createObjectURL(d),a.Yv.set(b,d));return d}async function ym(a,b){a=await zm(a,b,"buffer");b?(b=b.split("."),2>b.length?b="":(b=b.at(-1).toLowerCase(),b=sm.get(b)||"")):b="";return new Blob([a],{type:b})}
function zm(a,b,d){"flat"===a.Ei&&(b=b.toLowerCase());return Wk(a.j,"runtime","cordova-fetch-local-file",{filename:b,as:d})}async function Am(a,b){"flat"===a.Ei&&(b=b.toLowerCase());var d=a.Yv.get(b);if(d)return d;d=await ym(a,b);d=URL.createObjectURL(d);a.Yv.set(b,d);return d}function Bm(a,b){"flat"===a.Ei&&(b=b.toLowerCase());b=a.zT+b;return vm(a,b)?xm(a,b):b}
function Cm(a,b){if(qm.FC(b))return Promise.resolve(b);if(vm(a,b))return Promise.resolve(xm(a,b));if(a.aF&&a.Up)return Am(a,b);"flat"===a.Ei&&(b=b.toLowerCase());return Promise.resolve(b)}async function Dm(a){try{await Promise.all(a.FF),a.uF=1}catch(b){console.error("Error loading: ",b),a.dL=!0,tm(a)}}
async function Em(a){const b=[],d=[];for(const [c,e,g]of a.WN)a.fB+=g,b.push(Fm(a,c,e,d).then(()=>{a.Jy+=g;he(a.qT)}));await Promise.all(b);a.j.Ld()&&0<d.length&&await Wk(a.j,"runtime","load-webfonts",{webfonts:d})}async function Fm(a,b,d,c){try{const e=await Cm(a,d),g=new FontFace(b,`url('${e}')`);a.j.Ld()?self.fonts.add(g):document.fonts.add(g);await g.load();a.j.Ld()&&c.push({name:b,url:e})}catch(e){console.warn(`[C3 runtime] Failed to load web font '${b}': `,e)}}
function Gm(a,b,d){a.QT=!!d;for(const [c,e,g]of b)a.UJ.set(c,{fileName:c,U3:e.map(k=>({type:k[0],Tga:k[1],uV:c+k[1],fileSize:k[2]})),r4:g})}function Hm(a,b){"flat"===a.Ei&&(b=b.toLowerCase());b=a.UJ.get(b);if(!b)return null;let d=null;for(const c of b.U3)if(d||"audio/webm; codecs=opus"!==c.type||(d=c),a.sU[c.type])return c;return d}function Im(a,b){return(b=Hm(a,b))?{url:Bm(a,b.uV),type:b.type}:null}
function Jm(a){if(a.QT){const b=[];for(const d of a.UJ.values()){if(d.r4)continue;const c=Hm(a,d.fileName);c&&b.push({J4:d.fileName,url:Bm(a,c.uV),type:c.type,fileSize:c.fileSize})}return b}return[]}
qm.JW=class extends qm.Ca{constructor(a,b){super();var d=b.exportType;this.j=a;this.Ei="folders";this.Zv=new Map;this.Yv=new Map;this.F2=new Map;this.aF="cordova"===d;this.OL=!!b.isiOSCordova;this.Up=!!b.isFileProtocol;this.sU=b.supportedAudioFormats||{};this.UJ=new Map;this.QT=!1;this.NS=this.zT="";this.ZD="html5"===d||"scirra-arcade"===d||"instant-games"===d?"remote":"local";this.Ky=new Map;this.WN=[];this.FF=[];this.GS=!1;this.uF=this.Jy=this.fB=0;this.dL=!1;this.qT=qm.C(qm.H_,()=>tm(this),50);
this.jM=qm.C(qm.RC,Math.max(qm.hardwareConcurrency,8));this.$M=qm.C(qm.RC,20);if(a=b.previewImageBlobs){(d=b.previewProjectFileBlobs)&&Object.assign(a,d);(d=b.projectData)&&(a["data.json"]=d);for(const [c,e]of Object.entries(a))this.Zv.set(c,e)}if(b=b.previewProjectFileSWUrls)for(const [c,e]of Object.entries(b))this.F2.set(c,e);new self.hY}A(){this.Zv.clear();for(const a of this.Yv.values())a.startsWith("blob:")&&URL.revokeObjectURL(a);this.Yv.clear();for(const a of this.Ky.values())a.A();this.Ky.clear();
qm.I(this.FF);this.j=null}K(){return this.j}Km(a,b){b=b||this.ZD;const d=wm(this,a);return d?Promise.resolve(d):qm.mu(a)?("flat"===this.Ei&&(a=a.toLowerCase()),this.aF&&this.Up?ym(this,a):"local"===b?this.jM.Tb(()=>qm.Km(a)):this.$M.Tb(()=>qm.Km(a))):qm.Km(a)}tx(a){const b=wm(this,a);return b?qm.OW(b):qm.mu(a)?("flat"===this.Ei&&(a=a.toLowerCase()),this.aF&&this.Up?zm(this,a,"buffer"):"local"===this.ZD?this.jM.Tb(()=>qm.tx(a)):this.$M.Tb(()=>qm.tx(a))):qm.tx(a)}ux(a){const b=wm(this,a);return b?qm.rP(b):
qm.mu(a)?("flat"===this.Ei&&(a=a.toLowerCase()),this.aF&&this.Up?zm(this,a,"text"):"local"===this.ZD?this.jM.Tb(()=>qm.ux(a)):this.$M.Tb(()=>qm.ux(a))):qm.ux(a)}async HP(a){a=await this.ux(a);return JSON.parse(a)}KC(a){if(a.ax&&!rm.has(a.ax))throw Error("invalid load policy");let b=this.Ky.get(a.url);if(b)return b;b=qm.C(qm.fI,this,{url:a.url,size:a.size||0,ax:a.ax||this.ZD});this.Ky.set(b.Wi,b);this.GS||(this.fB+=b.li(),this.FF.push(b.oI().then(()=>{var d=b.li();this.Jy+=d;he(this.qT)})));return b}async gQ(a){a=
await Cm(this,a);return await Wk(this.j,"runtime","add-stylesheet",{url:a})}};"use strict";const Km=self.D;function Lm(a){return a.Pu?Promise.resolve(a.Pu):a.fm?a.fm:a.pb.Km(a.Wi,a.fM)}
Km.IW=class extends Km.Ca{constructor(a,b){super();this.pb=a;this.j=a.K();this.Wi=b.url||"";this.om=b.size;this.fM=b.ax;this.Pu=b.blob||null;this.IL=!!this.Pu;this.fm=null}A(){this.Pu=this.j=this.pb=this.fm=null}li(){return this.om}oI(){return"local"===this.fM||this.Pu?(this.IL=!0,Promise.resolve()):this.fm?this.fm:this.fm=this.pb.Km(this.Wi,this.fM).then(a=>{this.IL=!0;this.fm=null;return this.Pu=a}).catch(a=>{console.error("Error loading resource: ",a);this.fm=null})}HC(){return this.IL}};"use strict";
const Mm=self.D,Nm=new Mm.RC,Om=new Set;async function Pm(a,b,d){try{const c=await Lm(a);return 0===a.rc?null:await Nm.Tb(async()=>{const e=await b.nx(c,d);a.xt=null;if(0===a.rc)return b.fj(e),null;a.ym=e;a.QS=e.P();a.OS=e.N();return a.ym})}catch(c){throw console.error("Failed to load texture: ",c),c;}}async function Qm(a){a=await Lm(a);return Mm.vb.ImageBitmap?await createImageBitmap(a):await Mm.qP(a)}
Mm.fI=class extends Mm.IW{constructor(a,b){super(a,b);this.ym=this.xt=null;this.rc=0;this.OS=this.QS=-1;Om.add(this)}A(){if(0!==this.rc)throw Error("released image asset which still has texture references");this.pb.Ky.delete(this.Wi);this.xt=null;Om.delete(this);super.A()}static ru(){for(const a of Om)a.xt=null,a.ym=null,a.rc=0}Vm(a,b){b=b||{};this.rc++;if(this.ym)return Promise.resolve(this.ym);if(this.xt)return this.xt;b.Uw=this.j.ca.uU;return this.xt=Pm(this,a,b)}qk(){if(0>=this.rc)throw Error("texture released too many times");
this.rc--;0===this.rc&&this.ym&&(this.ym.Ga().fj(this.ym),this.ym=null)}oc(){return this.ym}P(){return this.QS}N(){return this.OS}};"use strict";const Rm=self.D;function Sm(a,b){return a.B().aj-b.B().aj}function Tm(a){a.Oz&&(a.M.length===a.el.size?a.Yb():(Rm.$h(a.M,a.el),a.el.clear(),a.Oz=!1))}
Rm.J_=class extends Rm.Ca{constructor(a,b,d){super();this.ka=b;this.aa=d;this.M=[];this.Vz=!0;this.el=new Set;this.Oz=!1}A(){Rm.I(this.M);this.el.clear()}Yb(){Rm.I(this.M);this.Vz=!0;this.el.clear();this.Oz=!1}nk(){if(!this.M.length)return!0;if(this.M.length>this.el.size)return!1;Tm(this);return!0}gI(a){this.el.has(a)?(this.el.delete(a),0===this.el.size&&(this.Oz=!1)):(this.M.push(a),this.Vz=1===this.M.length)}xh(a){this.el.add(a);this.Oz=!0;50<=this.el.size&&Tm(this)}LH(a){Tm(this);this.Vz||(this.M.sort(Sm),
this.Vz=!0);this.M.length&&a.push(this.M)}};"use strict";const Um=self.D;
Um.K_=class extends Um.Ca{constructor(a,b){super();this.JD=a;this.ID=b;this.xj=Um.C(Um.Xx)}A(){this.xj.A();this.xj=null}Po(a,b,d){let c=this.xj.ba(a,b);return c?c:d?(c=Um.C(Um.J_,this,a,b),this.xj.Set(a,b,c),c):null}wk(a){return Math.floor(a/this.JD)}xk(a){return Math.floor(a/this.ID)}fn(a,b,d){if(b)for(let c=b.la,e=b.wa;c<=e;++c)for(let g=b.ea,k=b.ra;g<=k;++g){if(d&&d.jh(c,g))continue;const l=this.Po(c,g,!1);l&&(l.xh(a),l.nk()&&this.xj.br(c,g))}if(d)for(let c=d.la,e=d.wa;c<=e;++c)for(let g=d.ea,
k=d.ra;g<=k;++g)b&&b.jh(c,g)||this.Po(c,g,!0).gI(a)}TC(a,b){let d=this.wk(a.la);const c=this.xk(a.ea),e=this.wk(a.wa);for(a=this.xk(a.ra);d<=e;++d)for(let g=c;g<=a;++g){const k=this.Po(d,g,!1);k&&k.LH(b)}}};"use strict";const V=self.D,Vm=new V.Rect,Wm=new V.yd,Xm=[];new V.Rect;new V.Rect;const Ym=self.cj,Zm=Ym.tH,$m=Ym.QB,an=Ym.tl;an.create();const bn=Zm.create(),cn=$m.create(),dn=Zm.create(),en=Zm.create(),fn=Zm.create(),gn=V.C(V.Bu);V.C(V.Rect);function hn(a,b){return a.B().aj-b.B().aj}
function jn(a,b){return a.B().eb()-b.B().eb()}const kn=[],ln=[],mn=[],sn={name:"",Ot:-1,wO:!1,isVisible:!0,hH:!0,gH:!1,backgroundColor:[1,1,1,1],jH:!0,SO:[1,1],opacity:1,fH:!1,TV:!1,kW:!1,lW:!1,mH:1,Dm:0,vl:0,BV:[],qV:[],aW:[]};
function tn(a,b,d=!1){if(a.M.includes(b))d&&a.M.sort((g,k)=>{g=un(g.B());k=un(k.B());return g-k});else if(b.jf()){var c=[...b.Vj()];c.push(b);c.sort((g,k)=>{g=un(g.B());k=un(k.B());return g-k});for(var e of c)if(e.Hc())for(const g of e.vd)c.includes(g)||(b=[...g.Vj()],b.push(g),b.sort((k,l)=>{k=un(k.B());l=un(l.B());return k-l}),b&&b.length&&c.splice(c.length,0,...b));for(const g of c)g.nb().$d&&a.ri(g,!0)}else if(b.nb().$d&&a.ri(b,!0),b.Hc())for(c of b.vd)if(e=[...c.Vj()],e.push(c),e.sort((g,k)=>
{g=un(g.B());k=un(k.B());return g-k}),e&&e.length)for(const g of e)g.nb().$d&&a.ri(g,!0)}function rl(a,b){b=!!b;a.Ms!==b&&(a.Ms=b,vn(a.Qh),a.j.qa())}function sl(a,b){a.ne!==b&&(a.ne=b,wn(a.Qh),xn(a),a.j.qa())}function tl(a,b){a.Mj!==b&&(a.Mj=b,xn(a),a.j.qa())}function ul(a,b){b=!!b;a.Yk!==b&&(a.Yk=b,a.j.qa())}function vl(a,b){b=!!b;a.eF!==b&&(a.eF=b,a.j.qa())}function wl(a,b){b=!!b;if(a.En!==b){if(a.En=b)b=a.zc(),a.Nj=b.vh(),a.Oj=b.wh();xn(a);a.j.qa()}}function yn(a){a.XF.Ja(a.Kc);lc(a.XF)}
function zn(a){return a.i3&&!a.EU}function An(a,b,d){return V.C(V.nI,a,b,{name:d[0],Ot:d[2],isVisible:d[3],hH:d[13],gH:d[19],backgroundColor:d[4].map(c=>c/255),jH:d[5],SO:[d[6],d[7]],opacity:d[8],fH:d[9],TV:d[17],kW:d[18],lW:d[10],mH:d[11],Dm:d[12],vl:d[16],BV:d[14],qV:d[15],aW:d[20]})}function Bn(a){for(const b of a.RS){const d=Cn(a.j,b[1]);Dn(a.Qh,d);d.ns||(d.ns=b);a.dm.push(b);a.nL.set(b[2],b)}V.Fd(a.qU,a.dm);a.RS=null}function En(a,b){a.ZN=!1;a.lF=!1;if(!b||b.J().nb().XS)a.hL=!1}
function Fn(a,b){if(b){b=new Set;for(var d of a.M){var c=d.B().aj;0<=c&&b.add(c)}d=-1;for(const e of a.M)if(c=e.B(),!(0<=c.aj)){for(++d;b.has(d);)++d;c.aj=d|0}}a.M.sort(hn)}function*Gn(a){yield a;yield*a.KB()}function Hn(a){for(const b of Gn(a))if(!b.Hv)return!1;return!0}function xn(a){a.JL=!0;a.Xz=!0;a.Yz=!0}
function In(a){if(a.Yz){a.Yz=!1;var b=a.j.QF,d=a.j.RF,c=(a.vh()-b)*a.xf+b,e=(a.wh()-d)*a.yf+d;b=Jn(a);d=a.j.jg/b;b=a.j.df/b;c-=d/2;var g=e-b/2;a.j.On&&(c=Math.round(c),g=Math.round(g));e=a.OU;e.set(c,g,c+d,g+b);d=a.Na();0!==d&&(Vm.Ja(e),Vm.offset(-e.bx(),-e.gx()),Fc(Wm,Vm,d),Wm.rO(Vm),Vm.offset(e.bx(),e.gx()),e.Ja(Vm));b=a.wd;Kn(a,b,a.pB);if(Ln(a)){d=a.SN;e=a.j.ca;c=e.sd;e=e.fd;const [k,l]=Mn(a,0,0,b),[n,p]=Mn(a,c,0,b),[r,w]=Mn(a,c,e,b),[x,z]=Mn(a,0,e,b);a=Math.min(k,n,r,x);b=Math.min(l,p,w,z);c=
Math.max(k,n,r,x);e=Math.max(l,p,w,z);isFinite(a)||(a=-Infinity);isFinite(b)||(b=-Infinity);isFinite(c)||(c=Infinity);isFinite(e)||(e=Infinity);d.set(a,b,c,e)}else a.SN.Ja(a.pB)}}function Nn(a){In(a);return a.pB}function On(a){In(a);return a.SN}function Pn(a){a=a.zc();return[Qn(a),Rn(a)]}
function Kn(a,b,d){In(a);var c=a.OU;if(0===b)d.Ja(c);else{let l=c.bx(),n=c.gx();if(a.Qh.Zg)var e=1;else e=a.If()/Jn(a),e/=e-b;var g=e;e=c.width()/g;c=c.height()/g;const [p,r]=Pn(a);if(.5!==p||.5!==r){const w=a.If()/Jn(a);var k=a.j;const x=a.If()/w;g=(p-.5)*k.jg/x;k=(r-.5)*k.df/x;a=a.Na();0!==a&&(gn.set(g,k),gn.rotate(a),g=gn.ka,k=gn.aa);b=V.sH(w,0,b);l+=V.Ef(g,0,b);n+=V.Ef(k,0,b)}d.set(l-e/2,n-c/2,l+e/2,n+c/2)}}
function Sn(a){return a.K().Yi&&a.aN&&a.EU?(V.Fd(mn,a.M),mn.sort((b,d)=>{var c=a.zc().SR,e=c[0],g=c[1];c=c[2];var k=b.B();const l=d.B();d=k.X()-e;b=k.Y()-g;k=k.eb()-c;e=l.X()-e;g=l.Y()-g;c=l.eb()-c;return e*e+g*g+c*c-(d*d+b*b+k*k)}),mn):a.M}function Tn(a,b){V.Bm(b,Sn(a));for(const d of a.bf)d.Md()&&0<d.nc()&&Tn(d,b)}function Ln(a){return!(!a.K().Yi||!a.aN)&&a.zc().o2}function Un(a){if(!Ln(a))return!1;for(const b of a.bf)if(!Un(b))return!1;return!0}
function Vn(a,b,d=!0){d?a.bf.push(b):a.bf.unshift(b)}function Wn(a){return a.Md()&&0<a.nc()&&Xn(a)}function Yn(){var a=Zn[0];for(const b of a.bf)if(Wn(b))return!0;return!1}function*$n(a){for(const b of a.bf)yield*$n(b);yield a}function ao(a,b){for(const d of a.KB())if(d===b)return!0;return!1}
function bo(a){if(!a.ZN){a.M.sort(jn);if(zn(a))for(let e=0,g=a.M.length;e<g;++e){var b=a.M[e].B();b.aj=e|0;var d=a.vw,c=b.BA;b=c.la;const k=c.ea,l=c.wa;for(c=c.ra;b<=l;++b)for(let n=k;n<=c;++n){const p=d.Po(b,n,!1);p&&(p.Vz=!1)}}else for(let e=0,g=a.M.length;e<g;++e)a.M[e].B().aj=e|0;a.ZN=!0}}function co(a){if(!a.hL){a=eo(a.Qh,a.Fz).map(d=>[...$n(d)]).flat();var b=0;for(const d of a){for(const c of d.M)c.J().nb().XS&&fo(c.B(),b++);d.hL=!0}}}
function Xn(a){if(0<a.M.length||!a.Yk)return!0;for(const b of a.bf)if(Xn(b))return!0;return!1}function go(a){if(a.Au())return!0;for(const b of a.bf)if(go(b))return!0;return!1}function Jn(a){return(a.ne*a.Qh.ne-1)*a.Mj+1}
function ho(a,b){if(a.JL){var d=a.lA;const p=a.j;var c=a.zc();if(Ln(a)){Zm.Ja(dn,c.SR);Zm.Ja(en,c.K1);Zm.Ja(fn,c.L1);c=p.QF;var e=p.RF,g=en[0]-dn[0],k=en[1]-dn[1],l=en[2]-dn[2];dn[0]=(dn[0]-c)*a.xf+c;dn[1]=(dn[1]-e)*a.yf+e;dn[2]*=Math.max(a.xf,a.yf);en[0]=dn[0]+g;en[1]=dn[1]+k;en[2]=dn[2]+l}else{c=a.j;k=a.zc();g=c.QF;e=c.RF;g=(a.vh()-g)*a.xf+g;l=(a.wh()-e)*a.yf+e;c.On&&(g=Math.round(g),l=Math.round(l));e=g+0;g=l+0;k=k.Zg?a.If(null):a.If(null)/Jn(a);const [r,w]=Pn(a);if(.5!==r||.5!==w){var n=a.If(null)/
k;l=(r-.5)*c.jg/n;c=(w-.5)*c.df/n;n=a.Na();0!==n&&(gn.set(l,c),gn.rotate(n),l=gn.ka,c=gn.aa);e+=l;g+=c}const [x,z,F]=[e,g,k];Zm.set(dn,x,z,F);Zm.set(en,x,z,F-100);c=a.Na();0===c?Zm.set(fn,0,1,0):Zm.set(fn,Math.sin(c),Math.cos(c),0)}Tf(b,d,dn,en,fn,p.df);a.JL=!1}return a.lA}
function io(a,b){if(a.kF){var d=a.j.ca;const [l,n]=Pn(a);if(a.Qh.Zg){var c=a.Ij,e=d.Al(),g=self.devicePixelRatio,k=2*b.If(e)*g*b.YA/e;d=d.Bl()*k/(2*g);e=e*k/(2*g);g=-d;k=-e;b.Sd()?Ff.L4(c,g,d,k,e,b.lq,b.Ip):Ff.K4(c,g,d,k,e,b.lq,b.Ip)}else.5===l&&.5===n?an.Ja(a.Ij,d.xK):Sf(b,a.Ij,d.Bl()/d.Al(),l,n);a.kF=!1}return a.Ij}function jo(a,b){b.an(io(a,b));a=ho(a,b);b.xu(a)}
function ko(a,b){let d=null;if(b.lj()&&lo(a.j)){var c=a.j.ca;if(c.Ga().Ch()){var e=c.YL.get(a);e||(e={Kt:a,name:a.ua(),gP:mo.C(mo.W.nR,c.ff),XG:0,BO:0,KV:0},c.YL.set(a,e));a=e.gP}else a=null;a&&(a=d=Mh(a),b.Ch()&&(c=ei(b),c.Da=18,c.gg=a,b.kc=0))}return d}function no(a,b){b.Sd()&&lo(a.j)&&(a=2*(a.Ma()+1),Ti(b,a,a+1))}
function oo(a,b,d){const c=Nn(a),e=a.rf,g=a.zc().Zg,k=po(a.zc());let l=null;for(let n=0,p=d.length;n<p;++n){const r=d[n];if(r===l)continue;l=r;const w=r.B();w.Md()&&qo(w,c,k,g)&&ro(a,r,w,b,e)}}
function ro(a,b,d,c,e){if(d.Px()){const F=d.Wf.Lg();var g=F.Cr,k=d.zl(),l=a.j.Ax();var n=b.j;var p=n.Fv.get(b);n=p?p.ba():Vk(n);p=a.j.Bx()*Jn(a);var r=a.Na(),w=Nl(d);if(F.Vy&&!F.Et)var x=null;else a:{var z=Nl(d);x=so(d);d=d.gd;const C=x+d,G=z.la,J=z.ea,K=z.wa;z=z.ra;if(Ln(a)){if(to(a,G,J,x)||to(a,K,J,x)||to(a,K,z,x)||to(a,G,z,x)||0<d&&(to(a,G,J,C)||to(a,K,J,C)||to(a,K,z,C)||to(a,G,z,C))){x=null;break a}}else if(C>=a.If()/Jn(a)){x=null;break a}let [O,na]=uo(a,G,J,x),[ka,Ja]=uo(a,K,z,x);if(0!==a.Na()||
0<d||Ln(a)){const [$b,id]=uo(a,K,J,x),[Gb,vc]=uo(a,G,z,x);if(0<d){const [Sd,Td]=uo(a,G,J,C),[qe,Ud]=uo(a,K,J,C),[Ad,Jc]=uo(a,K,z,C),[Ze,pb]=uo(a,G,z,C);x=Math.min(O,ka,$b,Gb,Sd,qe,Ad,Ze);ka=Math.max(O,ka,$b,Gb,Sd,qe,Ad,Ze);O=x;x=Math.min(na,Ja,id,vc,Td,Ud,Jc,pb);Ja=Math.max(na,Ja,id,vc,Td,Ud,Jc,pb);na=x}else x=Math.min(O,ka,$b,Gb),ka=Math.max(O,ka,$b,Gb),O=x,x=Math.min(na,Ja,id,vc),Ja=Math.max(na,Ja,id,vc),na=x}Vm.set(O,na,ka,Ja);x=Vm}g.call(F,c,e,{iO:b,Dm:k,devicePixelRatio:l,time:n,GB:p,EB:r,Lt:w,
bH:x,P3:null,F3:null,G3:null,l5:null});b=a.eb();c.Gh=b;F.gC()&&jo(a,c)}else vo(b,d,c)}function wo(a){if(a.Xz){var b=a.j.Ga();const d=io(a,b),c=ho(a,b);b=a.NU;xf(0,1,0,c,d,wf,of);xf(1,1,0,c,d,wf,pf);xf(0,0,0,c,d,wf,qf);xf(1,0,0,c,d,wf,rf);xf(0,1,1,c,d,wf,sf);xf(1,1,1,c,d,wf,tf);xf(0,0,1,c,d,wf,uf);xf(1,0,1,c,d,wf,vf);yf(qf,of,sf,b.mT);yf(of,pf,tf,b.AU);yf(pf,rf,vf,b.cU);yf(rf,qf,uf,b.PR);yf(uf,sf,tf,b.sS);yf(rf,pf,of,b.zM);a.Xz=!1}return a.NU}
function vo(a,b,d){b=b.pt;if(d.Bg!==b){const c=b.V;c.rk(b.Nc);c.Me(b.Rg);c.ep(b.Kc);ag(c,b.wd);c.Bg=b}a.xl(d)}
function Mn(a,b,d,c=0){var e=a.ek();const g=a.j,k=g.Ga(),l=Jn(a);$m.set(cn,0,0,g.jg/l,g.df/l);b/=e;d=cn[3]-d/e;e=io(a,k);a=ho(a,k);a:if(xf(b,d,0,a,e,cn,jf)&&xf(b,d,1,a,e,cn,kf)){ff.No(kf,kf,jf);ff.set(lf,0,0,1);c=-c;a=ff.Ho(lf,kf);b=0;if(0===a){if(0!==ff.Ho(lf,jf)+c){c=!1;break a}}else if(b=-(ff.Ho(jf,lf)+c)/a,0>b){c=!1;break a}ff.aP(bn,jf,kf,b);c=!0}else c=!1;return c?[bn[0],bn[1]]:[NaN,NaN]}
function xo(a,b,d){const c=a.ne,e=a.Mj,g=a.xf,k=a.yf,l=a.Qf;a.ne=1;a.Mj=1;a.xf=1;a.yf=1;a.Qf=0;xn(a);b=Mn(a,b,d);a.ne=c;a.Mj=e;a.xf=g;a.yf=k;a.Qf=l;xn(a);return b}function yo(a,b,d,c,e){var g=a.j;const k=g.Ga(),l=Jn(a);$m.set(cn,0,0,g.jg/l,g.df/l);g=io(a,k);a=ho(a,k);return V.W.su(b,d,c,a,g,cn,bn)?[bn[0]*e,(cn[3]-bn[1])*e]:[NaN,NaN]}function zo(a,b,d){return yo(a,b,d,0,a.ek())}function uo(a,b,d,c=0){return yo(a,b,d,c,a.Gx()*a.Om())}function to(a,b,d,c){a=wo(a).zM;return!(a.x*b+a.y*d+a.z*c>=a.w)}
V.nI=class extends V.Ca{constructor(a,b,d){super();d=Object.assign({},sn,d);this.Qh=a;this.j=a.K();this.Gj=b;this.Sa=d.name;this.xa=-1;this.Ms=!!d.gH;this.Fz=-1;this.mb=d.Ot;this.Sz=!!d.wO;this.Kv=!!d.isVisible;this.Hv=!!d.hH;this.pn=V.C(V.ub);pc(this.pn,d.backgroundColor);this.Yk=!!d.jH;this.xf=d.SO[0];this.yf=d.SO[1];this.Kc=V.C(V.ub,1,1,1,d.opacity);this.XF=V.C(V.ub);this.eF=!!d.fH;this.aN=!!d.TV;this.EU=!!d.kW;this.i3=!!d.lW;this.Mj=d.mH;this.Rg=d.Dm;this.rf=null;this.ne=1;this.wd=d.vl;this.Oj=
this.Nj=this.Qf=0;this.En=!1;this.pB=V.C(V.Rect);this.OU=V.C(V.Rect);this.SN=V.C(V.Rect);this.Yz=!0;this.Ij=an.create();this.kF=!0;this.lA=an.create();this.JL=!0;this.NU=V.C(V.W.F0);this.Xz=!0;this.qU=[];this.RS=d.BV;this.dm=[];this.SD=[];this.nL=new Map;this.M=[];this.ln=this.hL=this.ZN=!1;const c=this.j.ca;this.Va=V.C(V.dr,this,d.qV);this.Tf=V.C(V.W.ng,c.oz,{aH:(e,g)=>{g=g.yp;const k=g.ik();e.ep(g.XH());e.au(k);e.nr(k);c.zr(k)},eH:e=>this.Va.mD(e)});this.qB=this.Yn=!0;this.vw=null;this.RL=[];this.lF=
!1;this.E2=V.C(V.Rect,0,0,-1,-1);this.R1=V.C(V.Rect,0,0,-1,-1);this.IE=new self.nY(this);yn(this);zn(this)&&(this.vw=V.C(V.K_,this.j.Oi,this.j.Ni));this.bf=d.aW.map(e=>An(this.Qh,this,e))}A(){for(const a of this.bf)a.A();V.I(this.bf);for(const a of this.M)Fl(this.j,a);V.I(this.M);this.Va.A();this.Va=null;this.Tf.A();this.j=this.Qh=this.Gj=this.IE=this.Tf=null}ri(a,b){if(!a.nb().$d)throw Error("instance is not of world type");const d=a.B();if(d.fa()!==this)throw Error("instance added to wrong layer");
this.M.push(a);0!==d.eb()&&(this.ln=!0);b&&zn(this)&&U(a.B());En(this,a)}Or(a,b){const d=this.M.indexOf(a);0>d||(b&&zn(this)&&Ao(a.B()),this.M.splice(d,1),En(this,a),0===this.M.length&&(this.ln=!1))}Zx(a,b,d,c,e){const g=this.j.Ea(),k=this.j.qd,l=a.Ya,n=[];for(const w of this.dm){var p=w[0];if(b.jh(p[0],p[1])){p=k[w[1]];if(p!==a)if(l){if(!a.oE.has(p))continue}else continue;p=this;var r=Bo(this.j);this.zc()!==r&&((p=Co(r,this.ua()))||(p=Do(r,this.Ma())));r=Eo(this.j,w,p,!1,void 0,void 0,!1,e);tn(p,
r);p=r.B();Fo(p,d,c);U(p);dl(g,!0);el(r);dl(g,!1);n.push(r)}}return n}zc(){return this.Qh}ua(){return this.Sa}zJ(a){this.xa=a}Ma(){return this.xa}K(){return this.j}Om(){return this.j.Om()}Lg(){this.ty();return this.Tf}ty(){const a=this.ju();if(this.Yn||a!==this.qB||this.Tf.nA){var b=this.Va.Eh;wk(this.Tf,b.map(d=>d.Le()),{Xw:b.map(d=>d.Ma()),nO:!a,kP:!0});this.Yn=!1;this.qB=a}}Dh(){this.Va.Dh();this.Yn=!0}Md(){for(const a of Gn(this))if(!a.Kv)return!1;return!0}Ah(a){a=!!a;this.Kv!==a&&(this.Kv=a,
this.j.qa())}tk(a){var b=this.zc();const d=b.Xp?-Infinity:Go(b);b=b.Xp?Infinity:b.P()-Go(b);a>b&&(a=b);a<d&&(a=d);this.Nj!==a&&(this.Nj=a,this.En&&(xn(this),this.j.qa()))}uk(a){var b=this.zc();const d=b.Xp?-Infinity:Ho(b);b=b.Xp?Infinity:b.N()-Ho(b);a>b&&(a=b);a<d&&(a=d);this.Oj!==a&&(this.Oj=a,this.En&&(xn(this),this.j.qa()))}vh(){return this.En?this.Nj:this.zc().vh()}wh(){return this.En?this.Oj:this.zc().wh()}If(a){return this.j.If(a)}nc(){return this.Kc.ab}Ne(a){a=V.$(a,0,1);this.Kc.ab!==a&&(hc(this.Kc,
a),yn(this),this.j.qa())}XH(){return this.XF}ju(){return kc(this.Kc,1,1,1,1)}xg(a){this.wd!==a&&(this.wd=a,this.j.qa())}eb(){return this.wd}ad(a){a=V.Ed(a);this.Qf!==a&&(this.Qf=a,xn(this),this.j.qa())}Na(){return V.Ed(this.Qh.Na()+this.Qf)}Me(a){this.Rg!==a&&(this.Rg=a,this.j.qa())}zl(){return this.Rg}*KB(){let a=this.Gj;for(;a;)yield a,a=a.Gj}Au(){return this.eF||!this.ju()||0!==this.zl()||this.Va.Px()}ik(){return this.rf}xl(a,b,d){var c=this.j.ca,e=this.Au(),g=null;const k=ko(this,a);no(this,a);
e?(g={tc:this.j.ic,Yj:!0,Sq:a.Sd()?this.j.Ft:!1},"low"===c.Gi&&(g.width=c.Bl(),g.height=c.Al()),this.rf=g=this.j.xx(g),a.ke(g),this.Yk&&a.gi(0,0,0,0)):(this.rf=b,a.ke(b));this.Yk||a.pe(this.pn);Io(a,this.rf,this.bf,e&&this.Yk);no(this,a);jo(this,a);c=this.eb();a.Gh=c;a.lf(!(!this.K().Yi||!this.aN));if(Jn(this)>Number.EPSILON)if(bo(this),c=zn(this)&&0===this.eb()&&!this.ln,Ln(this)){c=this.rf;var l=wo(this),n=Sn(this);for(let G=0,J=n.length;G<J;){var p=n[G],r=p.B();if(r.Md()&&Jo(r,l)){(!p.tu()||0<
r.gd)&&ln.push(p);var w=so(p.B());kn.push(p);for(var x=G+1;x<J;++x){var z=n[x],F=z.B();if(F.Md()&&Jo(F,l)){if(so(F)!==w)break;z.tu()?(0<F.gd&&ln.push(z),kn.push(z)):ln.push(z)}}if(1!==kn.length||0!==(kn[0].G&32)){p=a;r=this.rf;p.IH();for(let K=0,O=kn.length;K<O;++K)w=kn[K],z=w.B(),z.Fb(1048576,!0),vo(w,z,p);p.bC();for(let K=0,O=kn.length;K<O;++K)w=kn[K],z=w.B(),ro(this,w,z,p,r),z.Fb(1048576,!1);p.aC();for(let K=0,O=ln.length;K<O;++K)p=ln[K],r=p.B(),r.Fb(2097152,!0),ro(this,p,r,a,c),r.Fb(2097152,!1)}else{ro(this,
p,r,a,c);for(let K=0,O=ln.length;K<O;++K)r=ln[K],r!==p&&(w=r.B(),ro(w.fa(),r,w,a,c))}G=x;V.I(kn);V.I(ln)}else++G}}else if(c){n=this.vw;c=this.R1;l=this.E2;x=Nn(this);c.set(n.wk(x.la),n.xk(x.ea),n.wk(x.wa),n.xk(x.ra));if(this.lF&&c.Pd(l))n=this.RL;else{bo(this);V.I(Xm);this.vw.TC(Nn(this),Xm);if(Xm.length)if(1===Xm.length)n=Xm[0];else{for(n=Xm;1<n.length;){r=[];w=n.length;for(z=0;z<w-1;z+=2){x=r;p=x.push;F=n[z];var C=n[z+1];const G=[];let J=0,K=0,O=F.length,na=C.length;for(;J<O&&K<na;){const ka=F[J],
Ja=C[K];ka.B().aj<Ja.B().aj?(G.push(ka),++J):(G.push(Ja),++K)}for(;J<O;++J)G.push(F[J]);for(;K<na;++K)G.push(C[K]);F=G;p.call(x,F)}1===w%2&&r.push(n[w-1]);n=r}n=n[0]}else n=[];this.lF=!0;l.Ja(c)}oo(this,a,n);n!==this.RL&&V.Fd(this.RL,n)}else oo(this,a,Sn(this));a.Gh=0;ag(a,0);e&&(a.lf(!1),e=g,g=this.j,0===this.Va.Eh.length?(a.ke(b),Xf(a),d&&0===this.Rg&&this.ju()?a.cC(e):(a.Me(this.Rg),a.ep(this.XF),a.au(e)),a.nr(e),g.zr(e)):this.Lg().Cr(a,b,{iO:this,Dm:this.zl(),devicePixelRatio:g.Ax(),GB:g.Bx()*
Jn(this),EB:this.Na(),Lt:Nn(this),bH:null,tO:!0}));k&&ni(a,k);this.rf=null}Gx(){return Jn(this)*this.j.Gx()}ek(){return Jn(this)*this.j.ek()}Aa(){return{d:this.Sz,s:this.ne,a:this.Qf,v:this.Kv,i:this.Hv,html:this.Ms,bc:this.pn.toJSON(),t:this.Yk,sx:this.Nj,sy:this.Oj,hosp:this.En,px:this.xf,py:this.yf,c:this.Kc.toJSON(),sr:this.Mj,fx:this.Va.Ic(),cg:this.SD}}Ba(a){this.Sz=!!a.d;this.ne=a.s;this.Qf=a.a;this.Kv=!!a.v;this.Hv=a.hasOwnProperty("i")?a.i:!0;this.Ms=!!a.html;pc(this.pn,a.bc);this.Yk=!!a.t;
a.hasOwnProperty("sx")&&(this.Nj=a.sx);a.hasOwnProperty("sy")&&(this.Oj=a.sy);a.hasOwnProperty("hosp")&&(this.En=!!a.hosp);this.xf=a.px;this.yf=a.py;pc(this.Kc,a.c);yn(this);this.Mj=a.sr;V.Fd(this.SD,a.cg);V.Fd(this.dm,this.qU);const b=new Set(this.SD);let d=0;for(let c=0,e=this.dm.length;c<e;++c)b.has(this.dm[c][2])||(this.dm[d]=this.dm[c],++d);V.Ff(this.dm,d);this.Va.pc(a.fx);this.Yn=!0}};"use strict";const Ko=self.D,Lo=self.fi;Ko.C(Ko.Rect);Ko.C(Ko.Rect);
const Mo=Ko.C(Ko.Rect),No=Ko.C(Ko.ub),Oo=self.cj.tH,Zn=[],Po=[],Qo=[],Ro=[];let So=null;function To(a,b){if(So!==a){jo(a,b);var d=a.eb();b.Gh=d;So=a}}function jl(a){a.Zg&&(a.Zg=!1,Uo(a),Vo(a),a.j.qa())}function kl(a){a.Zg||(a.Zg=!0,Uo(a),Vo(a),a.j.qa())}function Dn(a,b){if(b.Hc())for(const d of b.Ih.gm)a.Es.add(d);else a.Es.add(b)}function Co(a,b){return a.WL.get(b.toLowerCase())||null}function Do(a,b){b=Ko.$(Math.floor(b),0,a.Pc.length-1);return a.Pc[b]}
async function vn(a){Wo(a);Xo(a);a.NM=a.Dx()}function Qn(a){return a.Zg?.5:a.JG}function Rn(a){return a.Zg?.5:a.KG}function eo(a,b){const d=[];for(const c of a.bg)if(a=c.Fz,a===b)d.push(c);else if(a>b)break;return d}
function Io(a,b,d,c){d=d.filter(e=>Wn(e));for(let e=0,g=d.length;e<g;){const k=d[e];if(Un(k)&&!go(k)){Zn.push(k);for(let l=e+1;l<g;++l){const n=d[l];if(Un(n)&&!go(n))Zn.push(d[l]);else break}if(2<=Zn.length||1===Zn.length&&Yn()){Yo(a,b);e+=Zn.length;Ko.I(Zn);continue}Ko.I(Zn)}k.xl(a,b,c&&0===e);++e}}function po(a){const b=Qn(a);a=Rn(a);return 0>b||1<b||0>a||1<a}function wn(a){a.tk(a.vh());a.uk(a.wh());for(const b of a.Pc)b.En&&(b.tk(b.vh()),b.uk(b.wh()))}
function Wo(a){a.Pc=[...a.Tw()];a.WL.clear();a.XL.clear();for(let b=0,d=a.Pc.length;b<d;++b){const c=a.Pc[b];c.zJ(b);a.WL.set(c.ua().toLowerCase(),c);a.XL.set(c.mb,c)}}function Zo(a){let b=Jn(a.Pc[0]);for(let d=1,c=a.Pc.length;d<c;++d){const e=a.Pc[d];if(0!==e.xf||0!==e.yf)b=Math.min(b,Jn(e))}return b}function Go(a){return.5*a.j.jg/Zo(a)}function Ho(a){return.5*a.j.df/Zo(a)}function Vo(a){for(const b of a.Pc)xn(b)}function Uo(a){for(const b of a.Pc)b.kF=!0,b.Xz=!0,b.Yz=!0}
function $o(a,b){return a.XL.get(b)||null}
function ap(a,b,d,c){if(2<=c)if(d){if(d===b||ao(d,b))throw Error(`cannot move layer '${b.ua()}' to sub-layer of itself`);Vn(d,b,2===c);b.Gj=d}else 2===c?a.bg.push(b):a.bg.unshift(b),b.Gj=null;else{var e=d.Gj;if(e){if(ao(d,b))throw Error(`cannot move layer '${b.ua()}' to sub-layer of itself`);a=e.bf.indexOf(d);if(-1===a)throw Error("cannot find layer to insert by");0===c&&++a;e.bf.splice(a,0,b);b.Gj=e}else{e=a.bg.indexOf(d);if(-1===e)throw Error("cannot find layer to insert by");0===c&&++e;a.bg.splice(e,
0,b);b.Gj=null}}}function bp(a,b){var d=b.Gj;if(d){a=d.bf.indexOf(b);if(-1===a)throw Error("cannot find layer to remove");d.bf.splice(a,1);return!0}if(1<a.bg.length){d=a.bg.indexOf(b);if(-1===d)throw Error("cannot find layer to remove");a.bg.splice(d,1);return!0}return!1}function Xo(a){let b=0;for(const d of a.bg){for(const c of $n(d))c.Fz=b;d.Ms&&b++}}
function cp(a){for(a=a.bg.filter(b=>Wn(b))[0];a;){if(!a.Yk)return gc(No,a.pn),hc(No,1),No;if(a.Au())return dc(No,0,0,0,0),No;a=a.bf.filter(b=>Wn(b))[0]}dc(No,0,0,0,0);return No}function dp(a,b,d){if(b===a||!d)return Promise.resolve();b&&(Ko.eX(a.Ti,b.Ti),b.Ti.clear());b=[];for(const c of a.Es)a.Ti.has(c)||(b.push(c.pu(d)),a.Ti.add(c));return Promise.all(b)}function ep(a,b){a.$A.add(b);b.then(()=>a.$A.delete(b)).catch(()=>a.$A.delete(b))}
async function fp(a,b){if(b.Ya)throw Error("cannot load textures for family");var d=a.j.Ga();!d||d.mk()||a.Ti.has(b)||(a.Ti.add(b),d=b.pu(d),ep(a,d),await d,b.NC(),a.j.qa())}function gp(a,b){if(b.Ya||0<b.M.length)throw Error("cannot unload textures");a.j.Ga()&&a.Ti.has(b)&&(a.Ti.delete(b),b.Ar())}
function hp(a,b){for(const c of a.j.qd)if(!c.Ya&&c.$d)for(const e of c.za()){const g=e.B();var d=g.fa();d=Ko.$(d.Ma(),0,a.Pc.length-1);d=a.Pc[d];ip(g,d,!0);d.M.includes(e)||(d.M.push(e),0!==e.B().eb()&&(d.ln=!0),En(d,e))}if(!b)for(const c of a.Pc)Fn(c,!1)}
function jp(a){for(const e of a.Pc){var b=e,d=a.$y;const g=b.Qh.Ls;let k=0;const l=b.dm;for(let n=0,p=l.length;n<p;++n){var c=l[n];const r=Cn(b.j,c[1]);let w=!0;if(!kp(r)||g)c=Eo(b.j,c,b,!0),d.push(c),r.Kf()&&(w=!1,b.SD.push(c.Sb));w&&(l[k]=l[n],++k)}V.Ff(l,k);gl(b.j);En(b)}}
function lp(a){let b=!1;for(const [c,e]of Object.entries(a.qq)){const g=mp(a.j,parseInt(c,10));if(g&&!g.Ya&&kp(g))for(const k of e){var d=null;if(g.$d&&(d=k.hasOwnProperty("instJson")?$o(a,k.instJson.w.l):$o(a,k.w.l),!d))continue;d=Eo(a.j,g,d,!1,0,0,!0);k.hasOwnProperty("instJson")?d.pc(k.instJson):d.pc(k);b=!0;a.az.push(d);k.hasOwnProperty("instJson")&&(a.sK.set(d,k),a.rK.set(k.index,d))}}for(const c of a.Pc)Fn(c,!0),En(c);b&&(gl(a.j),np(a.j))}
function op(a,b){for(const c of b){if(!c.Hc())continue;const e=c.B(),g=pp(c);for(const k of c.J().Ih.gm)if(k!==c.J()){var d=k.za();d.length>g?c.vd.push(d[g]):(d=e?Eo(a.j,k,e.fa(),!0,e.X(),e.Y(),!0):Eo(a.j,k,null,!0,0,0,!0),gl(a.j),qp(k),c.vd.push(d),b.push(d))}}}function rp(a){for(const b of a.mL)Cn(a.j,b[1]).Hc()||Eo(a.j,b,null,!0)}
async function sp(a,b){const d=a.j,c=a.ib,e=d.Ea();a.oS&&(a.ud=e.lG.get(a.oS.toLowerCase())||null,tp(a.ud));c.aw=a;a.S=a.R2;a.T=a.Q2;a.Nj=d.Oi/2;a.Oj=d.Ni/2;wn(a);Uo(a);Vo(a);Xo(a);await up(a.j.ca,a.Dx(),!0);hp(a,b);jp(a);a.Ls||lp(a);op(a,a.$y);op(a,a.az);rp(a);c.Pi=null;gl(d);var g=a.j.s1;await Promise.all(g);Ko.I(g);if(!d.zj){for(const k of a.$y)vp(k);for(const k of a.az)wp(k,a.sK,a.rK);for(const [k,l]of Object.entries(a.qq))(g=mp(a.j,parseInt(k,10)))&&!g.Ya&&kp(g)&&Ko.I(l);for(const k of a.$y)xp(k);
for(const k of a.az)xp(k)}Ko.I(a.$y);Ko.I(a.az);a.sK.clear();a.rK.clear();await Promise.all([...a.Es].map(k=>k.wI(a.j.Ga())));b&&(d.sb().dispatchEvent(new Ko.Event("beforefirstlayoutstart")),await d.Jm(new Ko.Event("beforeprojectstart")));d.sb().dispatchEvent(new Ko.Event("beforelayoutstart"));await a.Jm(new Ko.Event("beforelayoutstart"));d.zj||await d.Jc(Ko.F.ob.H.pQ,null,null);d.sb().dispatchEvent(new Ko.Event("afterlayoutstart"));await a.Jm(new Ko.Event("afterlayoutstart"));b&&(d.sb().dispatchEvent(new Ko.Event("afterfirstlayoutstart")),
await d.Jm(new Ko.Event("afterprojectstart")));yp(e,c);await Promise.all([...a.$A]);a.Ls=!1}function zp(a){const b=[],d=a.mL;let c=0;for(let e=0,g=d.length;e<g;++e){const k=d[e],l=Cn(a.j,k[1]);l.Kf()?l.Hc()&&Ap(l.Ih)||b.push(Eo(a.j,k,null,!0)):(d[c]=k,++c)}Ko.Ff(d,c);gl(a.j);op(a,b)}
async function Bp(a){const b=a.ib;a.j.zj||(await a.Jm(new Ko.Event("beforelayoutend")),await a.j.Jc(Ko.F.ob.H.RZ,null,null),await a.Jm(new Ko.Event("afterlayoutend")));Cp(b,!0);Dp(a.j.Ea());if(!a.Ls){a.tA.clear();var d=0;for(var c of a.Pc){bo(c);for(var e of c.M){var g=e.J();if(!g.Kf()&&kp(g)){g=a;var k=e,l=d,n=k.J().mb.toString();g.qq.hasOwnProperty(n)||(g.qq[n]=[]);n=g.qq[n];l={index:l,instJson:k.Ic(),sceneGraphJson:{children:[]}};n.push(l);g.tA.set(k,l);d++}}}for(const p of a.Pc)for(const r of p.M)if(d=
r.J(),!d.Kf()&&kp(d)){d=a;c=d.tA.get(r);for(const w of r.he())(e=d.tA.get(w))&&c.sceneGraphJson.children.push({index:e.index,flags:Ep(w.B())})}a.tA.clear()}for(const p of a.Pc){for(const r of p.M)r.J().Kf()||Fl(p.j,r);gl(p.j);V.I(p.M);p.ln=!1;En(p)}for(const p of a.j.qd)if(!(p.Kf()||p.$d||p.nb().Rn||p.Ya)){for(const r of p.za())Fl(a.j,r);gl(a.j)}Cp(b,!1);b.Vb()===a&&(b.aw=null)}
function Fp(a,b){const d=a.j.ca;a.Au()?("low-latency"!==a.j.PD&&(b.ke(null),b.gi(0,0,0,0)),b={tc:a.j.ic,Yj:b.Sd()||a.j.Ft||a.Va.Px(),Sq:b.Sd()?a.j.Ft:!1},"low"===d.Gi&&(b.width=d.Bl(),b.height=d.Al()),a.rf=a.j.xx(b)):a.rf=null}
function Yo(a,b){var d=Zn;d[0].Yk||(gc(No,d[0].pn),hc(No,1),a.pe(No));a.lf(!0);for(var c of d)bo(c),Tn(c,Po);c=d[0];d=ko(c,a);no(c,a);for(let r=0,w=Po.length;r<w;){var e=Po[r],g=e.B(),k=g.fa();if(g.Md()&&Jo(g,wo(k))){(!e.tu()||0<g.gd)&&Ro.push(e);var l=so(e.B());Qo.push(e);for(c=r+1;c<w;++c){var n=Po[c],p=n.B();if(p.Md()&&Jo(p,wo(p.fa()))){if(so(p)!==l)break;n.tu()?(0<p.gd&&Ro.push(n),Qo.push(n)):Ro.push(n)}}if(1!==Qo.length||0!==(Qo[0].G&32)){e=a;g=b;k=Qo;e.IH();for(let x=0,z=k.length;x<z;++x)l=
k[x],n=l.B(),p=n.fa(),n.Fb(1048576,!0),To(p,e),vo(l,n,e);e.bC();for(let x=0,z=k.length;x<z;++x)l=k[x],n=l.B(),p=n.fa(),To(p,e),ro(p,l,n,e,g),n.Fb(1048576,!1);e.aC();for(let x=0,z=Ro.length;x<z;++x)e=Ro[x],g=e.B(),k=g.fa(),g.Fb(2097152,!0),To(k,a),ro(k,e,g,a,b),g.Fb(2097152,!1)}else{To(k,a);ro(k,e,g,a,b);for(let x=0,z=Ro.length;x<z;++x)g=Ro[x],g!==e&&(k=g.B(),l=k.fa(),To(l,a),ro(l,g,k,a,b))}r=c;Ko.I(Qo);Ko.I(Ro)}else++r}d&&ni(a,d);Ko.I(Po);So=null}
Ko.WY=class extends Ko.Ca{constructor(a,b,d){super();this.ib=a;this.j=a.K();this.Sa=d[0];this.R2=d[1];this.Q2=d[2];this.S=d[1];this.T=d[2];this.Xp=!!d[3];this.Zg=!!d[4];this.JG=d[5];this.KG=d[6];this.oS=d[7];this.ud=null;this.mb=d[8];this.xa=b;this.Oj=this.Nj=0;this.ne=1;this.Qf=0;this.Es=new Set;this.Ti=new Set;this.$A=new Set;this.$y=[];this.az=[];this.sK=new Map;this.rK=new Map;this.mL=[];this.o2=!1;this.SR=Oo.create();this.K1=Oo.create();this.L1=Oo.create();this.bg=[];this.Pc=[];this.WL=new Map;
this.XL=new Map;this.NM=-1;const c=this.j.ca;this.Va=Ko.C(Ko.dr,this,d[11]);this.Tf=Ko.C(Ko.W.ng,c.oz,{aH:(e,g)=>{g=g.yp.ik();ji(e);e.au(g);e.nr(g);c.zr(g)},eH:e=>this.Va.mD(e)});this.Yn=!0;this.QU=!1;this.rf=null;this.qq={};this.tA=new Map;this.Ls=!0;this.Hz=new self.pY(this);this.Cf=Ko.C(Ko.Event.sb);for(const e of d[9])this.bg.push(An(this,null,e));Wo(this);for(const e of this.Tw())Bn(e);for(const e of d[10]){a=Cn(this.j,e[1]);if(!a)throw Error("missing nonworld object class");a.ns||(a.ns=e);this.mL.push(e);
Dn(this,a)}}A(){for(const a of this.Pc)a.A();Ko.I(this.Pc);this.$A.clear();this.j=this.ib=this.ud=null}K(){return this.j}ua(){return this.Sa}Ma(){return this.xa}Lg(){this.ty();return this.Tf}ty(){const a="low"===this.j.ca.Gi;if(this.Yn||this.QU!==a||this.Tf.nA){var b=this.Va.Eh;wk(this.Tf,b.map(d=>d.Le()),{Xw:b.map(d=>d.Ma()),tV:a,kP:!0});this.Yn=!1;this.QU=a}}Dh(){this.Va.Dh();this.Yn=!0}tk(a){const b=this.Xp?-Infinity:Go(this),d=this.Xp?Infinity:this.P()-Go(this);a>d&&(a=d);a<b&&(a=b);this.Nj!==
a&&(this.Nj=a,Vo(this),this.j.qa())}vh(){return this.Nj}uk(a){const b=this.Xp?-Infinity:Ho(this),d=this.Xp?Infinity:this.N()-Ho(this);a>d&&(a=d);a<b&&(a=b);this.Oj!==a&&(this.Oj=a,Vo(this),this.j.qa())}wh(){return this.Oj}OI(a){this.ne!==a&&(this.ne=a,Vo(this),wn(this),this.j.qa())}ad(a){a=Ko.Ed(a);this.Qf!==a&&(this.Qf=a,Vo(this),this.j.qa())}Na(){return this.Qf}P(){return this.S}Of(a){!isFinite(a)||1>a||(this.S=a)}N(){return this.T}ug(a){!isFinite(a)||1>a||(this.T=a)}*Tw(){for(const a of this.bg)yield*$n(a)}fa(a){return"number"===
typeof a?Do(this,a):Co(this,a.toString())}nP(a,b,d){if(Co(this,a))throw Error(`layer name '${a}' already in use`);if(!b&&2>d)throw Error("invalid insert position");a=Ko.C(Ko.nI,this,2<=d?b:b.Gj,{name:a,Ot:Math.floor(1E15*Math.random()),wO:!0});ap(this,a,b,d);this.K().qa();vn(this)}jQ(a,b,d){if(!b&&2>d)throw Error("invalid insert position");a===b&&2>d||(bp(this,a),ap(this,a,b,d),this.K().qa(),vn(this))}DQ(a){if(bp(this,a)){const b=this.j.Ea();dl(b,!0);a.A();dl(b,!1);this.K().qa();vn(this)}}AI(){const a=
new Set;for(var b of this.Tw()){var d;if(d=b.Sz){a:{for(const c of b.KB())if(c.Sz){d=!0;break a}d=!1}d=!d}d&&a.add(b)}if(0!==a.size){b=this.j.Ea();dl(b,!0);for(const c of a)bp(this,c),c.A();dl(b,!1);this.K().qa();vn(this)}}Dx(){return this.bg.at(-1).Fz+1}pD(){this.Ti.clear()}Zx(a,b,d,c,e,g){if(d)return d.Zx(a,b,c,e,g);d=[];for(const k of this.Pc)d.push(k.Zx(a,b,c,e,g));return d.flat()}ik(){return this.rf}Au(){const a=this.j,b=a.Ga().lj();return"low"===a.ca.Gi||b&&a.Ft||"low-latency"===a.PD||this.Va.Px()||
b&&a.Yi}Aa(){const a={sx:this.vh(),sy:this.wh(),s:this.ne,a:this.Na(),w:this.P(),h:this.N(),ortho:this.Zg,vpX:Qn(this),vpY:Rn(this),fv:this.Ls,persist:this.qq,fx:this.Va.Ic(),layers:{},dynamicLayers:[]};for(const l of this.Pc)if(l.Sz){var b=l.Gj,d=a.dynamicLayers,c=d.push,e=l.mb,g=l.ua();b=b?b.mb:null;var k=(k=l.Gj)?k.bf.indexOf(l):l.zc().bg.indexOf(l);c.call(d,{sid:e,name:g,parentSid:b,siblingIndex:k,data:l.Aa()})}else a.layers[l.mb.toString()]=l.Aa();return a}Ba(a){this.Nj=a.sx;this.Oj=a.sy;this.ne=
a.s;this.Qf=a.a;this.S=a.w;this.T=a.h;this.Zg=!!a.ortho;a.hasOwnProperty("vpX")&&(this.JG=a.vpX);a.hasOwnProperty("vpY")&&(this.KG=a.vpY);this.Ls=!!a.fv;this.qq=a.persist;this.Va.pc(a.fx);this.Yn=!0;for(const [k,l]of Object.entries(a.layers)){var b=$o(this,parseInt(k,10));b&&b.Ba(l)}if(a.hasOwnProperty("dynamicLayers")){this.AI();gl(this.j);b=new Map;a=a.dynamicLayers;for(let k=a.length-1;0<=k;--k){var d=a[k],c=d.sid,e=d.name,g=d.parentSid;const l=d.siblingIndex;d=d.data;Wo(this);if(Co(this,e)||$o(this,
c))continue;let n;if(null===g)n=null,g=this.bg;else{n=$o(this,g);if(!n)continue;g=n.bf}c=Ko.C(Ko.nI,this,n,{name:e,Ot:c,wO:!0});g.push(c);e=b.get(g);e||(e=[],b.set(g,e));e.push({Kt:c,cP:l});c.Ba(d)}for(const [k,l]of b){l.sort((n,p)=>n.cP-p.cP);for(const n of l)b=n.Kt,a=n.cP,k.splice(k.indexOf(b),1),k.splice(a,0,b)}}vn(this);Uo(this);Vo(this)}ph(a){a.layout=this.Hz;var b=this.j;(b=b.Ib&&!fl(b.Ea()))&&Lo.UI();this.Cf.dispatchEvent(a);b&&Lo.xH()}Jm(a){a.layout=this.Hz;return qd(this.Cf,a)}};"use strict";
const Gp=self.D;function Cp(a,b){if(b)a.Ks++;else{if(0>=a.Ks)throw Error("already unset");a.Ks--}}function Hp(a){if(a.pE)return a.pE;if(a.rj.length)return a.rj[0];throw Error("no first layout");}function Ip(a,b){return a.$L.get(b.toLowerCase())||null}function*Jp(a){a.aw&&(yield a.aw);a.cN.length&&(yield*a.cN)}function Kp(a){(a=a.Vb())&&Uo(a)}function Lp(a){(a=a.Vb())&&Vo(a)}
Gp.XY=class extends Gp.Ca{constructor(a){super();this.j=a;this.rj=[];this.$L=new Map;this.dA=new Map;this.aw=null;this.cN=[];this.pE=null;this.Ks=0;this.Pi=null}A(){this.Pi=this.pE=this.aw=this.j=null;Gp.I(this.rj);this.$L.clear();this.dA.clear();Gp.I(this.cN)}Ka(a){a=Gp.C(Gp.WY,this,this.rj.length,a);this.rj.push(a);this.$L.set(a.ua().toLowerCase(),a);this.dA.set(a.mb,a)}K(){return this.j}zc(a){"number"===typeof a?(a=Gp.$(Math.floor(a),0,this.rj.length-1),a=this.rj[a]):a=Ip(this,a.toString());return a}Vb(){return this.aw}};
"use strict";const Mp=self.D;function*Np(a){for(const b of a.Ge)yield b}function Op(a,b,d){a.ao.has(b)||a.ao.set(b,new Set);a.ao.get(b).add(d)}function Pp(a,b){return a.cB.get(b.toLowerCase())||null}function Qp(a){a.Ej.length||a.Ge.length||a.Uh.length||a.Wz||(a.Fn=!1)}function Rp(a,b){a.Ge.includes(b)?(b.Pn=!0,b.Mh=!1,b.Rs=!1):(b.Pn=!1,b.Mh=!0,b.Rs=!1,a.Uh.includes(b)||a.Uh.push(b));a.Fn||(a.Fn=!0)}function Sp(a,b){b.Pn=!1;b.Mh=!1;Tp(b);Mp.Cm(a.Uh,b);Qp(a)}
function Up(a,b){b.Pn=!1;b.Mh=!1;a.Ge.includes(b)&&(b.Rs=!0,a.Ej.push(b),Mp.Cm(a.Ge,b))}function Vp(a,b){b.Pn=!1;b.Mh=!1;b.Rs=!1;b.nj(1);Mp.Cm(a.Ge,b)}function Wp(a){a.Ie||Xp(a)&&a.Hh&&a.Qp&&a.IP()}function Yp(a){return a.tm.map(b=>b.Aa())}function Zp(a){return a.map(b=>b.ua())}function $p(a,b,d){var c=new Set;for(const e of d)aq(e,b)||c.add(e);Mp.$h(d,c);if(b){c=e=>g=>g.ua()===e;for(const e of b)(b=Pp(a,e))&&(d.find(c(e))||d.push(b))}}
function aq(a,b){if(!b)return!1;for(const d of b)if(d===a.ua())return!0;return!1}
Mp.x0=class extends Mp.Ca{constructor(a){super();this.j=a;this.bB=Mp.C(Mp.u0);this.bo=null;this.tm=[];this.cB=new Map;this.ao=new Map;this.um=new Map;this.Uh=[];this.Ge=[];this.Ej=[];this.Wz=this.Xu=this.Fn=!1;this.po=()=>{if(!this.K().zj&&this.Fn&&!this.Xu){for(this.Wz=!0;this.Uh.length;){var b=this.Uh.pop();b.bd();0!==b.wc&&(this.wc=1);this.Ge.push(b)}b=this.j.mz;var d=this.j.qs,c=this.j.de;for(let e=this.Ge.length-1;0<=e;e--){const g=this.Ge[e];g&&g.Oe(b,c,d)}this.Wz=!1;0!==this.wc&&this.K().qa()}};
this.no=()=>this.sJ();this.XJ=()=>this.uy();this.ZL=()=>{this.Xu=!1};this.Ev=b=>this.oD(b.instance);this.NR=()=>this.Du();this.KJ=()=>this.Pf();this.GR=()=>{const b=this.j.ib.Vb();if(b)for(const d of this.tm){const c=d.$H();c&&b.ua()===c&&Rp(this,d)}};this.lz=[];this.wc=0}A(){this.BI();this.KJ=this.Ev=this.ZL=this.XJ=this.no=this.po=null;for(const a of this.tm)a.ue(),a.A();Mp.I(this.tm);this.tm=null;this.bB.A();this.bB=null;Mp.I(this.Uh);this.Uh=null;Mp.I(this.Ge);this.Ge=null;Mp.I(this.Ej);this.Ej=
null;this.cB.clear();this.cB=null;this.ao.clear();this.ao=null;this.um.clear();this.um=null;Mp.I(this.lz);this.j=this.lz=null}wH(){const a=this.j.sb();a.addEventListener("pretick",this.po);a.addEventListener("tick2",this.no);a.addEventListener("beforelayoutchange",this.XJ);a.addEventListener("layoutchange",this.ZL);a.addEventListener("instancedestroy",this.Ev);a.addEventListener("beforeload",this.NR);a.addEventListener("afterload",this.KJ);a.addEventListener("afterlayoutstart",this.GR)}BI(){const a=
this.j.sb();a.removeEventListener("pretick",this.po);a.removeEventListener("tick2",this.no);a.removeEventListener("beforelayoutchange",this.XJ);a.removeEventListener("layoutchange",this.ZL);a.removeEventListener("instancedestroy",this.Ev);a.removeEventListener("beforeload",this.NR);a.removeEventListener("afterload",this.KJ);a.removeEventListener("afterlayoutstart",this.GR)}Ka(a){this.bB.Tb(a);const b=this.bB.ba(a[0]);a=bq.C(bq.Ir,a[0],b,this);a.Jv=!0;this.Tb(a);for(const d of a.uC())Op(this,d,a);
this.um.set(a.ua(),0)}KH(a){var b=this.bB;a=a.hu();b=b.ba(a);b=Mp.Ir.KH(`${a}:${this.um.get(a)}`,b,this);this.um.set(a,this.um.get(a)+1);this.Tb(b);return b}Tb(a){this.tm.push(a);this.cB.set(a.ua().toLowerCase(),a)}xh(a){cq(a);if(!a.Jv){Mp.Cm(this.tm,a);Mp.Cm(this.Uh,a);Mp.Cm(this.Ge,a);Mp.Cm(this.Ej,a);this.cB.delete(a.ua().toLowerCase());for(const [b,d]of this.ao.entries())d.has(a)&&(d.delete(a),0===d.size&&this.ao.delete(b));a.Ie||a.A()}}na(a){this.j.na(a,this.bo,null)}K(){return this.j}vC(){return this.bo}sJ(){if(!this.K().zj&&
this.Fn&&!this.Xu){var a;for(let b=0,d=this.Ej.length;b<d;b++){const c=this.Ej[b];a||(a=new Set);cq(c);Wp(c);a.add(c)}if(a){Mp.$h(this.Ej,a);this.wc=0;for(let b=0,d=this.Ge.length;b<d;b++)if(0!==this.Ge[b].wc){this.wc=1;break}}Qp(this)}}uy(){for(this.Xu=!0;this.Uh.length;)Sp(this,this.Uh.pop());const a=new Set;for(const b of this.Ge)b.uy()&&(cq(b),a.add(b));Mp.$h(this.Ge,a);a.clear();for(const b of this.Ej)b.uy()&&(cq(b),a.add(b));Mp.$h(this.Ej,a);Qp(this);for(const b of this.tm)b.wl()}oD(a){var b=
a.J();b=this.ao.has(b)?this.ao.get(b):void 0;if(b)if(this.j.zj)this.lz.push(a);else for(const d of b)d.Jv||(d.Ie?this.xh(d):Xp(d)||(Wp(d),this.xh(d)))}Du(){for(const a of this.Uh.map(b=>b))Wp(a),this.xh(a);for(const a of this.Ge.map(b=>b))Wp(a),this.xh(a)}Pf(){for(const a of this.lz)this.oD(a);Mp.I(this.lz);for(const a of this.tm)a.Pf()}Aa(){return{timelinesJson:Yp(this),scheduledTimelinesJson:Zp(this.Uh),playingTimelinesJson:Zp(this.Ge),markedForRemovalTimelinesJson:Zp(this.Ej),hasRuntimeListeners:this.Fn,
changingLayout:this.Xu,isTickingTimelines:this.Wz}}Ba(a){if(a){for(var b of this.um.keys())this.um.set(b,0);b=a.timelinesJson;for(const d of b){b=Pp(this,d.name);if(!b){b=(b=d.name.split(":"))&&2===b.length?b[0]:null;if(!b)continue;b=Pp(this,b);b=this.KH(b)}b.Ba(d);b.lb.length||this.xh(b)}$p(this,a.scheduledTimelinesJson,this.Uh);$p(this,a.playingTimelinesJson,this.Ge);$p(this,a.markedForRemovalTimelinesJson,this.Ej);this.Fn=!a.hasRuntimeListeners;this.Xu=!!a.changingLayout;this.Wz=!!a.isTickingTimelines;
for(const d of this.tm)d.Jv||(a=d.hu(),this.um.set(a,this.um.get(a)+1));this.Fn||(this.Fn=!0);Qp(this)}}};"use strict";const dq=self.D,eq=[0,0],fq=[0,0],gq=[0,0,0,0,0];
dq.v0=class{constructor(a,b){this.Rp=!1;this.ig=a;this.Pj=[];var d;if(b)a:{a=this.ig;for(d of a.lb)if(bq.kh(d.hj(),b)){b=d;break a}b=null}else b=dq.first(this.ig.lb);if(d=b)if(b=d.Qd("offsetX"),d=d.Qd("offsetY"),b&&d){this.YU=b;this.ZU=d;b=b.xC();d=d.xC();for(let c=1,e=Math.min(b.length,d.length);c<e;++c){a=b[c];const g=a.zA,k=d[c],l=k.zA;g&&"cubic-bezier"===g.MM&&l&&"cubic-bezier"===l.MM?this.Pj.push(dq.C(dq.s0,g,l,a,k,this.Pj.length)):this.Pj.push(dq.C(dq.w0,a,k,this.Pj.length))}this.Rp=!0}}A(){for(const a of this.Pj)a.A();
dq.I(this.Pj);this.ZU=this.YU=this.ig=this.Pj=null}aD(a){const b="relative"===this.YU.Bc()?a.X():0;a="relative"===this.ZU.Bc()?a.Y():0;for(const d of this.Pj)d.aD(b,a)}su(a,b,d){d&&d.kx&&(dq.Xb(d.kx[0])||(d.kx[0]=0),dq.Xb(d.kx[1])||(d.kx[1]=1));const c=[];for(const e of this.Pj)if("cubic-bezier"===e.vc()){const g=e.su(a,b,d?d.kx:null);g[4]=e.Ma();c.push(JSON.parse(JSON.stringify(g)))}c.sort((e,g)=>e[3]-g[3]);return c[0]}VI(a){return this.Pj[void 0].VI(a)}WI(a,b,d,c){return this.Pj[c].WI(a,b,d)}};
function hq(a){a.Rp=!0;let b=iq(a,0),d=jq(a,0),c=0;for(let e=1;e<=a.Ps;e++){const g=iq(a,.01*e),k=jq(a,.01*e);c+=Math.hypot(b-g,d-k);a.Hk[e]=c;b=g;d=k}a.aM=c}function kq(a,b){if(a.Rp){b*=a.Hk[a.Ps];for(var d=0,c=a.Ps,e=0;d<c;)e=d+((c-d)/2|0),a.Hk[e]<b?d=e+1:c=e;a.Hk[e]>b&&e--;d=a.Hk[e];return d===b?e/a.Ps:(e+(b-d)/(a.Hk[e+1]-d))/a.Ps}}function iq(a,b){return a.Rp?self.cr.Rm("cubicbezier")(b,a.ER+a.Li,a.VJ+a.Li,a.eK+a.Li,a.cS+a.Li):NaN}
function jq(a,b){return a.Rp?self.cr.Rm("cubicbezier")(b,a.FR+a.Mi,a.WJ+a.Mi,a.fK+a.Mi,a.dS+a.Mi):NaN}function lq(a,b,d,c=null){var e=Number.MAX_SAFE_INTEGER;let g=0;d.forEach((k,l)=>{k.t=l/(d.length-1);k.bi=dq.ci(a,b,k.x,k.y);c&&dq.Gl(c)&&dq.Xb(c[0])&&dq.Xb(c[1])?k.t>=c[0]&&k.t<=c[1]&&k.bi<e&&(e=k.bi,g=l):k.bi<e&&(e=k.bi,g=l)});return g}
dq.s0=class{constructor(a,b,d,c,e){this.xa=e;e=mq(a,"cubic-bezier");const g=mq(d,"cubic-bezier"),k=mq(b,"cubic-bezier"),l=mq(c,"cubic-bezier");this.ER=nq(a);this.FR=nq(b);this.VJ=nq(a)+e.VA;this.WJ=nq(b)+k.VA;this.eK=nq(d)+g.pz;this.fK=nq(c)+l.pz;this.cS=nq(d);this.dS=nq(c);this.Rp=!1;this.Ps=100;this.Hk=Array(this.Ps+1);this.aM=this.Hk[0]=0;this.$v=[];hq(this)}A(){dq.I(this.Hk);this.Hk=null;dq.I(this.$v);this.$v=null}vc(){return"cubic-bezier"}Ma(){return this.xa}aD(a,b){this.Li=a;this.Mi=b;this.Hk=
Array(this.Ps+1);this.Hk[0]=0;hq(this)}Map(a){if(!this.Rp)return NaN;a=kq(this,a);fq[0]=iq(this,a);fq[1]=jq(this,a);return fq}su(a,b,d){var c=100;if(this.$v.length!==c){this.$v=[];c++;for(var e=0;e<c;e++){var g=e/(c-1),k=iq(this,g),l=jq(this,g);this.$v.push({x:k,y:l,t:g,bi:0})}}c=this.$v;e=lq(a,b,c,d);d=c;c=e;e=d[c];g=1;k=Number.MAX_SAFE_INTEGER;do{var n=0===c?0:c-1;l=c===d.length-1?d.length-1:c+1;let p=d[n].t,r=[],w=(d[l].t-p)/4;if(.001>w)break;r.push(d[n]);for(n=1;3>=n;n++){const x=p+n*w,z=iq(this,
x),F=jq(this,x),C=Math.abs(dq.ci(z,F,a,b)-0);C<k&&(k=C,e={x:z,y:F,t:x,bi:C},c=n);r.push({x:z,y:F,t:x,bi:C})}r.push(d[l]);d=r}while(25>g++);a=e;gq[0]=a.x;gq[1]=a.y;gq[2]=a.t;gq[3]=a.bi;return gq}VI(a){var b=1-a,d=b*b;b=2*b*a;const c=a*a;a=3*d*(this.VJ+this.Li-(this.ER+this.Li))+3*b*(this.eK+this.Li-(this.VJ+this.Li))+3*c*(this.cS+this.Li-(this.eK+this.Li));d=3*d*(this.WJ+this.Mi-(this.FR+this.Mi))+3*b*(this.fK+this.Mi-(this.WJ+this.Mi))+3*c*(this.dS+this.Mi-(this.fK+this.Mi));b=Math.hypot(a,d);eq[0]=
a/b;eq[1]=d/b;return eq}WI(a,b,d){d=this.VI(d);return dq.Do(a,b,a+d[0],b+d[1])}};dq.w0=class{constructor(a,b,d){this.xa=d;this.a3=nq(a);this.b3=nq(b);this.Mi=this.Li=0}A(){}vc(){return"line"}Ma(){return this.xa}aD(a,b){this.Li=a;this.Mi=b}X(){return this.a3+this.Li}Y(){return this.b3+this.Mi}};"use strict";const bq=self.D;function km(a){if(a.$s)return a.$s;a.$s=new Promise(b=>{a.WF=b});return a.$s}function cq(a){if(!a.Ie)for(const b of a.lb)b.dn()}
function Tp(a){a.$s&&(a.WF(),a.$s=null,a.WF=null)}function Xp(a){return a.lb.some(b=>oq(b)?pq(b):!0)}function qq(a,b,d,c,e){if(a.DE){var g;for(let l=0;l<a.lb.length;l++){var k=a.lb[l];b===k.ja()&&(k=k.Qd(c))&&d.constructor===k.Kb().constructor&&k.Bc()===e.Bc()&&(g||(g=[]),g.push(k))}return g}}function rq(a){return a.IsPlaying()?0<a.kd:!0}function sq(a,b){a.Hh=b;b=a.Ha();if(0>=b||b>=a.$c())a.Hh=!0}function tq(a,b){bq.Xb(b)||(b=a.$c());a.Ob=0>b?0:b>=a.$c()?a.$c():b}
function uq(a){a.DE=0;for(const b of a.lb)b.Vp&&(a.DE=1)}function vq(a,b,d=!1,c=NaN,e=!1,g=!1){for(var k of a.lb)k.Yq();for(const l of a.lb){k=b;if("number"===typeof c&&!isNaN(c)){const n=a.Ha()-l.Mg(),p=c-l.Mg();0>n&&0<p&&(k=l.Mg(),tq(a,k))}l.Qa(k,!1,d,!0,a.Dg,g)}for(const l of a.lb)l.Xq();a.Dg&&e&&(a.Dg=!1)}function wq(a){a.wc=0;for(const b of a.lb)b.qD(),0===a.wc&&1===b.wc&&(a.wc=1),a.Mu||1!==b.Rh||(a.Mu||(a.Mu=[]),a.MR=a.Mu.push(b))}
function xq(a){bq.F.Oc&&a.constructor===bq.Ir&&(bq.F.Oc.H.xI(a),a.Rb.na(bq.F.Oc.H.V$),a.Rb.na(bq.F.Oc.H.W$),a.Rb.na(bq.F.Oc.H.X$),bq.F.Oc.H.uI())}function jm(a){if(!a.hr())if(a.fu()&&1===a.Qb)if(rq(a)){if(a.Ha()>=a.$c())return!1}else{if(0>=a.Ha())return!1}else if(!a.hr()&&!a.fu())if(rq(a)){if(a.Ha()>=a.$c())return!1}else if(0>=a.Ha())return!1;return!0}function yq(a){return a.lb.some(b=>oq(b)?pq(b)?(b=b.J())?b.Kf():!1:!1:!1)}
function zq(a){for(const b of a.lb)b.Uc=null,b.Kn=NaN,b.$a=null,b.$n=NaN}function Aq(a,b){for(const d of a.lb)if(b===d.ja())return d;return null}function Bq(a){return a.lb.map(b=>b.Aa())}function Cq(a,b){zq(a);b.forEach((d,c)=>{a.lb[c].Ba(d)});a.lb.filter(d=>pq(d))}
bq.Ir=class extends bq.Ca{constructor(a,b,d){super();this.j=d.K();this.Rb=d;this.Dd=b;this.Sa=a;this.lb=[];this.BU=0;this.Mu=null;this.MR=0;this.AP();this.WF=this.$s=null;this.mq=this.Ob=0;this.kd=1;this.Qb=0;this.Re=1;this.Qp=this.Mh=this.Pn=!1;this.Hh=!0;this.Rs=this.Ie=!1;this.xp=-1;this.Dg=this.Bn=this.Jv=this.Bv=!1;this.Nv=NaN;this.fh=[""];this.rU="";this.xN=!1;this.DE=this.wc=0}static KH(a,b,d){return bq.C(bq.Ir,a,b,d)}A(){if(!this.Ie){var a=this.j.sb();Sp(this.Rb,this);Up(this.Rb,this);Tp(this);
for(const b of this.lb)b.A();bq.I(this.lb);this.Dd=this.Rb=this.j=this.lb=null;this.Ie=!0;this.WF=this.$s=null;this.JP(a)}}JP(a){const b=bq.C(bq.Event,"timelinestatereleased");b.Aja=this;a.dispatchEvent(b)}vc(){return 0}AP(){for(const a of Dq(this.Dd.Mx()))this.BU=this.lb.push(bq.YI.Ka(this,a))}K(){return this.j}$C(a){this.Sa=a}ua(){return this.Sa}hu(){return this.Dd.ua()}$c(){return this.Dd.$c()}RI(a){this.Dd.RI(a)}Jx(){return this.Dd.Jx()}ij(){return this.Dd.ij()}Bc(){return this.Dd.Bc()}Ll(a){for(const b of this.lb)b.Ll(a)}hr(){return this.Dd.hr()}MI(a){return this.Dd.MI(a)}fu(){return this.Dd.fu()}ji(){return this.Dd.ji()}nj(a){return this.kd=
a}$H(){return this.Dd.$H()}BC(){return this.Dd.BC()}aI(){return this.Dd.aI()}Gr(a){if(bq.Gl(a))a=a.slice(0);else if(bq.kj(a))a=a.split(" ");else throw Error("invalid tags");this.fh=a;this.xN=!0}yC(){return this.fh}vQ(){bq.F.Oc&&this.constructor===bq.Ir&&(bq.F.Oc.H.xI(this),this.Rb.na(bq.F.Oc.H.aaa),this.Rb.na(bq.F.Oc.H.baa),this.Rb.na(bq.F.Oc.H.caa),this.Rb.na(bq.F.Oc.H.K$),bq.F.Oc.H.uI())}IP(){this.Bn||(this.Bn=!0,bq.F.Oc&&this.constructor===bq.Ir&&(bq.F.Oc.H.xI(this),this.Rb.na(bq.F.Oc.H.Y$),this.Rb.na(bq.F.Oc.H.Z$),
this.Rb.na(bq.F.Oc.H.$$),this.Rb.na(bq.F.Oc.H.J$),bq.F.Oc.H.uI()))}IsPlaying(a=!1){return this.xp===this.j.Ui||this.Mh&&!a?!0:this.Pn}Ha(){return this.Ob}Hr(a){const b=this.Ha();tq(this,a);sq(this,!1);this.Hh||(this.Bv=!0);if(this.IsPlaying(!0)||this.Mh||!this.Qp)this.IsPlaying(!0)||this.Mh||this.Qp?this.IsPlaying(!0)?this.ue():this.Mh&&(Sp(this.Rb,this),this.bd(!0)):this.bd(!0);uq(this);vq(this,this.Ha(),!0,b);wq(this);this.wc&&this.K().qa();xq(this)}jn(a){bq.Xb(a)||(a=this.$c());this.Ob=0>a?0:a>=
this.$c()?this.$c():a;for(const b of this.lb)b.sk()}Play(a=!1){this.Ie||this.Mh?a=!1:this.IsPlaying(!0)&&this.xp===this.j.Ui?(this.Bv=!1,a=this.Rb,Mp.Cm(a.Ge,this),Qp(a),Rp(this.Rb,this),km(this),a=!0):this.IsPlaying(!0)||!this.Hh&&!a&&!this.Bv?a=!1:(this.Bv=!1,Rp(this.Rb,this),km(this),a=!0);return a}ue(a=!1){this.Ie||(sq(this,a),Up(this.Rb,this),this.Hh&&Tp(this))}Yb(a=!0,b=!1){if(!this.Ie)if(!this.IsPlaying(!0)&&this.Mh)Sp(this.Rb,this);else if(!this.Hh){this.ue(!0);rq(this)?tq(this,0):tq(this,
this.$c());var d=this.Ha();uq(this);b?vq(this,d,!1,NaN,!1,!0):vq(this,d,!1);a&&xq(this);wq(this);this.wc&&a&&this.K().qa()}}uy(){if(this.Ie)return!0;if(!this.K().zj&&yq(this))return!1;Vp(this.Rb,this);this.K().zj||this.Yb(!1,!0);return!0}bd(a){if(!this.Rs){if(a){this.Bn=!1;this.Dg=this.Qp=!0;uq(this);for(const b of this.lb)b.bd()}else if(this.Pn=!0,this.Mh=!1,this.vQ(),this.Hh){this.xp=-1;0!==this.Qb&&(this.kd=Math.abs(this.kd));this.Qb=0;this.Re=1;this.Bn=this.Hh=!1;this.Dg=this.Qp=!0;rq(this)?tq(this,
0):tq(this,this.$c());uq(this);for(const b of this.lb)b.bd()}else{this.Dg=!0;this.Bn=!1;uq(this);for(const b of this.lb)b.vg()}wq(this)}}Oe(a,b,d){if(this.aI()){if(0===a&&0===this.Nv)return;this.Nv=a;a=d}else{if(0===d&&0===this.Nv)return;a=this.Nv=d;b=1}d=this.Ob+this.mq;b=d+a*b*this.kd;a=this.Dd.yt;0>b?(this.Ob=0,this.mq=-b):b>=a?(this.Ob=a,this.mq=this.Ob-b):(this.Ob=b,this.mq=0);var c=!1;b=!1;var e=this.hr(),g=this.fu();e||g?e&&!g?0<this.kd?this.Ob>=a&&(this.jn(0),b=!0):0>=this.Ob&&(this.jn(a),
b=!0):!e&&g?0<this.kd?this.Ob>=a&&(tq(this,a),this.nj(-1*this.kd),b=!0,1===this.Qb?this.Re<this.ji()?(this.Re++,this.Qb=0):c=!0:0===this.Qb&&(this.Qb=1)):0>=this.Ob&&(tq(this,0),this.nj(-1*this.kd),b=!0,1===this.Qb?this.Re<this.ji()?(this.Re++,this.Qb=0):c=!0:0===this.Qb&&(this.Qb=1)):e&&g&&(0<this.kd?this.Ob>=a&&(tq(this,a),this.nj(-1*this.kd),b=!0,this.Qb++,bq.wrap(this.Qb,0,2)):0>=this.Ob&&(tq(this,0),this.nj(-1*this.kd),b=!0,this.Qb++,bq.wrap(this.Qb,0,2))):0<this.kd?this.Ob>=a&&(this.Re<this.ji()?
(this.Re++,this.jn(0),b=!0):(tq(this,a),c=!0)):0>=this.Ob&&(this.Re<this.ji()?(this.Re++,this.jn(a),b=!0):(tq(this,0),c=!0));e=this.BU;if(c){for(c=0;c<e;c++)this.lb[c].gy();this.ue(!0);this.xp=this.j.Ui}else{g=this.MR;for(c=0;c<g;c++)this.Mu[c].Yq();if(1===this.DE)for(c=0;c<e;c++){const k=this.lb[c],l=k.Mg(),n=d-l;0>this.Ob-l&&0<n?(this.Ob=0>l?0:l>=a?a:l,k.Qa(l,!0,!1,b,this.Dg,!1)):k.Qa(this.Ob,!0,!1,b,this.Dg,!1)}else for(c=0;c<e;c++)this.lb[c].Qa(this.Ob,!0,!1,b,this.Dg,!1);for(c=0;c<g;c++)this.Mu[c].Xq();
this.Dg&&(this.Dg=!1)}}wl(){for(const a of this.lb)a.wl()}Qd(a){for(const b of this.lb)for(const d of b.jb)if(d.ya.ld===a)return d}uC(){const a=[];for(const b of this.lb)a.push(b.J());return a.filter(b=>b)}Pf(){for(const a of this.lb)a.Pf()}Aa(){return{tracksJson:Bq(this),name:this.Sa,playheadTime:this.Ha(),playbackRate:this.kd,pingPongState:this.Qb,currentRepeatCount:this.Re,isPlaying:this.Pn,isScheduled:this.Mh,initialStateSet:this.Qp,finishedTriggers:this.Bn,complete:this.Hh,released:this.Ie,markedForRemoval:this.Rs,
completedTick:this.xp,implicitPause:this.Bv,isTemplate:this.Jv,tags:this.fh.join(" "),stringTags:this.rU,tagsChanged:this.xN,firstTick:this.Dg}}Ba(a){a&&(Cq(this,a.tracksJson),this.Sa=a.name,this.Ob=a.playheadTime,this.kd=a.playbackRate,this.Qb=a.pingPongState,this.Re=a.currentRepeatCount,this.Pn=!!a.isPlaying,this.Mh=!!a.isScheduled,this.Qp=!!a.initialStateSet,this.Bn=a.hasOwnProperty("finishedTriggers")?!!a.finishedTriggers:!1,this.Hh=!!a.complete,this.Ie=!!a.released,this.Rs=!!a.markedForRemoval,
this.xp=a.completedTick,this.Bv=!!a.implicitPause,this.Jv=!!a.isTemplate,this.fh=a.tags.split(" "),this.rU=a.stringTags,this.xN=!!a.tagsChanged,this.Dg=!!a.firstTick)}};"use strict";const Eq=self.D;
function Fq(a,b){if(a.Uc!==b){a.wl();a.Uc=b;a.$n=b.J().Ma();a.Kn=b.Sb;a.$a=b.B();for(const l of Gq(a)){var d=l.X4;switch(l.R4.hf()){case "instance-variable":var c=b.J(),e=Hq(c,l.name),g=Iq(c,e);c=Jq(c,e);g===l.name&&c===l.type&&d.U.ya.Gg[0]!==e&&(d.kB=e);break;case "behavior":var k=l.cO;g=a.J();c=b.J();e=d.qh(c);k&&e&&(k=k.ua(),Kq(g,k),Kq(c,k),e=e.mb,d.U.ya.Gg[0]!==e&&(d.mb=e))}}}}function oq(a){return 0===a.vc()}function pq(a){return oq(a)?(a=Lq(a.K(),a.Ex()))?!Mq(a):!1:!1}
function Nq(a){if(a.Vc)return a.Vc;a.Vc=a.lc.gk().Vc;return a.Vc}function Oq(a){a.Uc||a.ja()}function Pq(a){return a.Uc?!Mq(a.Uc):!1}function*Gq(a){for(const c of a.jb){var b=c.Kb(),d=a.J();const e={R4:c,X4:b};switch(c.hf()){case "world-instance":e.Eia=c.ya.ld;break;case "instance-variable":b=b.eu();e.name=Iq(d,b);e.type=Jq(d,b);break;case "effect":d=Qq(d.Va,b.U.ya.Gg[0]);e.Qga=d;break;case "behavior":d=b.qh(d);e.cO=d;break;case "plugin":e.yia=d.nb()}yield e}}
function Rq(a,b){a:{var d=a.lc.gk().Vc;const c=d.length;for(let e=0;e<c;e++){const g=d[e];if(g.Ha()===b){d=g;break a}}d=void 0}return d?d:Sq(b,a.lc)}function Tq(a){return a.jb.map(b=>b.Aa())}function Uq(a,b){b.forEach((d,c)=>{a.jb[c].Ba(d)})}function Vq(a,b){b=a.lc.gk().Vc[b];a.$k=b}
Eq.YI=class extends Eq.Ca{constructor(a,b){super();this.ig=a;this.lc=b;this.Vi=b.Mx();this.$n=this.Kn=NaN;this.$a=this.Uc=null;this.Vp=0<b.Mg();this.Gp=this.Fs=!1;this.TE=NaN;this.$k=null;this.Vc=this.lc.gk().Vc;this.jb=[];this.yP();this.Rh=this.wc=this.Hg=0}static Ka(a,b){return Eq.C(Eq.YI,a,b)}A(){this.Vc=null;for(const a of this.jb)a.A();Eq.I(this.jb);this.$k=this.lc=this.$a=this.Uc=this.ig=this.jb=null}yP(){for(const a of Wq(this.lc.gf()))this.jb.push(Eq.yb.Ka(this,a))}dn(){for(const a of this.jb)a.dn()}wl(){for(const a of this.jb)a.wl();
this.$a=this.Uc=null}gb(){return this.ig}K(){return this.ig.K()}Qd(a){for(let b=0;b<this.jb.length;b++){const d=this.jb[b];if(d.ya.ld===a)return d}}J(){if(oq(this)){var a=this.WH();if(-1!==a)return Cn(this.K(),a)}}ja(){return this.Uc&&Pq(this)?this.Uc:this.Uc=Lq(this.K(),this.Ex())}B(){if(this.$a&&Pq(this))return this.$a;const a=this.ja();a&&(this.$a=a.B());return this.$a}Ex(){return isNaN(this.Kn)?this.lc.Ex():this.Kn}ij(){return this.lc.ij()}Bc(){return this.lc.Bc()}hj(){return this.lc.hj()}Mg(){return this.lc.Mg()}Qm(){return this.lc.Qm()}Ll(a){for(const b of Nq(this))b.Ll(a);
for(const b of this.jb)b.Ll(a)}Pm(){return this.lc.Pm()}$m(a){this.lc.$m(a)}WH(){return isNaN(this.$n)?this.lc.WH():this.$n}uh(){const a=this.ja();return a&&a.oa.jj()?a.oa.uh():this.lc.uh()}th(){const a=this.ja();return a&&a.oa.jj()?a.oa.th():this.lc.th()}vc(){return this.lc.vc()}ua(){return this.lc.ua()}sk(){for(const a of this.jb)a.sk()}bd(){Oq(this);if(Pq(this)||!oq(this)){var a=rq(this.gb())?0:this.Qm();for(const b of this.jb)b.bd(a),0===this.Hg&&1===b.Hg&&(this.Hg=1),0===this.wc&&1===b.wc&&(this.wc=
1);this.Rh=0;this.jb.some(b=>b.Rh)&&(this.Rh=1);this.$k=Rq(this,a);this.Gp=this.Fs=!1;this.Qa(a);this.OC(Rq(this,a))}}vg(){Oq(this);if(Pq(this)||!oq(this)){rq(this.ig);var a=this.ig.Ha()-this.Mg();this.$k=Rq(this,a);for(const b of this.jb)b.vg(a)}}gy(){if(!(this.gb().Hh||(Oq(this),!Pq(this)&&oq(this)||this.Vp))){const a=this.ig.Ha();a>=this.Mg()+this.Qm()?this.Qa(this.Qm(),!0,!1,!0,!1,!1,!0):0>=a&&this.Qa(0,!0,!1,!0,!1,!1,!0)}}qD(){for(let a=0,b=this.jb.length;a<b;a++){const d=this.jb[a];d.qD();0===
this.Hg&&1===d.Hg&&(this.Hg=1);0===this.wc&&1===d.wc&&(this.wc=1)}}Yq(){const a=this.jb.length;for(let b=0;b<a;b++)this.jb[b].Yq()}Qa(a,b=!1,d=!1,c=!1,e=!1,g=!1,k=!1){this.Uc||this.ja();var l=0===this.lc.Da;if(!((!this.Uc||Mq(this.Uc))&&l||g&&l&&this.J().Kf()||(a-=this.Mg(),0>a))){a:if(g=a,b&&this.Vp&&!this.Fs){if(rq(this.gb())){if(0>g)break a}else if(g>this.Qm())break a;for(var n of this.jb)n.bd();this.Fs=!0}n=a;if(!e&&b&&Eq.F.Oc){e=this.gb();g=this.$k.vf;l=this.$k.Ha();var p=g?g.Ha():e.$c();if(n<=
l||n>=p)this.$k=Sq(n,this.lc),rq(e)?g&&this.OC(this.$k):(e=this.$k.vf)&&this.OC(e)}for(let r=0,w=this.jb.length;r<w;r++)this.jb[r].Qa(a,d,c,k);if(b&&this.Vp&&!this.Gp)if(rq(this.gb())){if(a>=this.Qm()){for(const r of this.jb)r.Qa(this.Qm(),!1,!0);this.Gp=!0}}else if(0>=a){for(const r of this.jb)r.Qa(0,!1,!0);this.Gp=!0}0!==this.Hg&&(this.$a||(this.$a=this.Uc.B()),this.$a&&U(this.$a))}}Xq(){const a=this.jb.length;for(let b=0;b<a;b++)this.jb[b].Xq()}OC(a){if(Eq.F.Oc){var b=this.gb(),d=b.Rb;Eq.F.Oc.H.xI(b);
Eq.F.Oc.H.dba(a);d.na(Eq.F.Oc.H.H$);d.na(Eq.F.Oc.H.OC);Eq.F.Oc.H.uI(b);Eq.F.Oc.H.Qaa(a)}}fC(a){for(const b of this.jb)b.fC(a)}Er(){for(const a of this.jb)a.Er()}$j(){Oq(this);if(Pq(this)||!oq(this))for(const a of this.jb)a.$j()}ak(){Oq(this);if(Pq(this)||!oq(this)){var a=!1;for(const b of this.jb){const d=b.ak();!a&&d&&(a=!0)}a&&(a=Xq(this.lc.gk()),a.Hr(this.gb().Ha()),a.Ll("noease"),a.$m(!0),a.Gr(""))}}Pf(){if(!isNaN(this.TE)){var a=this.TE;if(Eq.Xb(a)&&(a=Lq(this.K(),a))){var b=this.gb(),d=this.lc.hj(),
c=this.ig.lb.indexOf(this);if(a)if("number"===typeof c&&0<=c){var e=b.lb[c];e&&(Fq(e,a),Op(b.Rb,a.J(),b))}else for(e of b.lb)if(oq(e)){if(d){if(e.hj()!==d)continue}else if(e.Uc)continue;Fq(e,a);Op(b.Rb,a.J(),b);break}}}this.TE=NaN}Aa(){var a=this.ja();a=a?a.Sb:this.Ex();var b=Tq(this);var d=this.lc.gk().Vc.indexOf(this.$k);return{propertyTracksJson:b,lastKeyframeDataItemJson:d,initialStateOfNestedSet:this.Fs,endStateOfNestedSet:this.Gp,instanceUid:a}}Ba(a){if(a){Uq(this,a.propertyTracksJson);Vq(this,
a.lastKeyframeDataItemJson);this.TE=a.instanceUid;this.Fs=!1;a.hasOwnProperty.initialStateOfNestedSet&&(this.Fs=a.initialStateOfNestedSet);this.Gp=!1;a.hasOwnProperty.endStateOfNestedSet&&(this.Gp=a.endStateOfNestedSet);for(const b of this.jb)0===this.Hg&&1===b.Hg&&(this.Hg=1),0===this.wc&&1===b.wc&&(this.wc=1);this.Rh=0;this.jb.some(b=>b.Rh)&&(this.Rh=1)}}};"use strict";const Yq=self.D;function Zq(a){a.gf();return $q(a.ya).Zb[0].vc()}
function ar(a){if(a.Zb)return a.Zb;a.Zb=$q(a.ya).Zb;return a.Zb}function br(a,b){const d=a.gb(),c=a.Mc.wC(b,a.ya);return c?c:rq(d)?a.Mc.rh(b,a.ya):dr(b,a.ya)}
Yq.yb=class extends Yq.Ca{constructor(a,b){super();this.Cb=a;this.ya=b;this.Mc=b.gf();this.Rh=this.wc=this.Hg=0;this.eg=this.Kb();this.Zb=$q(this.ya).Zb;this.Sr=this.Cd=null}static Ka(a,b){return Yq.C(Yq.yb,a,b)}A(){this.Cb=null;this.eg&&(this.eg.A(),this.eg=null);this.Mc=this.ya=this.Zb=null}gf(){return this.Mc}gb(){return this.Cb.gb()}K(){return this.Cb.K()}ja(){return this.Cb.ja()}Kb(){if(this.eg)return this.eg;let a;switch(this.ya.hf()){case "behavior":a=new Yq.yb.NW(this);break;case "effect":a=
new Yq.yb.mX(this);this.wc=1;break;case "instance-variable":a=new Yq.yb.EY(this);break;case "plugin":a=new Yq.yb.C_(this);this.wc=1;break;case "world-instance":a=new Yq.yb.xr(this);this.Hg=this.wc=1;break;case "value":a=new Yq.yb.E0(this);break;case "audio":a=new Yq.yb.KW(this)}return this.eg=a}hf(){return this.ya.hf()}Pm(){return this.ya.Pm()}$m(a){this.ya.$m(a)}ij(){return this.ya.ij()}Bc(){return this.ya.Bc()}Ll(a){for(const b of ar(this))b.Ll(a)}EH(){return this.ya.EH()}xC(){return $q(this.ya).xC()}wC(a){return this.Mc.wC(a,
this.ya)}rh(a){return this.Mc.rh(a,this.ya)}dn(){this.Kb().dn()}wl(){this.Kb().wl()}pg(){return this.Kb().pg()}sk(){this.Kb().sk()}bd(a){this.Kb().bd();this.Cd=br(this,a);this.qD()}vg(a){this.Kb().vg();this.Cd=br(this,a)}qD(){var a=this.Cb;this.Rh=0;if(oq(a)){var b=this.gb();a=a.ja();const d=this.Kb(),c=this.ya.ld;d.Hl()?(b=qq(b,a,d,c,this))&&b.length&&(this.Rh=1):this.Rh=0}}Yq(){this.eg.Yq()}Qa(a,b=!1,d=!1,c=!1){let e,g=!1;if(b)var k=this.Mc.rh(a,this.ya);else{if(this.Cd){var l=this.gb();const n=
this.Cd.vf;k=this.Cd.Ha();l=n?n.Ha():l.$c();if(a<=k||a>=l)this.Cd=this.Mc.rh(a,this.ya),g=!0}else this.Cd=this.Mc.rh(a,this.ya),g=!0;k=this.Cd}k&&(e=k.vf);this.eg.Qa(a,k,e,b,d,c,g)}qg(a){if(this.Cd){var b=this.gb();const c=this.Cd.vf;var d=this.Cd.Ha();b=c?c.Ha():b.$c();if(a<=d||a>=b)this.Cd=this.Mc.rh(a,this.ya)}else this.Cd=this.Mc.rh(a,this.ya);d=this.Cd;return this.eg.qg(a,d,d.vf)}Xq(){this.eg.Xq()}oP(){const a=er($q(this.ya));this.Cd=null;return a}fC(a){this.Cd=null;fr($q(this.ya),a)}Er(){this.Kb().Er()}$j(){if(this.Kb().$j()){const a=
$q(this.ya).Zb[0],b=this.Kb().pg();gr(a,b)}}ak(){const a=this.Kb().ak();if(a){const b=this.gb().Ha(),d=this.Kb(),c=this.Mc.rh(b,this.ya),e=this.oP();e.bR(c.vc());e.Hr(b);e.Ll(c.Qo());e.$m(!0);e.wg(hr(d));gr(e,d.pg())}this.Kb().ZB();return a}Aa(){return{sourceAdapterJson:this.Kb().Aa()}}Ba(a){a&&this.Kb().Ba(a.sourceAdapterJson)}};"use strict";const ir=self.D.yb;
function hr(a){a=a.U;const b=a.Cb.gb().Ha(),d=a.Mc.rh(b,a.ya),c=d.vf;switch(Zq(a)){case "numeric":return ir.Wx.Qa(b,d,c,a);case "angle":return ir.TB.Qa(b,d,c,a);case "boolean":return ir.WB.Qa(b,d,c,a);case "color":return ir.$B.Qa(b,d,c,a);case "text":return ir.dD.Qa(b,d,c,a)}}function jr(a){if(a.bh)return a.bh;a.bh=kr(a);return a.bh}
function kr(a){const b=a.U;switch(b.EH()?Zq(b):""){case "combo":case "boolean":case "text":case "string":return new ir.Og.kQ(a);case "numeric":case "number":case "angle":return"combo"===a.U.ya.vc()?new ir.Og.kQ(a):new ir.Og.lQ(a);case "color":case "offsetColor":return new ir.Og.WW(a);default:return new ir.Og.lQ(a)}}
ir.xr=class{constructor(a){this.U=a;this.bh=null;jr(this)}A(){this.bh&&(this.bh.A(),this.bh=null);this.U=null}Hl(){return this.bh.Hl()}Qd(){return this.U}dn(){this.bh&&this.bh.dn()}wl(){this.bh&&this.bh.wl()}eu(){}Ma(){return this.eu()}Lx(){}sk(){jr(this).sk()}bd(){jr(this).bd()}vg(){jr(this).vg()}Yq(){this.bh.Yt()}Qa(a,b,d,c,e,g,k){let l;switch(Zq(this.U)){case "numeric":l=ir.Wx.Qa(a,b,d,this.U);break;case "angle":l=ir.TB.Qa(a,b,d,this.U);break;case "boolean":l=ir.WB.Qa(a,b,d,this.U);break;case "color":l=
ir.$B.Qa(a,b,d,this.U);break;case "text":l=ir.dD.Qa(a,b,d,this.U)}this.bh.Zq(a,l,b,d,c,e,g,k)}qg(a,b,d){switch(Zq(this.U)){case "numeric":return ir.Wx.Qa(a,b,d,this.U);case "angle":return ir.TB.Qa(a,b,d,this.U);case "boolean":return ir.WB.Qa(a,b,d,this.U);case "color":return ir.$B.Qa(a,b,d,this.U);case "text":return ir.dD.Qa(a,b,d,this.U)}}Xq(){this.bh.Wt()}Er(){var a=jr(this);a.Lj=a.pg()}ZB(){jr(this).ZB()}pg(){return jr(this).pg()}$j(){return jr(this).$j()}ak(){return jr(this).ak()}Aa(){return{propertyAdapterJson:jr(this).Aa()}}Ba(a){a&&
jr(this).Ba(a.propertyAdapterJson)}};"use strict";const mr=self.D;class nr extends mr.yb.xr{constructor(a){super(a);this.kB=NaN}eu(){return this.U.ya.Gg[0]}Ma(){return this.kB?this.kB:super.Ma()}Lx(){return this.U.Cb.ja()}Qa(a,b,d,c,e,g,k){jr(this).DH(b.nd())&&super.Qa(a,b,d,c,e,g,k)}qg(a,b,d){if(jr(this).DH(b.nd()))return super.qg(a,b,d)}Aa(){return Object.assign(super.Aa(),{index:this.kB})}Ba(a){a&&(super.Ba(a),this.kB=a.index)}}mr.yb.EY=nr;"use strict";const or=self.D;
class pr extends or.yb.xr{constructor(a){super(a);this.mb=NaN}eu(){return this.U.ya.Gg[1]}Lx(){var a=this.U.ya,b=this.mb?this.mb:a.Gg[0];a=this.U.Cb.ja();b=qr(a,b);return a.zd[b].oa}qh(a){return a.Nu.get(this.U.ya.Gg[2].toLowerCase())||null}Qa(a,b,d,c,e,g,k){const l=this.U.Cb.ja();this.qh(l.J())&&super.Qa(a,b,d,c,e,g,k)}qg(a,b,d){const c=this.U.Cb.ja();if(this.qh(c.J()))return super.qg(a,b,d)}Aa(){return Object.assign(super.Aa(),{sid:this.mb})}Ba(a){a&&(super.Ba(a),this.mb=a.sid)}}or.yb.NW=pr;"use strict";
const rr=self.D;function sr(a){const b=a.U.Cb.B().Wf;if(a=Qq(b.Va,a.U.ya.Gg[0]))return b.So(a.Ma())}class tr extends rr.yb.xr{constructor(a){super(a)}eu(){return this.U.ya.Gg[1]}Lx(){const a=this.U.Cb.B().Wf,b=Qq(a.Va,this.U.ya.Gg[0]).Ma();return a.So(b)?a.NP(b):null}Qa(a,b,d,c,e,g,k){sr(this)&&super.Qa(a,b,d,c,e,g,k)}qg(a,b,d){if(sr(this))return super.qg(a,b,d)}}rr.yb.mX=tr;"use strict";const ur=self.D;
function vr(a){const b=a.U.Cb.J().nb();if(ur.F.Lb&&b instanceof ur.F.Lb&&("initial-frame"===a.U.ya.ld||"initial-animation"===a.U.ya.ld))switch(a.U.Bc()){case "relative":return null;case "absolute":return null}}
class wr extends ur.yb.xr{constructor(a){super(a)}eu(){return this.U.ya.Gg[0]}Lx(){return this.U.Cb.ja().oa}Qa(a,b,d,c,e,g,k){var l=this.U.Cb;const n=l.J().nb();l=l.ja().J().nb();n===l&&super.Qa(a,b,d,c,e,g,k)}qg(a,b,d){var c=this.U.Cb;const e=c.J().nb();c=c.ja().J().nb();if(e===c)return super.qg(a,b,d)}}ur.yb.C_=wr;"use strict";const xr=self.D;
class yr extends xr.yb.xr{constructor(a){super(a);this.Yc=0;this.OE=!1}Hl(){return!1}bd(){this.U.gf();let a=this.U.ya;a=$q(a).Zb[0];this.Yc=nq(a)}vg(){}nd(){this.OE||this.U.Qa(0);return this.Yc}Qa(a,b,d){this.Yc=xr.yb.Wx.Qa(a,b,d,this.U);this.OE=!0}Er(){}ZB(){}pg(){return this.Yc}$j(){return!1}ak(){return!1}Aa(){return{value:this.Yc,init:this.OE}}Ba(a){a&&(this.Yc=a.value,this.OE=a.hasOwnProperty("init")?a.init:!0)}}xr.yb.E0=yr;"use strict";const zr=self.D;
function Ar(a){if(self.D.F.Audio){var b;if(b=a.U.K().jm.QM.get(self.D.F.Audio)||null){if(!b.Rn)throw Error("must be single-global plugin");b=b.jN}else b=null;b&&(a.dg=b.jk().oa);a.Dc=self.D.F.Audio.Pa;a.ov=self.D.F.Audio.uc}}function Br(a){if(!a.Qg){var b=a.U.Cb.Qd("audioSource");b&&(a.Qg=b.Kb())}}
class Cr extends zr.yb.xr{constructor(a){super(a);this.Ql=!1;this.ov=this.Dc=this.dg=null;this.ig=this.U.gb();this.Cb=this.U.Cb;this.RA=this.U.ya.Gg;this.LK=this.RA[0];this.uN=this.RA[1];this.sj=this.RA[3]?this.RA[3]:Math.random().toString(36).slice(2);this.Gt=this.Ys=this.pq=NaN;this.Qg=null;Ar(this)}A(){super.A();this.Qg=this.LK=this.RA=this.Cb=this.ig=this.ov=this.Dc=this.dg=null}dn(){super.dn();this.Ql=!1;this.dg&&(this.ov&&(this.pq=this.ov.A_.call(this.dg,this.sj),this.Ys=this.ov.G0.call(this.dg,
this.sj)),this.Dc&&this.Dc.ue.call(this.dg,this.sj))}gp(a){this.Gt=a}bd(){super.bd();this.pq=NaN;this.Ql=!1}vg(){super.vg();const a=this.U.gb().Ha();this.pq=a-this.uN;switch(this.U.ya.ld){case "volume":this.Ys=this.U.qg(a)}this.Ql=!1}Qa(a,b,d,c,e,g,k){if(this.dg)switch(this.U.ya.ld){case "audioSource":if(!rq(this.ig))break;if(c){this.Dc&&this.Dc.ue.call(this.dg,this.sj);break}if(a<this.uN){this.Ql=!1;break}b=this.ov.z_.call(this.dg,this.sj);d=this.ig.kd;d!==b&&this.Dc.nj.call(this.dg,this.sj,d);if(this.Ql)break;
if(!this.U.gb().IsPlaying())break;this.Ql=!0;isNaN(this.pq)?(b=self.performance.now(),a-=this.uN,"suspended"===Dr(this.dg)?this.Ql=!1:(a+=(self.performance.now()-b)/1E3,this.Dc&&(b=this.Gt,isNaN(b)?(this.gp(0),b=0):this.gp(b),this.Dc.yQ.call(this.dg,this.LK,b,this.sj,a)))):(a=this.pq,this.pq=NaN,b=(b=this.U.Cb.Qd("volume"))?b.Kb().Ys:this.Ys,this.Ys=NaN,"suspended"===Dr(this.dg)?this.Ql=!1:this.Dc&&(this.gp(b),this.Dc.yQ.call(this.dg,this.LK,b,this.sj,a)));break;case "volume":Br(this),super.Qa(a,
b,d,c,e,g,k)}}qg(a,b,d){if(this.dg)switch(this.U.ya.ld){case "volume":return Br(this),super.qg(a,b,d)}}QP(){return this.Qg?this.Qg.Gt:0}a0(a,b){this.Qg&&this.Qg.gp(this.QP()+b);this.Dc&&this.Qg&&this.Dc.gp.call(this.dg,this.Qg.sj,this.Qg.Gt)}uW(a,b){this.Qg&&this.Qg.gp(b);this.Dc&&this.Qg&&this.Dc.gp.call(this.dg,this.Qg.sj,this.Qg.Gt)}Aa(){return{audioPlaybackStarted:this.Ql,audioTag:this.sj,pauseTime:this.pq,pauseVolume:this.Ys,volume:this.Gt}}Ba(a){a&&(this.Ql=a.audioPlaybackStarted,this.sj=a.audioTag,
this.pq=a.pauseTime,this.Ys=a.pauseVolume,this.Gt=a.volume,Ar(this))}}zr.yb.KW=Cr;"use strict";function Er(a,b,d){return rq(a.U.gb())?b():d()}function Fr(a,b,d){return"relative"===a.U.Bc()?b():d()}function Gr(a){if(a.Hw)return a.Hw;a.Hw=a.eg.Lx();return a.Hw}function Hr(a,b=!1){const d=[];for(const c of a){a=c.Cb.Mg();for(const e of ar(c))b&&0===e.Ha()?d.push({time:a+e.Ha(),value:e.pj}):b||d.push({time:a+e.Ha(),value:e.pj})}return d.sort((c,e)=>c.time-e.time)}
function Ir(a,b){for(let d=b.length-1;0<=d;d--)if(b[d].time<=a)return b[d];return null}
self.D.yb.Og=class{constructor(a){this.eg=a;this.U=a.Qd();this.$a=this.U.Cb.B();this.ld=this.U.ya.ld;this.qv=!1;this.Hw=this.Lj=null}A(){this.Hw=this.Lj=this.$a=this.U=this.eg=null}Hl(){return!1}dn(){}wl(){this.Hw=this.Lj=this.$a=null}Kb(){return this.eg}Qd(){return this.U}B(){return this.$a?this.$a:this.$a=this.U.Cb.B()}sk(){}bd(){}vg(){}ZB(){this.Lj=null}pg(){}$j(){}ak(){}DH(a){return typeof this.hn()===typeof a}Yt(){}Zq(){}Wt(){}Mr(){return Er(this,()=>{const a=this.U.ya;this.U.gf();return $q(a).Zb[0]},
()=>{const a=this.U.ya;return this.U.gf().hk(a)}).pj}kD(){const a=this.U.gb().Ha()-this.U.Cb.Mg();return Er(this,()=>{const b=this.U.ya;return this.U.gf().rh(a,b)},()=>{const b=this.U.ya,d=this.U.gf(),c=dr(a,b);return c?c:d.hk(b)}).pj}lD(){}zg(){return this.eg.Ma()}Aa(){return{firstAbsoluteUpdate:this.qv,saveState:this.Lj}}Ba(a){a&&(this.qv=a.firstAbsoluteUpdate,this.Lj=a.saveState)}};"use strict";const Jr=self.D,Kr=new Map,Lr=[0,0,0];
function Tr(a){return Jr.pr(a,Jr.ub)?a.toArray().slice(0,3):a.slice(0,3)}function Ur(a,b){a=Vr(a);b=Vr(b);return ic(a,b)}function Vr(a){return Jr.pr(a,Jr.ub)?a:new Jr.ub(a[0],a[1],a[2],1)}function Wr(a,b,d){a=Kr.get(a).get(b).get(d);a.mW=!0;return a.color}
class Xr extends Jr.yb.Og{constructor(a){super(a)}sk(){}bd(){}vg(){}pg(){const a=this.U.hf(),b=Gr(this),d=this.zg();switch(a){case "behavior":return Tr(b.Ac(d));case "effect":return Tr(b[d]);case "plugin":return Tr(b.Ac(d));case "world-instance":return Tr(this.hn())}}$j(){const a=this.Mr();return!Ur(a,this.hn())}ak(){return Jr.Lf(this.Lj)?!1:!Ur(this.Lj,this.hn())}Mr(){const a=super.Mr();return Vr(a)}kD(){const a=super.kD();return Vr(a)}lD(){}DH(){return!0}Hl(){return!0}Yt(){var a=this.U.gb(),b=this.U.ja();
const d=this.U.Kb();(a=qq(a,b,d,this.ld,this.U))&&1<a.length&&(Kr.has(b)||Kr.set(b,new Map),b=Kr.get(b),a=this.U.hf(),b.has(a)||b.set(a,new Map),b=b.get(a),b.has(this.ld)||b.set(this.ld,{mW:!1,color:new Jr.ub(0,0,0,1)}))}Zq(a,b){var d=this.U.gb(),c=this.U.Cb;a=this.U.ja();var e=this.U.Kb();const g=this.U.hf();if((e=qq(d,a,e,this.ld,this.U))&&1<e.length){if(e=Hr(e,!0),d=d.Ha(),d=Ir(d,e))e=d.time-c.Mg(),0===e?fc(Wr(a,g,this.ld),b[0],b[1],b[2]):0>e||(d=b[0],c=b[1],b=b[2],e=this.U.Qa(e,!1,!0),d=qc(d,
e[0]),c=qc(c,e[1]),b=qc(b,e[2]),fc(Wr(a,g,this.ld),d,c,b))}else this.Nl(b[0],b[1],b[2])}Wt(){const a=this.U.ja();if(Kr.has(a)){var b=Kr.get(a),d=this.U.hf();if(b.has(d)){var c=b.get(d);if(c.has(this.ld)){var e=c.get(this.ld),g=e.color;e.mW&&this.Nl(g.kb,g.Ra,g.hb);0===c.size&&b.delete(d);0===b.size&&Kr.delete(a)}}}}hn(){const a=this.U.hf(),b=Gr(this),d=this.zg();switch(a){case "behavior":return Vr(b.Ac(d));case "effect":return b[d].clone();case "plugin":return Vr(b.Ac(d));case "world-instance":return this.B().Kc.clone()}}Nl(a,
b,d){var c=this.U.hf();const e=Gr(this),g=this.zg();switch(c){case "behavior":Lr[0]=a;Lr[1]=b;Lr[2]=d;e.Nf(g,Lr);break;case "effect":ec(e[g],a,b,d);break;case "plugin":Lr[0]=a;Lr[1]=b;Lr[2]=d;e.Nf(g,Lr);break;case "world-instance":c=this.B(),ec(Yr,a,b,d),Zr(c,Yr)}}Aa(){}Ba(){}}Jr.yb.Og.WW=Xr;"use strict";const $r=self.D,as=$r.yb;
class bs extends $r.yb.Og{constructor(a){super(a)}sk(){}bd(){}vg(){}pg(){return this.hn()}$j(){return this.Mr()!==this.pg()}ak(){return $r.Lf(this.Lj)?!1:this.Lj!==this.pg()}Hl(){return!1}Zq(a,b){const d=this.U,c=d.Cb,e=d.hf();var g=d.gb();const k=c.ja(),l=d.Kb();(g=qq(g,k,l,this.ld,d))&&1<g.length&&(g=Hr(g),a=Ir(a+c.Mg(),g))&&(b=a.value);switch(Zq(d)){case "numeric":if(!as.Wx.gn(this.zg(),Gr(this),b,e))return;break;case "angle":if(!as.TB.gn(this.zg(),Gr(this),b,e))return;break;case "boolean":if(!as.WB.gn(this.zg(),
Gr(this),b,e))return;break;case "color":if(!as.$B.gn(this.zg(),Gr(this),b,e))return;break;case "text":if(!as.dD.gn(this.zg(),Gr(this),b,e))return}this.Nl(b)}hn(){const a=this.U.hf(),b=Gr(this),d=this.zg();switch(a){case "behavior":return b.Ac(d);case "effect":return b[d];case "instance-variable":return cs(b,d);case "plugin":return b.Ac(d)}}Nl(a){const b=this.U.hf(),d=Gr(this),c=this.zg();switch(b){case "behavior":d.Nf(c,a);break;case "effect":d[c]=a;break;case "instance-variable":d.fp(c,a);break;
case "plugin":d.Nf(c,a)}}}$r.yb.Og.kQ=bs;"use strict";const ds=self.D,es=new Map,fs=(a,b,d,c,e,g=!1,k=null,l=null)=>{es.set(a,{bP:b,m3:d,e4:c,round:e,T3:g,init:k,reset:l})};fs("offsetX",(a,b,d,c)=>{"relative"===c.U.Bc()?gs(a,b,d.gb().BC()):gs(a,b)},(a,b)=>a.Pg(b),a=>a.X(),!0);fs("offsetY",(a,b,d,c)=>{"relative"===c.U.Bc()?hs(a,b,d.gb().BC()):hs(a,b)},(a,b)=>a.Bh(b),a=>a.Y(),!0);
fs("offsetWidth",(a,b,d,c,e)=>{if(0!==b){var g=1===c.ql.vc();if(("relative"===c.U.Bc()||g)&&a.rg()&&is(a)){if(isNaN(c.qj)){const l=[];for(var k=a.La();k;)l.push(k),k=k.La();l.reverse();k=(p,r)=>{if(r=Aq(r.gb(),p.ja()))return r.uh();r=p.ja().oa;return r.jj()?r.uh():js(p.Oa)};const n=(p,r,w,x=0)=>{p=Aq(r.gb(),p.ja());if(!p)return x;w=p.Qd(w);if(!w)return x;w=$q(w.ya);return w?(w=w.hk())?w.nd():x:x};if(g)g=l[l.length-1].P();else{let p=l[0];g=js(p.Oa)*p.Oa.Cw;g+=n(p,d,"offsetWidth");g+=k(p,d)*n(p,d,"offsetScaleX");
for(let r=1;r<l.length;r++)p=l[r],g*=p.Oa.Cw,g+=n(p,d,"offsetWidth"),g+=k(p,d)*n(p,d,"offsetScaleX")}c.qj=0===g?Number.EPSILON:g}e||a.pk(b/c.qj,!0)}else a.pk(b)}},(a,b)=>a.Of(b),a=>a.P(),!0);
fs("offsetHeight",(a,b,d,c,e)=>{if(0!==b){var g=1===c.ql.vc();if(("relative"===c.U.Bc()||g)&&a.rg()&&ks(a)){if(isNaN(c.qj)){const l=[];for(var k=a.La();k;)l.push(k),k=k.La();l.reverse();k=(p,r)=>{if(r=Aq(r.gb(),p.ja()))return r.th();r=p.ja().oa;return r.jj()?r.th():ls(p.Oa)};const n=(p,r,w,x=0)=>{p=Aq(r.gb(),p.ja());if(!p)return x;w=p.Qd(w);if(!w)return x;w=$q(w.ya);return w?(w=w.hk())?w.nd():x:x};if(g)g=l[l.length-1].N();else{let p=l[0];g=ls(p.Oa)*p.Oa.Dw;g+=n(p,d,"offsetHeight");g+=k(p,d)*n(p,d,
"offsetScaleY");for(let r=1;r<l.length;r++)p=l[r],g*=p.Oa.Dw,g+=n(p,d),g+=k(p,d)*n(p,d,"offsetScaleY")}c.qj=0===g?Number.EPSILON:g}e||ms(a,b/c.qj,!0)}else ms(a,b)}},(a,b)=>a.ug(b),a=>a.N(),!0);fs("offsetAngle",(a,b)=>{b=+b;0!==b&&a.Wo()&&(a.ab=ns.Ed(a.ab+b),os(a))},(a,b)=>a.ad(b),a=>a.Na(),!1,!0);
fs("offsetOpacity",(a,b,d,c)=>{b/=c.rA?c.rA:1;d=a.nc()+b;0===c.td?(1<d?c.td+=d-1:0>d&&(c.td+=d),ps(a)?a.Ne(a.Oa.im+b):a.Ne(a.nc()+b)):(a=a.nc()+b,0<b&&0<c.td?1<a&&(c.td+=a-1):0<b&&0>c.td?(c.td+=b,0<c.td&&(c.td=0)):0>b&&0<c.td?(c.td+=b,0>c.td&&(c.td=0)):0>b&&0>c.td&&0>a&&(c.td+=a))},(a,b)=>{a.Ne(b)},a=>a.nc(),!1,!0,(a,b,d)=>{a.td=0;switch(a.U.Bc()){case "relative":a.U.gf();var c=$q(a.U.ya).Zb,e=a.B().nc(),g=e;for(var k of c)g=k.Ha(),g=a.U.qg(g),g=e+g,g=ds.$(g,0,1);a.Mw=e-g;a.Mw=Math.round(100*(a.Mw+
Number.EPSILON))/100;g=e;for(e=c.length-1;0<=e;e--)k=c[e].Ha(),k=a.U.qg(k),g-=k,g=ds.$(g,0,1);a.Lw=g;a.Lw=Math.round(100*(a.Lw+Number.EPSILON))/100}c=1===a.ql.vc();if(("relative"===a.U.Bc()||c)&&b.rg()&&ps(b)){c=[];for(b=b.La();b;)c.push(b),b=b.La();c.reverse();b=(l,n,p)=>{l=Aq(n.gb(),l.ja());if(!l)return 0;p=l.Qd(p);if(!p)return 0;p=$q(p.ya);return p?(p=p.hk())?p.nd():0:0};g=c[0].Oa.sG;g+=b(c[0],d,"offsetOpacity");for(e=1;e<c.length;e++)g+=b(c[e],d,"offsetOpacity");a.rA=0===g?1:g}},a=>{switch(a.U.Bc()){case "relative":a.td=
0;const b=a.B();let d=b.nc();d=Math.round(100*(d+Number.EPSILON))/100;rq(a.U.gb())?(b.Ne(d+a.Mw),a.hc=0):(b.Ne(d-a.Lw),a.hc=hr(a.Kb()))}});fs("offsetOriginX",(a,b)=>{a.cl+=+b},(a,b)=>{a.cl=+b},a=>a.Dl(),!1);fs("offsetOriginY",(a,b)=>{a.dl+=+b},(a,b)=>{a.dl=+b},a=>a.El(),!1);fs("offsetZElevation",(a,b)=>{a.xg(a.eb()+b)},(a,b)=>a.xg(b),a=>a.eb(),!0);
fs("offsetScaleX",(a,b,d,c)=>{if(0!==b){var e=0>a.P()?-1:1;"relative"===c.U.Bc()&&a.rg()&&is(a)?(b*=d.uh()*e,isNaN(c.qj)&&es.get("offsetWidth").bP(a,1,d,c,!0),a.pk(b/c.qj,!0)):a.pk(d.uh()*e*b)}},(a,b,d)=>{a.Of(d.uh()*b)},(a,b)=>{const d=0>a.P()?-1:1;if(is(a)){var c=a.La(),e=Aq(b.gb(),c.ja());e?c=c.P()/e.uh():(e=c.ja().oa,c=e.jj()?c.P()/e.uh():1);return a.P()*d/(b.uh()*c)}return a.P()*d/b.uh()},!1);
fs("offsetScaleY",(a,b,d,c)=>{if(0!==b){var e=0>a.N()?-1:1;"relative"===c.U.Bc()&&a.rg()&&ks(a)?(b*=d.th()*e,isNaN(c.qj)&&es.get("offsetHeight").bP(a,1,d,c,!0),ms(a,b/c.qj,!0)):ms(a,d.th()*e*b)}},(a,b,d)=>{a.ug(d.th()*b)},(a,b)=>{const d=0>a.N()?-1:1;if(ks(a)){var c=a.La(),e=Aq(b.gb(),c.ja());e?c=c.N()/e.th():(e=c.ja().oa,c=e.jj()?c.N()/e.th():1);return a.N()*d/(b.th()*c)}return a.N()*d/b.th()},!1);
function qs(a,b,d,c){var e=a.U.ij();e="default"===e?"continuous":e;if("discrete"!==e||d){if("discrete"===e&&c&&(d=a.U.gb().Ha(),!a.U.wC(d)))return;d=Gr(a);c=a.zg();e=a.B();var g=a.U.Cb;switch(a.U.hf()){case "behavior":d.Nf(c,b);break;case "effect":d[c]=b;break;case "instance-variable":d.fp(c,b);break;case "plugin":d.Nf(c,b,vr(a.Kb()));break;case "world-instance":a.sL(e,b,g);break;case "audio":a.mN.call(a.Kb(),e,b,g)}}}
function rs(a,b,d,c){switch(a.U.ya.vc()){case "angle":b=ds.Gd(b)}var e=(b.toString().split(".")[1]||"").length;b=a.hn();if(0===e)if(a.hG)e=Math.round(b);else if(a.IK)switch(a.U.ya.vc()){case "angle":e=ds.Ta(Math.round(ds.Gd(b)));break;default:e=Number(ds.toFixed(b,2))}else e=b;else e=a.hG?Number(ds.toFixed(b,e)):b;a.Nl(e-b,d,c);switch(a.U.ya.ld){case "offsetWidth":case "offsetScaleX":a=a.B();d=a.P();a.pk(Number(ds.toFixed(d,2))-d);break;case "offsetHeight":case "offsetScaleY":a=a.B(),d=a.N(),ms(a,
Number(ds.toFixed(d,2))-d)}}
class ss extends ds.yb.Og{constructor(a){super(a);this.Lw=this.Mw=this.td=this.hc=0;this.qj=this.rA=NaN;this.JR=this.KR=void 0;this.mN=this.oN=this.nN=this.PE=this.fG=this.sL=this.uL=this.tL=null;this.IK=this.hG=!1;this.ql=ds.pr(this.U.gb(),ds.B0)?new ds.yb.Og.kZ(this):new ds.yb.Og.jZ(this);const b=this.U.ya.ld;switch(this.U.hf()){case "world-instance":a=es.get(b);this.tL=a.e4;this.uL=a.bP;this.sL=a.m3;this.hG=a.round;this.IK=a.T3;this.PE=a.init;this.fG=a.reset;break;case "audio":this.nN=a.QP,this.oN=
a.a0,this.mN=a.uW,this.hG=!0,this.IK=!1}}A(){this.mN=this.oN=this.nN=this.PE=this.fG=this.sL=this.uL=this.tL=this.ql=null;super.A()}Hl(){return this.ql.Hl()}sk(){this.fG&&this.fG(this)}bd(){var a=this.ql.bd();"number"===typeof a&&(this.hc=a);this.PE&&(a=this.B(),this.PE(this,a,this.U.Cb))}vg(){const a=this.ql.vg();"number"===typeof a&&(this.hc=a)}pg(){return this.hn()}$j(){return this.Mr()!==this.pg()}ak(){return ds.Lf(this.Lj)?!1:this.Lj!==this.pg()}Yt(){this.ql.Yt()}Zq(a,b,d,c,e,g,k,l){return this.ql.Zq(a,
b,d,c,e,g,k,l)}Wt(){this.ql.Wt()}hn(){const a=Gr(this),b=this.zg(),d=this.B(),c=this.U.Cb;switch(this.U.hf()){case "behavior":return a.Ac(b);case "effect":return a[b];case "instance-variable":return cs(a,b);case "plugin":return a.Ac(b);case "world-instance":return this.tL(d,c);case "audio":return this.nN.call(this.Kb(),d,c)}}Nl(a){var b=Gr(this),d=this.zg(),c=this.B();const e=this.U.Cb;switch(this.U.hf()){case "behavior":b.rI(d,a);break;case "effect":b[d]+=a;break;case "instance-variable":if(0!==
a){d|=0;b=b.Eg;if(0>d||d>=b.length)throw new RangeError("invalid instance variable");c=b[d];if("number"===typeof c)b[d]="number"===typeof a?b[d]+a:b[d]+parseFloat(a);else{if("boolean"===typeof c)throw Error("can not set offset of boolean variable");if("string"===typeof c)throw Error("can not set offset of string variable");throw Error("unknown instance variable type");}}break;case "plugin":b.rI(d,a,vr(this.Kb()));break;case "world-instance":this.uL(c,a,e,this);break;case "audio":this.oN.call(this.Kb(),
c,a,e,this)}}Cu(a,b,d,c,e,g,k,l){this.ql.Cu(a,b,d,c,e,g,k,l)}Aa(){return Object.assign(super.Aa(),{v:this.hc,a:this.td,fod:this.Mw,bod:this.Lw,of:this.rA,sf:this.qj,armorf:this.KR,armandf:this.JR})}Ba(a){a&&(super.Ba(a),this.hc=a.v,this.td=a.a,this.Mw=ds.Xb(a.fod)?a.fod:0,this.Lw=ds.Xb(a.bod)?a.bod:0,this.rA=ds.Xb(a.of)?a.of:NaN,this.qj=ds.Xb(a.sf)?a.sf:NaN,this.KR=ds.Xb(a.armorf)?a.armorf:void 0,this.JR=ds.Xb(a.armandf)?a.armandf:void 0)}}ds.yb.Og.lQ=ss;"use strict";
class ts{constructor(a){this.HG=!1;this.Yc=0;this.FK=this.$F=!1;this.jb=a;for(let b=0,d=this.jb.length;b<d;b++)this.jb[b].Sr=this}wg(a){this.Yc=a}nd(){return this.Yc}gy(a){this.FK=a}Yb(){this.HG=!1;this.Yc=0;this.FK=this.$F=!1}}
class us{constructor(a){this.wf=a}A(){this.wf=null}vc(){return 0}bd(){const a=this.wf;this.wf.Qd();return Fr(a,()=>Er(a,()=>0,()=>hr(a.Kb())),()=>{})}vg(){}Hl(){switch(this.wf.Qd().Bc()){case "relative":return!1;case "absolute":return!0}}Yt(){var a=this.wf.Qd();const b=a.ya.ld;switch(a.Bc()){case "absolute":if(a.Sr)a.Sr.Yb();else{const d=a.gb(),c=a.ja(),e=a.Kb();(a=qq(d,c,e,b,a))&&1<a.length&&new ts(a)}}}Zq(a,b,d,c,e,g,k,l){var n=this.wf,p=this.wf.Qd();switch(p.Bc()){case "relative":k=n.hc;n.Nl(b-
k,d,c);g&&this.Cu(a,d,c,e,k,b);n.hc=b;break;case "absolute":if(d=p.gb(),a=p.Cb,p.ja(),p.Kb(),p.Sr){if(n=p.Sr,c=Hr(n.jb,!0),d=d.Ha(),d=Ir(d,c))a=d.time-a.Mg(),0===a?(n.gy(k),n.$F=l,n.HG=!0,n.wg(n.nd()+b)):0>a||(p=p.qg(a),n.gy(k),n.$F=l,n.HG=!0,n.wg(n.nd()+(b-p)))}else qs(n,b,l,k)}}Wt(){const a=this.wf;var b=this.wf.Qd();switch(b.Bc()){case "absolute":b.Sr&&(b=b.Sr,b.HG&&qs(a,b.nd(),b.$F,b.FK))}}Cu(a,b,d,c,e,g){const k=this.wf;c||(b&&a===b.Ha()?rs(k,nq(b),b,d):d&&a===d.Ha()?rs(k,nq(d),b,d):0===g-e&&
rs(k,nq(b),b,d))}}self.D.yb.Og.jZ=us;"use strict";
class vs{constructor(a){this.wf=a}A(){this.wf=null}vc(){return 1}bd(){const a=this.wf;a.qv=!0;return this.lD(a.Mr())}vg(){const a=this.wf;if(a.Mr()!==a.kD())return a.qv=!0,this.lD(a.kD())}Hl(){return!1}Yt(){}Zq(a,b,d,c,e,g,k){const l=this.wf,n=l.hc;switch(l.Qd().Bc()){case "relative":l.Nl(b-n,d,c);g&&this.Cu(a,d,c,e,n,b,!1,k);break;case "absolute":if(l.qv)l.qv=!1,l.Nl(n,d,c);else if(0===a&&0===l.Qd().gb().$c())qs(l,b,!0,!1);else if(l.Nl(b-n,d,c),g){g=this.Cu;var p=this.wf;const w=p.B().ja();var r=
p.Qd().K().Rb;p=0;for(const x of Np(r))if(0===x.vc()){a:{for(const z of x.lb)if(oq(z)&&w===z.ja()){r=!0;break a}r=!1}r&&p++}else 1===x.vc()&&x.ja()===w&&p++;g.call(this,a,d,c,e,n,b,1>=p,k)}}l.hc=b}Wt(){}lD(a){return a-this.wf.pg()}Cu(a,b,d,c,e,g){const k=this.wf;c?b&&a===b.Ha()?rs(k,nq(b),b,d):d&&a===d.Ha()?rs(k,nq(d),b,d):d||rs(k,nq(b),b,d):b&&a===b.Ha()?rs(k,nq(b),b,d):d&&a===d.Ha()?rs(k,nq(d),b,d):0===g-e&&rs(k,nq(b),b,d)}}self.D.yb.Og.kZ=vs;"use strict";const ws=self.D,xs=self.cr;
ws.yb.Wx=class{constructor(){}static gn(a,b,d,c){let e;switch(c){case "behavior":e=b.Ac(a);break;case "effect":e=b[a];break;case "instance-variable":e=cs(b,a);break;case "plugin":e=b.Ac(a)}return e===d?!1:!0}static Qa(a,b,d,c){if(!d){var e=c.ya;e=c.gf().hk(e);return nq(e)}let g=c.ij();"default"===g&&(g="continuous");"combo"===c.ya.vc()&&(g="discrete");if("discrete"===g)return nq(b);if("continuous"===g||"step"===g){const l=c.gb().Jx();"step"===g&&0!==l&&(e=1/l,a=Math.floor(a*e)/e);e=nq(b);const n=
nq(d),p=mq(b,"cubic-bezier"),r=mq(d,"cubic-bezier");var k=p&&p.WA&&r&&r.iE;if(!k&&e===n)return e;const w=b.Ha();d=d.Ha();"step"===g&&0!==l&&(a=ws.$(a,w,d));a=ws.normalize(a,w,d);b=b.Qo();k?(k=d-w,b=xs.Rm(b)(k*a,0,1,k),b=xs.Rm("cubicbezier")(b,e,e+p.VA,n+r.pz,n)):b=xs.Rm(b)((d-w)*a,e,n-e,d-w);return"integer"===c.ya.vc()?Math.floor(b):b}}};"use strict";const ys=self.D;
ys.yb.TB=class{constructor(){}static gn(a,b,d,c){let e;switch(c){case "behavior":e=b.Ac(a);break;case "effect":e=b[a];break;case "instance-variable":e=cs(b,a);break;case "plugin":e=b.Ac(a)}return e===d?!1:!0}static Qa(a,b,d,c){if(!d)return b=c.ya,b=c.gf().hk(b),nq(b);var e=c.ij();"default"===e&&(e="continuous");"combo"===c.ya.vc()&&(e="discrete");if("discrete"===e)return nq(b);if("continuous"===e||"step"===e){var g=c.gb().Jx();"step"===e&&0!==g&&(c=1/g,a=Math.floor(a*c)/c);const k=b.Ha(),l=d.Ha();
c=nq(b);d=nq(d);"step"===e&&0!==g&&(a=ys.$(a,k,l));if(e=mq(b,"angle")){g=e.bN;if(c===d&&0===g)return c;a=ys.normalize(a,k,l);b=self.cr.Rm(b.Qo())(a,0,1,1);switch(e.AK){case "closest":return ys.bO(c,d,b,g);case "clockwise":return ys.o3(c,d,b,g);case "anti-clockwise":return ys.n3(c,d,b,g)}}else{if(c===d)return c;a=ys.normalize(a,k,l);b=self.cr.Rm(b.Qo());return ys.bO(c,d,b(a,0,1,1))}}}};"use strict";
self.D.yb.WB=class{constructor(){}static gn(a,b,d,c){let e;switch(c){case "behavior":e=b.Ac(a);break;case "effect":e=b[a];break;case "instance-variable":e=cs(b,a);break;case "plugin":e=b.Ac(a)}return!!e===!!d?!1:!0}static Qa(a,b,d,c){return d?nq(b)?1:0:(a=c.ya,a=c.gf().hk(a),nq(a)?1:0)}};"use strict";const zs=self.D,As=[0,0,0],Bs=[0,0,0],oc=[0,0,0];
zs.yb.$B=class{constructor(){}static gn(a,b,d,c){let e;switch(c){case "behavior":e=b.Ac(a);break;case "effect":e=b[a];break;case "instance-variable":e=cs(b,a);break;case "plugin":e=b.Ac(a)}Array.isArray(d)?(As[0]=d[0],As[1]=d[1],As[2]=d[2]):(nc(d),As[0]=Math.floor(255*oc.kb),As[1]=Math.floor(255*oc.Ra),As[2]=Math.floor(255*oc.hb));Array.isArray(e)?(Bs[0]=e[0],Bs[1]=e[1],Bs[2]=e[2]):(nc(e),Bs[0]=Math.floor(255*oc.kb),Bs[1]=Math.floor(255*oc.Ra),Bs[2]=Math.floor(255*oc.hb));return As[0]!==Bs[0]||As[1]!==
Bs[1]||As[2]!==Bs[2]?!0:!1}static Qa(a,b,d,c){if(!d)return b=c.ya,b=c.gf().hk(b),b=nq(b),As[0]=b[0],As[1]=b[1],As[2]=b[2],As;var e=c.ij();"default"===e&&(e="continuous");if("discrete"===e)return b=nq(b),As[0]=b[0],As[1]=b[1],As[2]=b[2],As;if("continuous"===e||"step"===e){var g=c.gb().Jx();"step"===e&&0!==g&&(c=1/g,a=Math.floor(a*c)/c);c=b.Ha();var k=d.Ha(),l=nq(b);d=nq(d);"step"===e&&0!==g&&(a=zs.$(a,c,k));g=zs.normalize(a,c,k);a=l[0];e=l[1];l=l[2];const n=d[0],p=d[1];d=d[2];b=self.cr.Rm(b.Qo());
c=k-c;k=c*g;As[0]=a===n?a:b(k,a,n-a,c);As[1]=e===p?e:b(k,e,p-e,c);As[2]=l===d?l:b(k,l,d-l,c);return As}}};"use strict";self.D.yb.dD=class{constructor(){}static gn(a,b,d,c){let e;switch(c){case "behavior":e=b.Ac(a);break;case "effect":e=b[a];break;case "instance-variable":e=cs(b,a);break;case "plugin":e=b.Ac(a)}return e===d?!1:!0}static Qa(a,b,d,c){return d?nq(b):(a=c.ya,a=c.gf().hk(a),nq(a))}};"use strict";const Cs=self.D;
function Ds(a,b,d,c,e){let g;if("function"===typeof c)switch(a){case "load":g=new c(null,e);break;case "create":g=new c(b,e);break;case "create-including-disabled":g=new c(b,e)}else if("object"===typeof c)switch(c=c.map.get(b[c.QV]),a){case "load":g=new c(null,e);break;case "create":g=new c(b,e);break;case "create-including-disabled":g=new c(b,e)}switch(a){case "load":g.Ba(b);d.push(g);break;case "create":if("function"===typeof g.Pm&&!g.Pm()){g.A();break}d.push(g);break;case "create-including-disabled":d.push(g)}}
function Es(a,b,d,c){if(b)for(const e of b)Ds("create",e,a,d,c)}function Fs(a,b,d,c){a.length?b.forEach((e,g)=>{a[g].Ba(e)}):b.forEach(e=>{Ds("load",e,a,d,c)})}Cs.u0=class{constructor(){this.aB=new Map}A(){for(const a of this.aB.values())a.A();this.aB.clear();this.aB=null}Tb(a){a=new Cs.t0(a);this.aB.set(a.ua(),a)}ba(a){return this.aB.get(a)}};"use strict";const Gs=self.D;
Gs.t0=class{constructor(a){this.Sa="";this.yt=NaN;this.wG=0;this.Th=this.Kh="default";this.VF=this.iA=!1;this.yw=1;this.Vi=null;this.rG="";this.CG=!1;this.GG=!0;a&&(this.Sa=a[0],this.yt=a[1],this.wG=a[2],this.Kh=a[3],this.Th=a[4],this.iA=!!a[6],this.VF=!!a[7],this.yw=a[8],this.rG=a[9],this.CG=!!a[10],this.GG=!!a[11],this.Vi=new Gs.hR(a[5],this))}A(){this.Vi.A();this.Vi=null}Mx(){this.Vi||(this.Vi=new Gs.hR(null,this));return this.Vi}ua(){return this.Sa}$C(a){this.Sa=a}$c(){return this.yt}RI(a){this.yt=
a}Jx(){return this.wG}ij(){return this.Kh}Bc(){return this.Th}hr(){return this.iA}MI(a){this.iA=a}fu(){return this.VF}ji(){return this.yw}$H(){return this.rG}BC(){return this.CG}aI(){return this.GG}Aa(){return{trackDataJson:this.Vi.Aa(),name:this.Sa,totalTime:this.yt,step:this.wG,interpolationMode:this.Kh,resultMode:this.Th,loop:this.iA,pingPong:this.VF,repeatCount:this.yw,startOnLayout:this.rG,transformWithSceneGraph:!!this.CG,useSystemTimescale:this.GG}}Ba(a){a&&(this.Mx().Ba(a.trackDataJson),this.Sa=
a.name,this.yt=a.totalTime,this.wG=a.step,this.Kh=a.interpolationMode,this.Th=a.resultMode,this.iA=a.loop,this.VF=a.pingPong,this.yw=a.repeatCount,this.rG=a.startOnLayout,this.CG=!!a.transformWithSceneGraph,this.GG=!!a.useSystemTimescale)}};"use strict";const Hs=self.D;
class Is{constructor(a,b){this.Vi=b;this.pp=this.SE=null;this.$n=this.Kn=NaN;this.Th=this.Kh="default";this.Bi=!1;this.Mc=this.Aj=null;this.le="";this.hw=null;this.tN=0;this.GF=this.Vi.Dd.$c();this.Da=0;this.Sa="";a&&(a[0]&&(this.SE=a[0],this.Kn=a[0][2],this.$n=a[0][1]),this.Kh=a[1],this.Th=a[2],this.Bi=!!a[3],a[6]&&(this.le=a[6]),a[7]&&(this.hw=a[7],this.tN=a[7][0],this.GF=a[7][1]),a[8]&&(this.pp=a[8]),a[8]&&(this.pp=a[8]),a[9]&&(this.Da=a[9]),a[10]&&(this.Sa=a[10]),this.Aj=new Hs.dQ(a[4],this),
this.Mc=new Hs.AQ(a[5],this))}A(){this.Vi=this.SE=null;this.Aj&&(this.Aj.A(),this.Aj=null);this.Mc&&(this.Mc.A(),this.Mc=null);this.hw=null}Mx(){return this.Vi}gk(){this.Aj||(this.Aj=new Hs.dQ(null,this));return this.Aj}gf(){this.Mc||(this.Mc=new Hs.AQ(null,this));return this.Mc}WH(){return this.$n}Ex(){return this.Kn}ij(){return this.Kh}Bc(){return this.Th}Pm(){return this.Bi}$m(a){this.Bi=!!a}hj(){return this.le}Mg(){return this.tN}Qm(){return this.GF}uh(){return this.pp[0]}th(){this.pp||(this.pp=
[]);return this.pp[1]}vc(){return this.Da}ua(){return this.Sa}Aa(){return{keyframeDataJson:this.Aj.Aa(),propertyTrackDataJson:this.Mc.Aa(),instanceData:this.SE,additionalInstanceData:this.pp,instanceUid:this.Kn,objectClassIndex:this.$n,interpolationMode:this.Kh,resultMode:this.Th,enabled:this.Bi,id:this.le,nestedData:this.hw,type:this.Da,name:this.Sa}}Ba(a){a&&(this.SE=a.instanceData,this.Kn=a.instanceUid,this.$n=a.objectClassIndex,this.Kh=a.interpolationMode,this.Th=a.resultMode,this.Bi=a.enabled,
this.le=a.id,this.Da=a.type?a.type:0,this.Sa=a.name?a.name:"",this.GF=this.Vi.Dd.$c(),a.nestedData&&(this.hw=a.nestedData,this.tN=this.hw[0],this.GF=this.hw[1]),a.additionalInstanceData&&(this.pp=a.additionalInstanceData),this.gk().Ba(a.keyframeDataJson),this.gf().Ba(a.propertyTrackDataJson))}}function*Dq(a){for(const b of a.zt)yield b}function Sq(a,b){b=b.gk().Vc;for(let d=b.length-1;0<=d;d--){const c=b[d];if(c.Ha()<=a)return c}}
Hs.hR=class{constructor(a,b){this.Dd=b;this.zt=[];Es(this.zt,a,Is,this)}A(){this.Dd=null;for(const a of this.zt)a.A();Hs.I(this.zt);this.zt=null}Aa(){return{trackDataItemsJson:this.zt.map(a=>a.Aa())}}Ba(a){a&&Fs(this.zt,a.trackDataItemsJson,Is,this)}};"use strict";const Js=self.D;function $q(a){a.hl||(a.hl=new Js.zQ(null,a));return a.hl}
class Ks{constructor(a,b){this.Mc=b;this.nG="";this.Da=this.ld=this.Gg=null;this.lM=this.qM=NaN;this.Th=this.Kh="default";this.Bi=!1;this.hl=null;this.FD=!0;a&&(this.nG=a[0][0],this.Gg=a[0].slice(1),this.ld=a[1],this.Da=a[2],this.qM=a[3],this.lM=a[4],this.Kh=a[5],this.Th=a[6],this.Bi=!!a[7],this.hl=new Js.zQ(a[8],this),this.FD=a[9])}A(){this.hl.A();this.Gg=this.Mc=this.hl=null}gf(){return this.Mc}hf(){return this.nG}vc(){return this.Da}bR(a){this.Da=a}ij(){return this.Kh}Bc(){return this.Th}Pm(){return this.Bi}$m(a){this.Bi=
!!a}EH(){return!!this.FD}Aa(){return{propertyKeyframeDataJson:this.hl.Aa(),sourceAdapterId:this.nG,sourceAdapterArguments:this.Gg,property:this.ld,type:this.Da,min:this.qM,max:this.lM,interpolationMode:this.Kh,resultMode:this.Th,enabled:this.Bi,canHavePropertyKeyframes:this.FD}}Ba(a){a&&(this.nG=a.sourceAdapterId,this.Gg=a.sourceAdapterArguments,this.ld=a.property,this.Da=a.type,this.qM=a.min,this.lM=a.max,this.Kh=a.interpolationMode,this.Th=a.resultMode,this.Bi=a.enabled,this.FD=a.canHavePropertyKeyframes,
$q(this).Ba(a.propertyKeyframeDataJson))}}function*Wq(a){for(const b of a.et)yield b}function dr(a,b){b=$q(b).Zb;const d=b.length;for(let c=0;c<d;c++){const e=b[c];if(e.Ha()>=a)return e}}
Js.AQ=class{constructor(a,b){this.lc=b;this.et=[];Es(this.et,a,Ks,this)}A(){this.lc=null;for(const a of this.et)a.A();Js.I(this.et);this.et=null}hk(a){return $q(a).Zb.at(-1)}wC(a,b){b=$q(b).Zb;const d=b.length;for(let c=0;c<d;c++){const e=b[c];if(e.Ha()===a)return e}}rh(a,b){b=$q(b).Zb;for(let d=b.length-1;0<=d;d--){const c=b[d];if(c.Ha()<=a)return c}}Aa(){return{propertyTrackDataItemsJson:this.et.map(a=>a.Aa())}}Ba(a){a&&Fs(this.et,a.propertyTrackDataItemsJson,Ks,this)}};"use strict";const Ls=self.D;
class Ms{constructor(a,b){this.Aj=b;this.Gc=-1;this.Mk="noease";this.Nk=!1;this.jA=this.fh=null;a&&(this.Gc=a[0],this.Mk=a[1],this.Nk=!!a[2],this.fh=(a=a[3])?a.split(" "):[],this.jA=new Set(this.fh.map(d=>d.toLowerCase())),this.vf=null)}A(){this.Aj=null;Ls.I(this.fh);this.fh=null;this.jA.clear();this.vf=this.jA=null}gk(){return this.Aj}yu(a){this.vf=a}Ha(){return this.Gc}Hr(a){this.Gc=a;Ns(this.Aj)}Qo(){return this.Mk}Ll(a){this.Mk=a}Pm(){return this.Nk}$m(a){this.Nk=!!a}yC(){return this.fh}Gr(a){this.fh=
a?a.split(" "):[];this.jA=new Set(this.fh.map(b=>b.toLowerCase()))}Aa(){return{time:this.Gc,ease:this.Mk,enable:this.Nk,tags:this.fh}}Ba(a){a&&(this.Gc=a.time,this.Mk=a.ease,this.Nk=a.enable,this.fh=a.tags,this.jA=new Set(this.fh.map(b=>b.toLowerCase())))}}function Xq(a){const b=new Ms(null,a);a.Vc.push(b);Ns(a);return b}function Os(a,b){for(const d of a.Vc){if(!b(d))continue;const c=a.Vc.indexOf(d);-1!==c&&(d.A(),a.Vc.splice(c,1))}Ps(a);Ns(a)}
function Ns(a){a.Vc.sort((b,d)=>b.Ha()-d.Ha());for(let b=0;b<a.Vc.length;b++)a.Vc[b].yu(a.Vc[b+1])}function Ps(a){a.Vc.sort((b,d)=>b.Ha()-d.Ha())}Ls.dQ=class{constructor(a,b){this.lc=b;this.Vc=[];Es(this.Vc,a,Ms,this);Ns(this)}A(){this.lc=null;for(const a of this.Vc)a.A();Ls.I(this.Vc);this.Vc=null}Aa(){return{keyframeDataItemsJson:this.Vc.map(a=>a.Aa())}}Ba(a){a&&(Fs(this.Vc,a.keyframeDataItemsJson,Ms,this),Ns(this))}};"use strict";const Qs=self.D;
function mq(a,b){if(a.Fk){if(a.kn||null===a.kn)return a.kn;var d=a.Fk.Ur;if(!d)return a.kn=null,a.kn;var c=d.length;for(let e=0;e<c;e++){const g=d[e];if(g.hj()===b)return a.kn=g,a.kn}a.kn=null;return a.kn}}function nq(a){const b=a.hl.ya.Bc();if("relative"===b)return a.nd();if("absolute"===b)return a.pj}function gr(a,b){"color"===a.Da&&Qs.Xb(b)?(a.pj[0]=Qs.YH(b),a.pj[1]=Qs.TH(b),a.pj[2]=Qs.NH(b)):a.pj=b}
class Rs{constructor(a,b){this.hl=b;this.pj=this.Yc=null;this.Da="";this.Gc=NaN;this.Mk="noease";this.Nk=!1;this.Fk=null;this.kn=void 0;this.MM="line";a&&(this.Yc=a[0][0],this.pj=a[0][1],this.Da=a[0][2],this.Gc=a[1],this.Mk=a[2],this.Nk=!!a[3],this.MM=a[5],this.Fk=null,a[4]&&(this.Fk=new Qs.DW(a[4])),this.zA=this.vf=null)}A(){this.hl=null;this.Fk&&(this.Fk.A(),this.Fk=null);this.zA=this.vf=null}yu(a){this.vf=a}nd(){return this.Yc}wg(a){"color"===this.Da&&Qs.Xb(a)?(this.Yc[0]=Qs.YH(a),this.Yc[1]=Qs.TH(a),
this.Yc[2]=Qs.NH(a)):this.Yc=a}vc(){return this.Da}bR(a){this.Da=a}Ha(){return this.Gc}Hr(a){this.Gc=a;Ss(this.hl)}Qo(){return this.Mk}Ll(a){this.Mk=a}Pm(){return this.Nk}$m(a){this.Nk=!!a}Aa(){const a=this.Fk;return{addonDataJson:a?a.Aa():a,value:this.Yc,aValue:this.pj,type:this.Da,time:this.Gc,ease:this.Mk,enable:this.Nk}}Ba(a){a&&(a.addonDataJson&&this.Fk.gga(a.addonDataJson),this.Yc=a.value,this.pj=a.aValue,this.Da=a.type,this.Gc=a.time,this.Mk=a.ease,this.Nk=a.enable)}}
function er(a){const b=new Rs(null,a);a.Zb.push(b);Ss(a);return b}function fr(a,b){for(const d of a.Zb){if(!b(d))continue;const c=a.Zb.indexOf(d);-1!==c&&(d.A(),a.Zb.splice(c,1))}Ts(a);Ss(a)}function Ss(a){let b=a.Zb;b.sort((c,e)=>c.Ha()-e.Ha());for(var d=0;d<b.length;d++){const c=b[d];d+1<b.length&&c.yu(b[d+1]);0<=d-1&&(c.zA=b[d-1])}b=a.tq;b.sort((c,e)=>c.Ha()-e.Ha());for(a=0;a<b.length;a++)d=b[a],a+1<b.length&&d.yu(b[a+1]),0<=a-1&&(d.zA=b[a-1])}function Ts(a){a.Zb.sort((b,d)=>b.Ha()-d.Ha())}
Qs.zQ=class{constructor(a,b){this.ya=b;this.Zb=[];this.tq=[];Es(this.Zb,a,Rs,this);b=this.tq;var d=Rs;if(a)for(const c of a)Ds("create-including-disabled",c,b,d,this);Ss(this)}A(){this.ya=null;for(const a of this.Zb)a.A();Qs.I(this.Zb);this.Zb=null;for(const a of this.tq)a.A();Qs.I(this.tq);this.tq=null}hk(){return this.Zb[this.Zb.length-1]}xC(){return this.tq}Aa(){const a=this.tq;return{propertyKeyframeDataItemsJson:this.Zb.map(b=>b.Aa()),propertyKeyframeDataItemsIncludingDisabledJson:a.map(b=>b.Aa())}}Ba(a){a&&
(Fs(this.Zb,a.propertyKeyframeDataItemsJson,Rs,this),Fs(this.tq,a.propertyKeyframeDataItemsIncludingDisabledJson,Rs,this),Ss(this))}};"use strict";const Us=self.D;class Vs{constructor(a,b){this.Fk=b;this.le=a[0];this.yn=a[1]}A(){this.yn=this.Fk=null}hj(){return this.le}Aa(){return{id:this.le,data:this.yn}}Ba(a){a&&(this.le=a.id,this.yn=a.data)}}
class Ws extends Vs{constructor(a,b){super(a,b);this.VA=this.yn[0];this.WA=!!this.yn[1];this.pz=this.yn[2];this.iE=!!this.yn[3]}A(){super.A()}Aa(){return Object.assign(super.Aa(),{startAnchor:this.VA,startEnable:!!this.WA,endAnchor:this.pz,endEnable:!!this.iE})}Ba(a){a&&(super.Ba(a),this.VA=a.startAnchor,this.WA=!!a.startEnable,this.pz=a.endAnchor,this.iE=!!a.endEnable)}}
class Xs extends Vs{constructor(a,b){super(a,b);this.AK=this.yn[0];this.bN=this.yn[1]}A(){super.A()}Aa(){return Object.assign(super.Aa(),{direction:this.AK,revolutions:this.bN})}Ba(a){a&&(super.Ba(a),this.AK=a.direction,this.bN=a.revolutions)}}
Us.DW=class{constructor(a){this.Ur=[];Es(this.Ur,a,{QV:0,map:new Map([["cubic-bezier",Ws],["angle",Xs]])},this)}A(){for(const a of this.Ur)a.A();Us.I(this.Ur);this.Ur=null}Aa(){return{addonDataItemsJson:this.Ur.map(a=>a.Aa())}}Ba(a){a&&Fs(this.Ur,a.addonDataItemsJson,{QV:"id",map:new Map([["cubic-bezier",Ws],["angle",Xs]])},this)}};"use strict";const Ys=self.D;let Zs=0;function $s(a){for(const b of a.lb){const d=c=>{c=c.Ha();const e=a.$c();return 0!==c&&c!==e};Os(b.lc.gk(),d);b.fC(d)}}
function at(a,b){const d=a.ja(),c=bt(d,Ys.O.Mb);c.eba(a);a.j.na(b,d,c.qh());c.Raa()}
Ys.B0=class extends Ys.Ir{constructor(a,b){super(`tween-${Zs++}`,a,b);this.le="";this.fS=!1;this.oL="start-value";this.Cb=this.JT=this.IT=this.Uc=null}JP(a){const b=Ys.C(Ys.Event,"tweenstatereleased");b.Ija=this;a.dispatchEvent(b)}vc(){return 1}AP(){for(const a of Dq(this.Dd.Mx()))this.lb.push(Ys.kR.Ka(this,a));this.Cb=this.lb[0]}Qd(){return this.Cb.jb[0]}ja(){var a=this.lb;if(a&&a.length&&(this.Cb=a=a[0])){var b=a.ja();return Pq(a)?b:void 0}}hj(){return this.le}vQ(){if(this.JT)for(const a of this.JT)a(this);
if(!this.Hh)for(const a of this.lb)a.ak()}IP(){if(!this.Bn&&(this.Bn=!0,this.IT))for(const a of this.IT)a(this)}Hr(a){$s(this);super.Hr(a)}jn(a){Ys.Xb(a)||(a=this.$c());this.Ob=0>a?0:a>=this.$c()?this.$c():a;this.Cb.sk()}bd(a){if(!this.Qp&&"current-state"===this.oL)for(const b of this.lb)b.$j();super.bd(a)}ue(a=!1){super.ue(a);if(!this.Hh)for(const b of this.lb)b.Er()}Yb(a=!0,b=!1){$s(this);super.Yb(a,b)}uy(){if(this.Ie)return!0;const a=this.ja();if(a&&a.J().Kf())return!1;Vp(this.Rb,this);this.Yb(!1,
!0);return!0}Oe(a,b,d){this.Uc||(this.Uc=this.ja());if(!this.Uc||Mq(this.Uc))this.ue(!0),this.xp=this.j.Ui;else if(b=this.Uc.de,-1!==b&&(a=d*b),0!==a||0!==this.Nv){this.Nv=a;d=this.Ob+this.mq+a*this.kd;a=this.Dd.yt;0>d?(this.Ob=0,this.mq=-d):d>=a?(this.Ob=a,this.mq=this.Ob-d):(this.Ob=d,this.mq=0);b=d=!1;var c=this.hr(),e=this.fu();c||e?c&&!e?0<this.kd?this.Ob>=a&&(this.jn(0),at(this,Ys.O.Mb.H.vr),at(this,Ys.O.Mb.H.wr),b=!0):0>=this.Ob&&(this.jn(a),at(this,Ys.O.Mb.H.vr),at(this,Ys.O.Mb.H.wr),b=!0):
!c&&e?0<this.kd?this.Ob>=a&&(tq(this,a),this.nj(-1*this.kd),b=!0,1===this.Qb?this.Re<this.ji()?(this.Re++,at(this,Ys.O.Mb.H.vr),at(this,Ys.O.Mb.H.wr),at(this,Ys.O.Mb.H.Wm),at(this,Ys.O.Mb.H.Xm),this.Qb=0):(at(this,Ys.O.Mb.H.Wm),at(this,Ys.O.Mb.H.Xm),d=!0):0===this.Qb&&(at(this,Ys.O.Mb.H.Wm),at(this,Ys.O.Mb.H.Xm),this.Qb=1)):0>=this.Ob&&(tq(this,0),this.nj(-1*this.kd),b=!0,1===this.Qb?this.Re<this.ji()?(this.Re++,at(this,Ys.O.Mb.H.vr),at(this,Ys.O.Mb.H.wr),at(this,Ys.O.Mb.H.Wm),at(this,Ys.O.Mb.H.Xm),
this.Qb=0):(d=!0,at(this,Ys.O.Mb.H.Wm),at(this,Ys.O.Mb.H.Xm)):0===this.Qb&&(at(this,Ys.O.Mb.H.Wm),at(this,Ys.O.Mb.H.Xm),this.Qb=1)):c&&e&&(0<this.kd?this.Ob>=a&&(tq(this,a),this.nj(-1*this.kd),b=!0,0===this.Qb&&(at(this,Ys.O.Mb.H.Wm),at(this,Ys.O.Mb.H.Xm)),1===this.Qb&&(at(this,Ys.O.Mb.H.vr),at(this,Ys.O.Mb.H.wr),at(this,Ys.O.Mb.H.Wm),at(this,Ys.O.Mb.H.Xm)),this.Qb++,this.Qb=Ys.wrap(this.Qb,0,2)):0>=this.Ob&&(tq(this,0),this.nj(-1*this.kd),b=!0,0===this.Qb&&(at(this,Ys.O.Mb.H.Wm),at(this,Ys.O.Mb.H.Xm)),
1===this.Qb&&(at(this,Ys.O.Mb.H.vr),at(this,Ys.O.Mb.H.wr),at(this,Ys.O.Mb.H.Wm),at(this,Ys.O.Mb.H.Xm)),this.Qb++,this.Qb=Ys.wrap(this.Qb,0,2))):0<this.kd?this.Ob>=a&&(this.Re<this.ji()?(this.Re++,this.jn(0),at(this,Ys.O.Mb.H.vr),at(this,Ys.O.Mb.H.wr),b=!0):(tq(this,a),d=!0)):0>=this.Ob&&(this.Re<this.ji()?(this.Re++,this.jn(a),at(this,Ys.O.Mb.H.vr),at(this,Ys.O.Mb.H.wr),b=!0):(tq(this,0),d=!0));d?(this.Cb.gy(),this.ue(!0),this.xp=this.j.Ui):(this.Cb.Qa(this.Ob,!0,!1,b,this.Dg,!1),this.Dg&&(this.Dg=
!1))}}Aa(){const a=super.Aa();return Object.assign(a,{tweenDataItemJson:this.Dd.Aa(),id:this.le,destroyInstanceOnComplete:this.fS,initialValueMode:this.oL})}Ba(a){a&&(this.Dd.Ba(a.tweenDataItemJson),super.Ba(a),this.le=a.id,this.fS=a.destroyInstanceOnComplete,this.oL=a.initialValueMode,this.Cb=this.lb[0])}static IsPlaying(a){return a.IsPlaying()}};"use strict";const ct=self.D;function dt(a){1===a.jb.length?a.uz=a.jb[0]:(a.uz=a.jb[0],a.gN=a.jb[1])}
ct.kR=class extends ct.YI{constructor(a,b){super(a,b);this.gN=this.uz=null}static Ka(a,b){return ct.C(ct.kR,a,b)}yP(){for(const a of Wq(this.lc.gf()))this.jb.push(ct.jR.Ka(this,a));dt(this)}bd(){Oq(this);if(Pq(this)||!oq(this)){var a=rq(this.gb())?0:this.Qm();for(const b of this.jb)b.bd(a),0===this.Hg&&1===b.Hg&&(this.Hg=1),0===this.wc&&1===b.wc&&(this.wc=1);this.Rh=0;this.jb.some(b=>b.Rh)&&(this.Rh=1);this.$k=Rq(this,a);this.Gp=this.Fs=!1;this.Qa(a)}}Yq(){}Qa(a,b,d=!1,c=!1,e,g=!1,k=!1){this.Uc||
this.ja();if(this.Uc){if(Mq(this.Uc)||g&&this.J().Kf())return!1;this.gN?(this.uz.Qa(a,d,c,k),this.gN.Qa(a,d,c,k)):this.uz.Qa(a,d,c,k);0!==this.uz.Hg&&(this.$a||(this.$a=this.Uc.B()),this.$a&&U(this.$a))}}Xq(){}Ba(a){super.Ba(a);dt(this)}};"use strict";const et=self.D;
et.jR=class extends et.yb{constructor(a,b){super(a,b);this.Oy=!1}static Ka(a,b){return et.C(et.jR,a,b)}Qa(a,b=!1,d=!1,c=!1){if(this.Oy){var e=this.Zb[0];var g=this.Zb[1]}else{if(b)e=this.Mc.rh(a,this.ya);else{if(this.Cd){g=this.gb();const k=this.Cd.vf;e=this.Cd.Ha();g=k?k.Ha():g.$c();if(a<=e||a>=g)this.Cd=this.Mc.rh(a,this.ya)}else this.Cd=this.Mc.rh(a,this.ya);e=this.Cd}g=e.vf}this.eg.Qa(a,e,g,b,d,c)}oP(){const a=er($q(this.ya));this.Cd=null;this.Oy=2>=ar(this).length;return a}fC(a){this.Cd=null;
fr($q(this.ya),a);this.Oy=2>=ar(this).length}Aa(){return{sourceAdapterJson:this.Kb().Aa(),basic:this.Oy}}Ba(a){a&&(this.Kb().Ba(a.sourceAdapterJson),this.Oy=a.basic)}};"use strict";const ft=self.D,gt=self.cr;function ht(a){a.yA.clear();for(let d=0;d<a.Xh.length-1;d++){var b=a.Xh[d];if(!b.WA)continue;const c=a.Xh[d+1];a.yA.set(b,gt.JX(b.Yh,b.Yh+b.pU,c.Yh+c.nS,c.Yh))}}
ft.ZI=class extends ft.Ca{constructor(a,b=!0){super();this.Sa=a[0];this.pT=!1;this.Xh=[];for(var d of a[1])a=ft.iR.Ka(this,d),this.Xh.push(a);for(d=0;d<this.Xh.length;d++)this.Xh[d].yu(this.Xh[d+1]);this.yA=new Map;this.CU=new Map;ht(this);b&&gt.zW(this.Sa,(c,e,g,k)=>this.Qa(c,e,g,k))}static Ka(a){return ft.C(ft.ZI,a)}A(){for(const a of this.Xh)a.A();ft.I(this.Xh);this.Xh=null;this.yA.clear();this.yA=null;this.CU.clear();this.CU=null}Qa(a,b,d,c){var e=a/c;if(this.pT)return 0===c?b+d:gt.hZ(a,b,d,c);
0===c&&(e=1);a:{for(a=this.Xh.length-1;0<=a;a--)if(c=this.Xh[a],c.Yh<=e){a=c;break a}a=void 0}c=a.vf;if(!c){a:{for(a=this.Xh.length-1;0<=a;a--)if(c=this.Xh[a],c.Yh<e){a=c;break a}a=void 0}c=a.vf}e=ft.B4(e,a.Yh,c.Yh,c.Yh-a.Yh);const g=a.Yh,k=a.nB,l=a.Yh+a.pU,n=a.nB+a.X2,p=c.Yh+c.nS,r=c.nB+c.Y1,w=c.Yh;c=c.nB;c=gt.Rm("spline")(e,g,k,l,n,p,r,w,c,this.yA.get(a));c+=a.nB;return(1-c)*b+c*(b+d)}};"use strict";const it=self.D;
it.iR=class extends it.Ca{constructor(a,b){super();this.Yh=b[0];this.nB=b[1];this.pU=b[2];this.X2=b[3];this.nS=b[4];this.Y1=b[5];this.WA=b[6];this.iE=b[7];this.vf=null}A(){}static Ka(a,b){return it.C(it.iR,a,b)}yu(a){this.vf=a}};"use strict";const jt=self.D;jt.z0=class extends jt.Ca{constructor(a){super();this.j=a;this.DG=[]}A(){for(const a of this.DG)a.A();jt.I(this.DG);this.DG=null}Ka(a){this.DG.push(jt.ZI.Ka(a))}};"use strict";const kt=self.D;function lt(a){return a.Ri?0!==a.Ri.size:!1}
function mt(a,b,d){b=b instanceof kt.LC?b.Ma():b;if(a.Ri.has(b)&&(a=a.Ri.get(b).get(d)))return JSON.parse(JSON.stringify(a))}function nt(a,b,d){a.Jn||(a.Jn=new WeakMap);a.Jn.has(b)||a.Jn.set(b,d)}
kt.l0=class extends kt.Ca{constructor(a){super();this.j=a;this.Jn=this.Ri=null;this.Ev=b=>this.oD(b.instance)}A(){this.BI();if(this.Ri){for(const a of this.Ri.values())a.clear();this.Ri.clear()}this.j=this.Ri=null}Ka(a){this.Ri||(this.Ri=new Map);if(a){var b=a[0][16][0],d=a[1];this.Ri.has(d)||this.Ri.set(d,new Map);this.Ri.get(d).set(b,a)}}wH(){const a=this.j.sb();a&&a.addEventListener("instancedestroy",this.Ev)}BI(){const a=this.j.sb();a&&a.removeEventListener("instancedestroy",this.Ev)}oD(a){this.Jn&&
this.Jn.has(a)&&this.Jn.delete(a)}};"use strict";const ot=self.D;function pt(a,b,d=!1,c=!1,e=!0){e&&(b=(e=qt(b))?e:b);b!==a.xe&&(a.xe&&!a.xe.vk()&&(e=a.xe.vC().ja(),a.xe.Ow++,a.Kp.push(a.xe),a.j.na(ot.F.dk.H.N$,e),a.Kp.pop(),rt(a.xe)),st(a,b,d,c))}
function tt(a,b,d,c,e,g,k){const l=a.sv.ba(b);if(l)if(a.Be.has(c))console.warn(`[Flowcharts] there already is a flowchart with the tag '${c}'`);else return b=new ot.FX(b,c,d,l,a,e,k),a.Be.set(c,b),g&&pt(a,b,!0),b;else console.warn(`[Flowcharts] no flowchart found with name '${b}'`)}
function st(a,b,d=!1,c=!1){a.xe=b;a.xe&&!a.xe.vk()&&(b=a.xe.vC().ja(),a.xe.Ow++,a.Kp.push(a.xe),a.j.na(ot.F.dk.H.Q$,b),!0!==c&&"number"!==typeof c||ut(a.xe,c),d&&(a.j.na(ot.F.dk.H.qZ,b),a.j.na(ot.F.dk.H.o_,b)),a.Kp.pop(),rt(a.xe))}
ot.CX=class{constructor(a){this.j=a;this.sv=new ot.BX;this.Be=new Map;this.xe=null;this.Kp=[]}A(){this.sv.A();this.sv=null;ot.I(this.Kp);this.Kp=null;this.Be.clear();this.j=this.xe=this.Be=null}K(){return this.j}Ka(a){this.sv.Tb(a)}dI(){return this.sv.dI()}Aa(){return{flowchartJsonObjects:[...this.Be.values()].map(a=>a.Aa()),currentFlowchartTag:this.xe?this.xe.fg:null}}Ba(a){if(a){var b=new Map;for(const c of a.flowchartJsonObjects){var d=c.flowchartTag;if(this.Be.has(d)){const e=this.Be.get(d);e.Ba(c);
b.set(d,e)}else d=tt(this,c.flowchartName,c.startNodeTag,c.flowchartTag,null,!1,c.pluginUID),d.Ba(c),b.set(c.flowchartTag,d)}for(const [c,e]of this.Be.entries())b.has(c)||e.A();this.Be.clear();this.Be=b;(a=this.Be.get(a.currentFlowchartTag))&&pt(this,a,!0)}}};"use strict";const vt=self.D;function qt(a){"string"===typeof a.hs&&a.hs&&(a.Tl=a.Tc.Be.get(a.hs),a.hs="");return a.Tl}function rt(a){a.Ow--;if(0===a.Ow&&a.kM){var b=a.Tc;a.kM=!0;0<a.Ow||(b.Be.delete(a.fg),a.A(),b.xe===a&&(b.xe=null))}}
function ut(a,b){"number"===typeof b?((b=a.gr(b))||(b=a.Cn.qC()),a.pG=b):((b=a.Cn.SH(a.sN))||(b=a.Cn.qC()),a.pG=b)}function wt(a){"string"===typeof a.kt&&a.kt&&(a.EA=a.Tc.Be.get(a.kt),a.kt="");return a.EA?a.EA:a}
function xt(a,b){if(yt(a)){for(var [,d]of yt(a).entries())xt(d,!1);yt(a).clear()}a.ag=null;a.mw=null;a.Tl=null;a.ct="";a.tw=null;a.hs="";a.kt="";a.bt=[];if(b){if(pt(a.Tc,a),d=a.pG.us,d!==a.gs){b=a.gs;var c=a.vC().ja();a.Ow++;a.Tc.Kp.push(a);a.j.na(vt.F.dk.H.L$,c);a.j.na(vt.F.dk.H.O$,c);a.j.na(vt.F.dk.H.M$,c);a.j.na(vt.F.dk.H.P$,c);a.gs=d;a.j.na(vt.F.dk.H.qZ,c);a.j.na(vt.F.dk.H.o_,c);a.j.na(vt.F.dk.H.I$,c);a.j.na(vt.F.dk.H.U$,c);a.Tc.Kp.pop();rt(a);d=a.gr(a.gs);if("reference"===d.vc())if(c=d.XT,zt(a),
a.ag&&a.ag.has(d))a.bt.pop(),zt(a),d=a.ag.get(d),pt(a.Tc,d,!0,!0,!1),d.mw=a,d.ow=b,a=wt(a),a.Tl=d,a.Tl===a&&(a.Tl=null);else{const g=d.YT;if(c){a.bt.pop();let k=d.ZT;if(k)for(var e=a.Tc.Be.get(k);e;)k=vt.UP(k),e=a.Tc.Be.get(k);else for(k=`${c}-ref`,e=a.Tc.Be.get(k);e;)k=vt.UP(k),e=a.Tc.Be.get(k);c=tt(a.Tc,c,g,k,a.bo,!0);c.mw=a;c.ow=b;a.ag||(a.ag=new Map);a.ag.set(d,c);a=wt(a);c.EA=a;a.Tl=c;a.Tl===a&&(a.Tl=null)}}}}else a.gs=a.pG.us}function yt(a){zt(a);return a.ag}
function At(a){"string"===typeof a.ct&&a.ct&&(a.mw=a.Tc.Be.get(a.ct),a.ct="");return a.mw}function zt(a){if(a.tw){a.ag&&a.ag.clear();a.ag||(a.ag=new Map);for(const b of a.tw){const d=a.Tc.Be.get(b.flowchartStateTag),c=d.gr(b.flowchartElementId);a.ag.set(c,d)}a.tw=null}}
vt.FX=class{constructor(a,b,d,c,e,g,k){this.j=e.K();this.Tc=e;this.MK=a;this.sN=d;this.Cn=c;this.fg=b;this.bo=g;this.OT=k?k:g.ja().Sb;ut(this);this.gs=this.pG.us;this.bt=[];this.mw=null;this.ow=NaN;this.EA=this.Tl=this.ag=null;this.ct="";this.tw=null;this.kt=this.hs="";this.Ow=0;this.Ie=this.kM=!1}A(){this.Ie||(vt.I(this.bt),this.mw=this.bo=this.Cn=this.Tc=this.j=this.bt=null,this.ow=NaN,this.ag&&this.ag.clear(),this.EA=this.Tl=this.ag=null,this.ct="",this.tw=null,this.kt=this.hs="",this.Ie=!0)}vk(){return this.Ie}K(){return this.j}ua(){return this.MK}vC(){this.bo||
(this.bo=Lq(this.j,this.OT).oa);return this.bo}gr(a){return this.Cn.gr(a)}Yb(){xt(wt(this),!0)}Aa(){if(this.kM)var a=null;else{a=this.MK;var b=this.fg,d=this.sN,c=this.gs,e=this.bt,g=this.bo.ja().Sb,k=At(this)?At(this).fg:"",l=vt.Xb(this.ow)?this.ow:NaN;zt(this);if(this.ag){var n=[];for(const [p,r]of yt(this).entries())n.push({flowchartElementId:p.us,flowchartStateTag:r.fg});n=n.length?n:null}else n=null;a={flowchartName:a,flowchartTag:b,startNodeTag:d,currentNodeId:c,previousNodeIds:e,pluginUID:g,
reference:{previousFlowchartTag:k,previousStartNodeId:l,referencesJson:n,currentReferenceFlowchartTag:qt(this)?qt(this).fg:"",rootFlowchartTag:wt(this)?wt(this).fg:""}}}return a}Ba(a){a&&(this.MK=a.flowchartName,this.fg=a.flowchartTag,this.sN=a.startNodeTag,this.gs=a.currentNodeId,this.bt=a.previousNodeIds,this.OT=a.pluginUID,a.hasOwnProperty("reference")&&(a=a.reference,this.ct=a.previousFlowchartTag,this.ow=a.previousStartNodeId,this.tw=a.referencesJson,this.hs=a.currentReferenceFlowchartTag,this.kt=
a.rootFlowchartTag),ut(this))}};"use strict";const Bt=self.D;Bt.BX=class{constructor(){this.rv=new Map}A(){for(const a of this.rv.values())a.A();this.rv.clear();this.rv=null}Tb(a){a=new Bt.AX(a);this.rv.set(a.ua(),a)}ba(a){return this.rv.get(a)}dI(){return!!this.rv.size}};"use strict";const Ct=self.D;Ct.AX=class{constructor(a){this.Sa=a[0];this.vs=new Ct.DX(a[1],this)}A(){this.vs.A();this.vs=null}gr(a){return this.vs.gr(a)}SH(a){return this.vs.SH(a)}qC(){return this.vs.qC()}ua(){return this.Sa}};
"use strict";const Dt=self.D;class Et{constructor(a,b){this.vs=b;this.Da=a[7];this.us=a[0];this.fg=a[1];this.C2=a[6];this.ZT=this.YT=this.XT=null;"reference"===this.Da&&(this.XT=a[8],this.YT=a[9],this.ZT=a[10]);this.OK=new Dt.EX(a[5])}A(){this.vs=null}vc(){return this.Da}}
Dt.DX=class{constructor(a,b){this.Cn=b;this.vz=[];this.NK=new Map;this.vS=new Map;this.wS=null;b=this.vz;var d=Et;if(a)for(var c of a)a=new d(c,this),b.push(a);for(const e of this.vz){c=e.fg;a=e.C2;this.NK.set(e.us,e);c&&this.vS.set(c,e);a&&(this.wS=e);c=e.OK;for(const g of Ft(c))this.NK.set(g.us,g)}}A(){this.Cn=null;for(const a of this.vz)a.A();Dt.I(this.vz);this.vz=null}gr(a){return this.NK.get(a)}SH(a){return this.vS.get(a)}qC(){return this.wS}};"use strict";const Gt=self.D;
class Ht{constructor(a,b){this.OK=b;this.us=a[0];this.Sa=a[1];this.Yc=a[2]}A(){this.OK=null}ua(){return this.Sa}nd(){return this.Yc}}function*Ft(a){for(const b of a.tv)yield b}Gt.EX=class{constructor(a){this.tv=[];this.c2=new Map;var b=this.tv,d=Ht;if(a)for(const c of a)a=new d(c,this),b.push(a);for(const c of this.tv)this.c2.set(c.ua(),c)}A(){for(const a of this.tv)a.A();Gt.I(this.tv);this.tv=null}};"use strict";const It=self.D;function Jt(a){return a.Bb[a.xa-1]}
function Kt(a){var b=a.Bb,d=++a.xa;d===b.length?(d=It.C(It.SI,a),b.push(d),a.Lk=d):(b=b[d],b.Yb(),a.Lk=b)}It.b0=class extends It.Ca{constructor(a){super();this.R=a;this.Bb=[];this.Bb.push(It.C(It.SI,this));this.xa=0;this.Lk=this.Bb[0]}A(){for(const a of this.Bb)a.A();It.I(this.Bb);this.R=this.Lk=null}J(){return this.R}ha(){return this.Lk}pe(){this.ha().pe()}Za(){this.Lk=this.Bb[--this.xa]}Br(a){const b=this.Bb;for(let d=0,c=b.length;d<c;++d)b[d].Br(a)}};"use strict";const Lt=self.D;
function Mt(a){Lt.I(a.M);Lt.I(a.zb)}function Nt(a){return a.qb?!!a.R.M.length:!!a.M.length}function Ot(a){const b=a.za();return b.length?b:a.zb}function Pt(a,b){a.qb=!1;Lt.I(a.M);a.M.push(b)}function Qt(a,b){a.qb=!1;Lt.Fd(a.M,b)}function Rt(a,b){a.qb=!1;Lt.I(a.M);for(const d of b)a.M.push(d)}function St(a,b){var d=Tt;for(const c of b)d.has(c)||a.zb.push(c)}
function Ut(a,b){b&&(Vt(a.Yd).$b().We?(a.qb&&(Lt.I(a.M),Lt.Fd(a.zb,b.J().za()),a.qb=!1),b=a.zb.indexOf(b),-1!==b&&(a.M.push(a.zb[b]),a.zb.splice(b,1))):Pt(a,b))}
Lt.SI=class extends Lt.Ca{constructor(a){super();this.Bb=a;this.R=this.Bb.J();this.Yd=this.R.K().Id();this.qb=!0;this.M=[];this.zb=[]}A(){Mt(this);this.Yd=this.R=this.Bb=null}J(){return this.R}za(){return this.qb?this.R.za():this.M}Yb(){this.qb=!0;Lt.I(this.zb)}pe(){this.qb=!0}JH(a){a.qb?this.Yb():(this.qb=!1,Lt.Fd(this.M,a.M),Lt.I(this.zb))}Br(a){Lt.$h(this.M,a);Lt.$h(this.zb,a)}};"use strict";const Wt=self.D;function Vt(a){return a.Bb[a.xa]}
Wt.sX=class extends Wt.Ca{constructor(a){super();this.Ua=a;this.j=this.Ua.K();this.Bb=[];this.Bb.push(Wt.C(Wt.GP,this,null));this.xa=0;this.kE=[]}A(){for(const a of this.Bb)a.A();Wt.I(this.Bb);Wt.I(this.kE);this.j=this.Ua=null}Ea(){return this.Ua}K(){return this.j}bb(a){var b=this.Bb;const d=++this.xa;if(d===b.length)return a=Wt.C(Wt.GP,this,a),b.push(a),a;b=b[d];b.Yb(a);return b}Za(){--this.xa}};"use strict";const Xt=self.D;
function Yt(a){const b=a.Rf;return b.nF?!0:a.qf<b.Lc.length-1?!!b.Jd().length:!1}function Zt(a,b){a.Sf=b}Xt.GP=class extends Xt.Ca{constructor(a,b){super();this.Bb=a;this.j=this.Bb.K();this.Rf=b;this.pf=this.qf=0;this.Ep=this.Ph=!1;this.lE=null;this.XK=this.BS=0;this.Sf=null}A(){this.Yb(null);this.j=this.Bb=null}Yb(a){this.Rf=a;this.pf=this.qf=0;this.Ep=this.Ph=!1;this.Sf=null}vJ(a,b){this.Rf=a;this.qf=0;this.pf=b}$b(){return this.Rf}ZC(a){this.XK=a}};"use strict";const $t=self.D;
$t.$Y=class extends $t.Ca{constructor(a){super();this.Ua=a;this.j=this.Ua.K();this.Bb=[];this.xa=-1;this.Lk=null;this.QE=[]}A(){$t.I(this.Bb);this.j=this.Ua=null}Ea(){return this.Ua}K(){return this.j}cu(){return this.Lk}bb(){const a=++this.xa,b=this.Bb;a===b.length?b.push(this.QE.slice(0)):$t.Fd(b[a],this.QE);this.Lk=b[a]}Za(){this.Lk=this.Bb[--this.xa]}};"use strict";const au=self.D;
au.bZ=class extends au.Ca{constructor(a){super();this.Ua=a;this.j=this.Ua.K();this.Bb=[];this.xa=-1}A(){au.I(this.Bb);this.j=this.Ua=null}Ea(){return this.Ua}K(){return this.j}cu(){return this.Bb[this.xa]}bb(){++this.xa;if(this.xa===this.Bb.length){var a=au.C(au.aZ,this);this.Bb.push(a);return a}a=this.Bb[this.xa];a.Yb();return a}Za(){--this.xa}};"use strict";const bu=self.D;
bu.aZ=class extends bu.Ca{constructor(a){super();this.Fg=a;this.Sa="";this.xa=0;this.jd=!1}Yb(){this.Sa="";this.xa=0;this.jd=!1}$C(a){this.Sa=a}ua(){return this.Sa}Ma(){return this.xa}ue(){this.jd=!0}};"use strict";const cu=self.D;cu.GW=class extends cu.Ca{constructor(){super();this.Bb=[];this.xa=-1}A(){cu.I(this.Bb)}cu(){return this.Bb[this.xa]}bb(){++this.xa;if(this.xa===this.Bb.length){const a=[];this.Bb.push(a);return a}return this.Bb[this.xa]}Za(){--this.xa}};"use strict";const du=self.D;
function eu(a,b){return a.Ma()-b.Ma()}function dl(a,b){b?a.Sy++:a.Sy--}function fl(a){return 0<a.io||0<a.Ue}function yp(a,b){for(const [d,c,e]of a.cG)a.Ey(b,d,c,e);du.I(a.cG)}function Dp(a){for(const b of a.Vh)b.A();du.I(a.Vh)}function fu(a,b){switch(b.YK){case 0:a.zv.set(b.Bs.toLowerCase(),b);break;case 1:a.fz.set(b.Bs.toLowerCase(),b)}}
function gu(a,b){2<=b.length&&b.sort(eu);let d=a.HR.get(b.length);d||(d=[],a.HR.set(b.length,d));for(let c=0,e=d.length;c<e;++c){const g=d[c];a:{for(let k=0,l=b.length;k<l;++k)if(b[k]!==g[k]){a=!1;break a}a=!0}if(a)return g}d.push(b);return b}function hu(a){const b=[];for(a=a.ir();a;)du.Bm(b,a.tR()),a=a.ir();return b}function iu(a){const b={};for(const d of hu(a))b[d.fk()]=ju(d);return Object.create(Object.prototype,b)}
function ku(a,b,d){let c=a.fz.get((b.ua()+"."+d).toLowerCase());if(c)return c;if(!b.Ya)for(const e of b.Ci)if(c=a.fz.get((e.ua()+"."+d).toLowerCase()))return c;return null}function*lu(a,b){for(const d of Jp(b))if(b=d.ud)a.j.wn.push(d),yield*b.rb(),mu(a.j)}async function nu(a,b){for(const d of a.Gu)d.Av=!1;a.io++;for(const d of lu(a,b))await ou(a.j,d);a.io--}function pu(a,b,d,c){a.cG.push([b,d,c]);return!1}function qu(a,b,d,c){let e=null;const g=new Promise(k=>e=k);a.bG.push([b,d,c,e]);return g}
function*ru(a){if(su(a.j))throw Error("should not be in breakpoint");const b=a.j.ib;for(;a.bG.length;){const [d,c,e,g]=a.bG.shift(),k=yield*a.qy(b,d,c,e);g(k)}}async function tu(a){for(const b of ru(a))await ou(a.j,b)}function uu(a){for(let b=0,d=a.length;b<d;++b)a[b].ll.pe()}function vu(a){for(let b=0,d=a.length;b<d;++b)Kt(a[b].ll)}function wu(a){for(let d=0,c=a.length;d<c;++d){var b=a[d].ll;const e=b.Bb,g=++b.xa;g===e.length&&e.push(It.C(It.SI,b));const k=e[g];k.JH(e[g-1]);b.Lk=k}}
function xu(a){for(let b=0,d=a.length;b<d;++b)a[b].ll.Za()}function yu(a,b){const d=new Set,c=a.Yd.Bb;a=a.Yd.xa;for(let e=0;e<=a;++e){const g=c[e].Sf;if(g)for(const k of g)b&&b.has(k)||d.add(k)}return d}function zu(a,b){b=new Set([...b]);a=yu(a,b);if(0<a.size){for(const d of a)Kt(d.ll);return[...a]}return null}function Au(a){const b=du.C(du.QQ,a);a.Vh.push(b);return b}function Bu(a){a=du.t3(a.Vh,b=>b.LA);for(const b of a)b.A()}
async function Cu(a){if(a.Vh.length){var b=a.og(),d=!1;a.io++;for(let c=0,e=a.Vh.length;c<e;++c){const g=a.Vh[c];Du(g)&&await Eu(g,b);g.LA&&(d=!0)}d&&(Bu(a),b.Yb(null));a.io--}}function Fu(a){return a.Vh.filter(b=>"promise"!==b.Da).map(b=>b.Aa())}function Gu(a){for(;a;)if(a=a.ir(),a instanceof du.er)return a;return null}
du.rX=class extends du.Ca{constructor(a){super();this.j=a;this.Gu=[];this.lG=new Map;this.OJ=[];this.aL=new Map;this.$J=new Map;this.lK=new Map;this.uD=new Map;this.HR=new Map;this.rz=new Map;this.O2=0;this.NJ=[];this.v1=[];this.rT=[];this.zv=new Map;this.fz=new Map;this.Yd=du.C(du.sX,this);this.me=du.C(du.$Y,this);this.Fg=du.C(du.bZ,this);this.GN=[];this.cG=[];this.bG=[];this.Sy=this.Ue=this.io=0;this.Vh=[];this.nn=[];self.c3_callFunction=(b,d)=>this.nD(b,d)}A(){Dp(this);this.Yd.A();this.Yd=null;
this.me.A();this.me=null;du.I(this.cG);du.I(this.bG);this.j=null;du.I(this.Gu);this.lG.clear()}Ka(a){a=du.C(du.qX,this,a);this.Gu.push(a);this.lG.set(a.ua().toLowerCase(),a)}qc(){for(var a of this.fz.values())if(a.R&&a.R.Ya)for(var b of a.R.Hp)if(Hu(b,a.np)){a.fL=!0;break}for(const d of this.zv.values())d.qc();for(const d of this.fz.values())d.qc();for(const d of this.Gu)d.qc();for(const d of this.Gu)tp(d);for(const d of this.GN)d.qc(!1);du.I(this.GN);a=this.me;a.QE=this.rT;b=a.QE.slice(0);a.Bb.push(b);
a.xa=0;a.Lk=b}K(){return this.j}Id(){return this.Yd}og(){return Vt(this.Id())}$b(){return this.og().$b()}Hf(){const a=this.og();return Iu(a.$b(),a.qf)}yx(){const a=this.og();return Ju(a.$b(),a.pf)}Ey(a,b,d,c){let e=!1;if(!a.Vb())return pu(this,b,d,c);this.Ue++;for(const g of Jp(a))if(a=g.ud){this.j.wn.push(g);for(const k of a.XD){const l=k.Ey(b,d,c);e=e||l}a=a.Ey(b,d,c);e=e||a;mu(this.j)}this.Ue--;return e}*qy(a,b,d,c){let e=!1;if(!a.Vb())return pu(this,b,d,c);this.Ue++;for(const g of Jp(a))if(a=
g.ud){this.j.wn.push(g);for(const k of a.XD){const l=yield*k.qy(b,d,c);e=e||l}a=yield*a.qy(b,d,c);e=e||a;mu(this.j)}this.Ue--;return e}Aa(){const a={};for(var b of this.OJ)a[b.mb.toString()]=b.lu();b={};for(const [e,g]of this.lK){var d=g.Aa();d&&(b[e.toString()]=d)}d={};for(const [e,g]of this.uD){var c=g.Aa();c&&(d[e.toString()]=c)}c={};for(const [e,g]of this.rz)g.Hb||!g.Kf()&&!g.Um()||(c[e.toString()]=g.nd());return{groups:a,cnds:b,acts:d,vars:c,waits:Fu(this)}}Ba(a){var b=a.groups;for(const [e,
g]of Object.entries(b))(b=(b=this.$J.get(parseInt(e,10)))&&b.Wk?b:null)&&b.wu(g);b=a.cnds;var d=new Map;for(const [e,g]of Object.entries(b))d.set(parseInt(e,10),g);for(const [e,g]of this.lK)g.Ba(d.get(e)||null);b=a.acts;d=new Map;for(const [e,g]of Object.entries(b))d.set(parseInt(e,10),g);for(const [e,g]of this.uD)g.Ba(d.get(e)||null);b=a.vars;for(const [e,g]of Object.entries(b))(b=this.rz.get(parseInt(e,10))||null)&&b.wg(g);a=a.waits;Dp(this);for(const e of a){a:if(a=this.K(),d=this.$J.get(e.ev)||
null){var c=0;if(e.hasOwnProperty("act")){b=this.uD.get(e.act)||null;if(!b){a=null;break a}c=b.Ma()}b=Ku.C(Ku.QQ,this);b.Gc=e.t;b.Da=-1===b.Gc?"signal":"timer";b.MA=e.st;b.Iv=e.s;b.Ok=d;b.pf=c;for(const g of e.sm)(d=mp(a,g))&&b.$e.push(d);if(Array.isArray(e.dsm))for(const g of e.dsm)if(d=mp(a,g))b.Sf||(b.Sf=new Set),b.Sf.add(d);for(const [g,k]of Object.entries(e.sols))if(d=mp(a,parseInt(g,10)))c=Ku.C(Ku.eR,null),c.Ba(this,k),b.mt.set(d,c);a=b}else a=null;a&&this.Vh.push(a)}}nD(a,b){Array.isArray(b)||
(b=[]);a=this.zv.get(a.toLowerCase().toLowerCase())||null;if(!a)return null;if(!a.od())return Lu(a);var d=a.Wg;if(b.length<d.length){b=b.slice(0);do b.push(d[b.length].Gs);while(b.length<d.length)}d=a.Ke();return d.HI(d.Rd(),!1,a.kl,Lu(a),...b)}};"use strict";const Mu=self.D;function tp(a){Mu.I(a.XD);Nu(a,a);a.IR.clear()}
function Ou(a,b,d,c){switch(b[0]){case 0:case 3:b=Mu.yl.Ka(a,d,b);if(b.We){c.push(b);c=b.Lc;for(let e=0,g=c.length;e<g;++e)c[e].rr()&&Pu(a,b,e)}else b.rr()?Pu(a,b,0):c.push(b);break;case 1:a=Mu.qx.Ka(a,d,b);c.push(a);break;case 2:a=Mu.EP.Ka(a,d,b);c.push(a);break;case 4:c=Qu.C(Qu.er,a,d,b);Ru(c,b[1]);fu(a.Ua,c);break;case 5:a=Mu.FP.Ka(a,d,b);c.push(a);break;case 6:c=Qu.C(Qu.er,a,d,b);Su(c,b[1]);fu(a.Ua,c);break;default:throw Error("invalid event type");}}
function Pu(a,b,d){b.We||a.Ua.GN.push(b);var c=Iu(b,d),e=c.Wa;const g=c.J();if(c.WS){var k=a.tS.get(g);k||(k=new Map,a.tS.set(g,k));a=c.Ia;if(!a.length)throw Error("no parameters");a=Tu(a[0].HK)().toLowerCase();c=k.get(e);c||(c=new Map,k.set(e,c));e=c.get(a);e||(e=[],c.set(a,e));e.push([b,d])}else k=a.FG.get(g),k||(k={FO:new Map,uB:new Map},a.FG.set(g,k)),(c=c.qh())?(a=k.uB.get(c),a||(a=new Map,k.uB.set(c,a))):a=k.FO,k=a.get(e),k||(k=[],a.set(e,k)),k.push([b,d])}
function Nu(a,b){const d=b.XD,c=b.IR;for(const e of a.jU)a=e.Lz,e.Pb&&b!==a&&!c.has(a)&&(c.add(a),Nu(a,b),d.push(a))}function Uu(a,b,d,c,e){c=a.FG.get(c);if(!c)return!1;e=e?c.uB.get(e):c.FO;if(!e)return!1;e=e.get(b);if(!e)return!1;b=!1;for(const [g,k]of e)e=Vu(a,d,g,k),b=b||e;return b}
function Vu(a,b,d,c){const e=a.j;a=a.Ua;const g=a.$b(),k=a.Id(),l=a.Ue;let n=!1;g&&vu(g.Rd());vu(d.Rd());const p=1<l;p&&a.me.bb();const r=k.bb(d);b&&(Pt(d.Lc[c].J().ha(),b),b.Hc()&&Wu(b));b=!0;if(d.La()){const w=d.Bt;for(let x=0,z=w.length;x<z;++x)if(!Xu(w[x],r)){b=!1;break}}b&&(d.We?(r.Rf=d,d.Lc[c].Fa()&&(d.Ck(r,0)&&Yu(d),r.Ph=!0)):d.Fa(r),n=r.Ph);k.Za();p&&a.me.Za();xu(d.Rd());g&&xu(g.Rd());g||1!==l||(du.I(a.nn),0<a.Sy||gl(e));return n}
function*Zu(a,b,d,c,e){c=a.FG.get(c);if(!c)return!1;e=e?c.uB.get(e):c.FO;if(!e)return!1;e=e.get(b);if(!e)return!1;b=!1;for(const [g,k]of e)e=g.mg()?Vu(a,d,g,k):yield*$u(a,d,g,k),b=b||e;return b}
function*$u(a,b,d,c){const e=a.j;a=a.Ua;const g=a.$b(),k=a.Id(),l=a.Ue;let n=!1;g&&vu(g.Rd());vu(d.Rd());const p=1<l;p&&a.me.bb();const r=k.bb(d);b&&(Pt(d.Lc[c].J().ha(),b),b.Hc()&&Wu(b));b=!0;if(d.La()){const w=d.Bt;for(let x=0,z=w.length;x<z;++x)if(!(yield*av(w[x],r))){b=!1;break}}b&&(d.We?yield*bv(d,r,c):yield*d.rb(r),n=r.Ph);k.Za();p&&a.me.Za();xu(d.Rd());g&&xu(g.Rd());g||1!==l||(du.I(a.nn),0<a.Sy||gl(e));return n}
Mu.qX=class extends Mu.Ca{constructor(a,b){super();this.Ua=a;this.j=a.K();this.Sa=b[0];this.jE=[];this.FG=new Map;this.tS=new Map;this.pS=new Map;this.Av=!1;this.jU=[];this.XD=[];this.IR=new Set;for(const d of b[1])Ou(this,d,null,this.jE);this.fl=this.j.Ib?{type:"sheet",name:this.Sa,PB:0,children:[]}:null}A(){this.j=this.Ua=null}qc(){const a=this.jE;for(let b=0,d=a.length;b<d;++b)a[b].qc(b<d-1&&a[b+1]instanceof Mu.yl&&a[b+1].GC())}Ea(){return this.Ua}K(){return this.j}ua(){return this.Sa}Fa(){if(!this.Av){var a=
this.j,b=cv(a),d=b?performance.now():0;this.Av=!0;var c=this.Ea(),e=c.og();for(const g of this.jE)g.Fa(e),uu(g.Jd()),du.I(c.nn),gl(a);e.Yb(null);b&&(this.fl.PB+=performance.now()-d)}}*rb(){if(!this.Av){this.Av=!0;var a=this.j,b=this.Ea(),d=b.og();for(const c of this.jE)yield*c.rb(d),uu(c.Jd()),du.I(b.nn),gl(a);d.Yb(null)}}Ey(a,b,d){if(b){const c=b.J();Uu(this,a,b,c,d);for(const e of c.Ci)Uu(this,a,b,e,d)}else return Uu(this,a,b,null,null)}*qy(a,b,d){if(b){const c=b.J();yield*Zu(this,a,b,c,d);for(const e of c.Ci)yield*Zu(this,
a,b,e,d)}else return yield*Zu(this,a,b,null,null)}};"use strict";const dv=self.D,ev=[];function fv(){return!0}function*gv(){return!0}function Iu(a,b){b=Math.floor(b);if(0>b||b>=a.Lc.length)throw new RangeError("invalid condition index");return a.Lc[b]}function Ju(a,b){b=Math.floor(b);if(0>b||b>=a.Dc.length)throw new RangeError("invalid action index");return a.Dc[b]}
function Xu(a,b){b.Rf=a;const d=a.Lc;let c=0===d.length;for(let e=0,g=d.length;e<g;++e){const k=d[e];b.qf=e;if(k.Tz)throw Error("trigger cannot be used as sub-event to a loop");if(k.Fa())c=!0;else if(!a.We)return!1}return a.We?c:!0}function*av(a,b){b.Rf=a;const d=a.Lc;let c=0===d.length;for(let e=0,g=d.length;e<g;++e){const k=d[e];b.qf=e;if(k.Tz)throw Error("trigger cannot be used as sub-event to a loop");if(k.mg()?k.Fa():yield*k.rb())c=!0;else if(!a.We)return!1}return a.We?c:!0}
function*bv(a,b,d){b.Rf=a;d=a.Lc[d];if(d.mg()?d.Fa():yield*d.rb())(hv(a)?a.Ck(b,0):yield*a.Kr(b,0))&&(iv(a)?Yu(a):yield*jv(a)),b.Ph=!0}function kv(a,b){if(a)if(b.includes(a)||b.push(a),a.Ya)for(const c of a.Hp){if(c.Hc()){a=c;var d=b;for(const e of a.Ih.gm)d.includes(e)||d.push(e)}}else if(a.Hc())for(d of a.Ih.gm)b.includes(d)||b.push(d)}function lv(a){const b=a.Ec;b.fV=a.Lc.every(d=>d.mg());b.eO=a.Dc.every(d=>d.mg());b.fO=a.Rj.every(d=>d.mg());b.gV=b.fV&&b.eO&&b.fO}
function mv(a){return a.Af&&a.Af instanceof dv.er||a.Lc.some(b=>b.rr())}function nv(a){a.nF=!0;a.Fc&&nv(a.Fc)}function ov(a){return a.Ec&&a.Ec.EV&&a.Ec.BB}function pv(a,b){b=Math.floor(b);return 0<=b&&b<a.Dc.length}
function Yu(a){if(a.Rj.length){var b=a.Wk&&cv(a.j),d=b?performance.now():0,c=a.Yd,e=c.bb(a);if(a.nF){var g=a.Wk;const k=a.pF,l=a.Rj;for(let n=0,p=l.length,r=p-1;n<p;++n){const w=l[n],x=w.Jd(),z=!k||!g&&n<r;z&&wu(x);w.Fa(e);z?xu(x):uu(x)}}else{g=a.Rj;for(let k=0,l=g.length;k<l;++k)g[k].Fa(e)}c.Za();b&&(a.fl.PB+=performance.now()-d)}}function hv(a){return!qv(a.j)&&a.Ec.eO}function iv(a){return!qv(a.j)&&a.Ec.fO}
function*jv(a){if(a.Rj.length){var b=a.Yd,d=b.bb(a);a.nF?yield*rv(a,d):yield*sv(a,d);b.Za()}}function tv(a,b){const d=a.Lc;for(let c=0,e=d.length;c<e;++c){const g=d[c];b.qf=c;if(!g.Fa()){b.Ph=!1;return}}b.Ph=!0;a.Ck(b,0)&&Yu(a);b.Ph&&a.Cz&&(b.Ep=!0)}function*uv(a,b){const d=a.Lc;let c=0===d.length;for(let g=0,k=d.length;g<k;++g){var e=d[g];e.rr()||(b.qf=g,e=e.mg()?e.Fa():yield*e.rb(),c=c||e)}b.Ph=!!c;c&&((hv(a)?a.Ck(b,0):yield*a.Kr(b,0))&&(iv(a)?Yu(a):yield*jv(a)),a.Cz&&(b.Ep=!0))}
function*vv(a,b){const d=a.Lc;for(let c=0,e=d.length;c<e;++c){const g=d[c];b.qf=c;if(g.mg()?!g.Fa():!(yield*g.rb())){b.Ph=!1;return}}b.Ph=!0;(hv(a)?a.Ck(b,0):yield*a.Kr(b,0))&&(iv(a)?Yu(a):yield*jv(a));b.Ph&&a.Cz&&(b.Ep=!0)}function*wv(a,b){if(yield*a.Kr(b,b.pf))yield*jv(a)}function*rv(a,b){const d=a.Wk,c=a.pF;a=a.Rj;for(let e=0,g=a.length,k=g-1;e<g;++e){const l=a[e],n=l.Jd(),p=!c||!d&&e<k;p&&wu(n);yield*l.rb(b);p?xu(n):uu(n)}}
function*sv(a,b){a=a.Rj;for(let d=0,c=a.length;d<c;++d)yield*a[d].rb(b)}function xv(a,b,d){d.qf=0;d.pf=0;const c=a.Lc;if(!a.We)for(let e=b.qf+1,g=c.length;e<g;++e)if(b=c[e],d.qf=e,!b.Fa())return!1;a.Ck(d,0)&&Yu(a);return!0}function*yv(a,b,d){d.qf=0;d.pf=0;const c=a.Lc;if(!a.We)for(let e=b.qf+1,g=c.length;e<g;++e)if(b=c[e],d.qf=e,b.mg()?!b.Fa():!(yield*b.rb()))return!1;(hv(a)?a.Ck(d,0):yield*a.Kr(d,0))&&(iv(a)?Yu(a):yield*jv(a));return!0}
function zv(a,b){if(a.La()){a=a.Bt;for(let d=0,c=a.length;d<c;++d)if(!Xu(a[d],b))return!1}return!0}function*Av(a,b){if(a.La()){a=a.Bt;for(let d=0,c=a.length;d<c;++d)if(!(yield*av(a[d],b)))return!1}return!0}function Bv(a,b,d,c){0<d.length?c?(d=d.map(e=>e.ba(0)),b.me.bb(),Cv(a.Af,d)):Dv(a.Af,d):c&&b.me.bb()}
function*Ev(a,b,d,c,e){let g,k;if(ov(a)||qv(a.j))yield a;const l=0<b.length;let n=null;const p=a.Yd,r=a.j.Ea(),w=1<++r.Ue;Bv(a,r,d,w);l&&(c?wu(b):vu(b));null!==e&&(e.Vw?(d=e.WG.ha(),Qt(d,(c?e.Vw.ha():Jt(e.Vw.ll)).za()),Lt.I(d.zb),c||Fv(e.WG)):e.Nt&&(d=e.Nt.ha(),Qt(d,e.LB),Lt.I(d.zb)),e.XO&&(n=zu(r,b)));e=p.bb(a);c&&(e.Sf=b);if(yield*Av(a,e))e.Rf=a,(c=a.Af.mi())&&([k,g]=Gv(a.Af)),yield*vv(a,e),c&&Hv(a.Af,k);p.Za();w&&r.me.Za();null!==n&&xu(n);l&&xu(b);--r.Ue;return g}
function*Iv(a,b,d){if(ov(a)||qv(a.j))yield a;const c=a.Rd(),e=0<c.length,g=a.Yd,k=a.j.Ea(),l=1<++k.Ue;l&&k.me.bb();Cv(a.Af,b);e&&(d?wu(c):vu(c));b=g.bb(a);if(yield*Av(a,b))b.Rf=a,yield*vv(a,b);g.Za();l&&k.me.Za();e&&xu(c);--k.Ue}
dv.yl=class extends dv.Ca{constructor(a,b,d){super();this.ud=a;this.j=a.K();this.Fc=b;this.Af=null;this.Yd=this.j.Ea().Id();this.$e=[];this.Bw=[];this.Cz=this.pF=this.nF=this.HS=!1;this.We=!!d[2];this.cF=!1;this.Bt=null;this.Lc=[];this.Dc=[];this.Rj=[];this.Ck=fv;this.Kr=gv;this.FL=this.Wk=!1;this.DS="";this.fF=!1;this.fl=this.QD=null;this.mb=d[4];this.hv=d[5];this.ud.pS.set(this.hv,this);this.Ec=this.j.Ib?{BB:d[3][0],EV:d[3][1],fV:!1,eO:!1,fO:!1,gV:!1}:null;this.Ea().$J.set(this.mb,this);3===d[0]&&
(a=d[1],this.Wk=!0,this.fF=this.FL=!!a[0],this.DS=a[1].toLowerCase(),this.QD=[],b=this.Ea(),b.OJ.push(this),b.aL.set(this.DS,this),this.j.Ib&&(this.fl={type:"group",name:a[1],PB:0,children:[]}));a=0;for(var c of d[6])b=dv.HH.Ka(this,c,a++),this.Lc.push(b),b=b.J(),kv(b,this.$e);a=0;for(const e of d[7])c=dv.SB.Ka(this,e,a++),this.Dc.push(c);if(9===d.length){d=d[8];for(const e of d)Ou(this.ud,e,this,this.Rj)}this.Lc.length&&(this.cF=null===this.Lc[0].J()&&this.Lc[0].Wa===dv.F.ob.H.nX);0===this.Lc.length&&
(this.Lc=ev);0===this.Dc.length&&(this.Dc=ev);0===this.Rj.length&&(this.Rj=ev)}static Ka(a,b,d){return dv.C(dv.yl,a,b,d)}qc(a){this.Cz=!!a;if(this.Wk)for(a=this.La(),this.pF=!0;a;){if(!a.Wk){this.pF=!1;break}a=a.La()}if(mv(this)){this.Bt=[];for(a=this.La();a;)this.Bt.push(a),a=a.La();this.Bt.reverse()}for(var b of this.Lc)b.qc();if(0<this.Dc.length){b=!1;for(var d of this.Dc)d.qc(),(d.mi()||1===d.Fy)&&(b=!0);b?(this.Ck=this.m1,this.Kr=this.W0):(this.Ck=this.l1,this.Kr=this.V0)}d=this.Rj;for(let c=
0,e=d.length;c<e;++c)d[c].qc(c<e-1&&d[c+1]instanceof dv.yl&&d[c+1].GC());this.Ec&&lv(this);if(this.fl){a:{for(d=this.La();d;){if(d.Wk)break a;d=d.La()}d=this.ud}d.fl.children.push(this.fl)}}Jd(){return this.$e}Rd(){if(!this.HS){this.HS=!0;var a=this.j.qd;if(this.$e===a)this.Bw=a;else{this.Bw=dv.hO(this.$e);for(a=this.La();a;){for(var b of a.$e)kv(b,this.Bw);a=a.La()}b=this.Ea();this.$e=gu(b,this.$e);this.Bw=gu(b,this.Bw)}}return this.Bw}Ea(){return this.ud.Ea()}K(){return this.j}La(){return this.Fc}ir(){return this.Af||
this.Fc}GC(){return this.cF}lu(){return this.fF}wu(a){a=!!a;if(!this.Wk)throw Error("not a group");if(this.fF!==a){this.fF=a;for(const b of this.QD)Jv(b);this.QD.length&&(a=Bo(this.j).ud)&&tp(a)}}rr(){return this.Lc.length&&this.Lc[0].rr()}tR(){return this.Rj.filter(a=>a instanceof dv.qx)}Fa(a){a.Rf=this;this.cF||(a.Ep=!1);if(this.We){const d=this.Lc;let c=0===d.length;for(let e=0,g=d.length;e<g;++e){var b=d[e];b.rr()||(a.qf=e,b=b.Fa(),c=c||b)}a.Ph=!!c;c&&(this.Ck(a,0)&&Yu(this),this.Cz&&(a.Ep=!0))}else tv(this,
a)}*rb(a){if(ov(this)||qv(this.j))yield this;a.Rf=this;this.cF||(a.Ep=!1);this.We?yield*uv(this,a):yield*vv(this,a)}l1(a,b){const d=this.Dc;for(let c=b,e=d.length;c<e;++c)b=d[c],a.pf=c,b.Fa();return!0}*V0(a,b){const d=this.Dc;for(let c=b,e=d.length;c<e;++c)b=d[c],a.pf=c,b.mg()?b.Fa():yield*b.rb();return!0}m1(a,b){const d=this.Ea(),c=this.Dc;for(let e=b,g=c.length;e<g;++e){b=c[e];a.pf=e;const k=b.Fa();if(1===b.Fy&&!0===k)return!1;b.mi()&&k instanceof Promise&&d.nn.push(k)}return!0}*W0(a,b){const d=
this.Ea(),c=this.Dc;for(let e=b,g=c.length;e<g;++e){b=c[e];a.pf=e;let k;k=b.mg()?b.Fa():yield*b.rb();if(1===b.Fy&&!0===k)return!1;b.mi()&&k instanceof Promise&&d.nn.push(k)}return!0}mg(){return!ov(this)&&!qv(this.j)&&this.Ec.gV}XC(a,b,d,c){let e,g;const k=0<a.length;let l=null;const n=this.Yd,p=this.j.Ea(),r=1<++p.Ue;Bv(this,p,b,r);k&&(d?wu(a):vu(a));null!==c&&(c.Vw?(b=c.WG.ha(),Qt(b,(d?c.Vw.ha():Jt(c.Vw.ll)).za()),Lt.I(b.zb),d||Fv(c.WG)):c.Nt&&(b=c.Nt.ha(),Qt(b,c.LB),Lt.I(b.zb)),c.XO&&(l=zu(p,a)));
c=n.bb(this);d&&(c.Sf=a);zv(this,c)&&(c.Rf=this,(d=this.Af.mi())&&([g,e]=Gv(this.Af)),tv(this,c),d&&Hv(this.Af,g));n.Za();r&&p.me.Za();null!==l&&xu(l);k&&xu(a);--p.Ue;return e}HI(a,b,d,c,...e){let g,k;const l=0<a.length,n=this.j,p=this.Yd,r=n.Ea(),w=1<++r.Ue;w&&r.me.bb();0<e.length&&Cv(this.Af,e);l&&(b?wu(a):vu(a));b=p.bb(this);b.BS=d;b.XK=c;p.kE.push(b);Kv(n,!1);zv(this,b)&&(b.Rf=this,(d=this.Af.mi())&&([k,g]=Gv(this.Af)),tv(this,b),d&&Hv(this.Af,k));Kv(n,!0);p.Za();p.kE.pop();w&&r.me.Za();l&&xu(a);
--r.Ue;return g||b.XK}};"use strict";const Lv=self.D,Mv=[];let Nv=!1;async function Ov(a){try{await a.Wa()}catch(b){console.error(`Unhandled exception running script %c${a.ud.ua()}, event ${a.hv}:`,"font-size: 1.2em; font-weight: bold;",b),self.fi&&self.fi.q1(a),Nv||(console.info("%cTip:%c run this to highlight in Construct the last script that had an error: %cgoToLastErrorScript()","font-weight: bold; text-decoration: underline","","font-weight: bold"),Nv=!0)}}
Lv.FP=class extends Lv.Ca{constructor(a,b,d){super();const c=a.K(),e=a.Ea();this.ud=a;this.Ua=e;this.j=a.K();this.Fc=b;this.Wa=Pv(c,d[1]);this.hv=d[2];this.ud.pS.set(this.hv,this);this.Ec=c.Ib?{BB:d[3][0],EV:d[3][1]}:null}static Ka(a,b,d){return Lv.C(Lv.FP,a,b,d)}qc(){const a=this.Wa,b=iu(this);this.Wa=a.bind(null,this.j.Tk,b)}La(){return this.Fc}ir(){return this.Fc}GC(){return!1}Jd(){return Mv}Rd(){return this.Fc?this.Fc.Rd():Mv}Fa(a){a.Rf=this;a=this.Ua;var b=Ov(this);a.nn.push(b)}*rb(a){a.Rf=this;
if(ov(this)||qv(this.j))yield this;this.Fa(a)}mg(){return!ov(this)&&!qv(this.j)}};"use strict";const Qu=self.D;function Lu(a){switch(a.kl){case 0:return null;case 2:return"";default:return 0}}function Cv(a,b){a=a.Wg;for(let d=0,c=a.length;d<c;++d)a[d].wg(b[d])}function Dv(a,b){a=a.Wg;for(let d=0,c=a.length;d<c;++d)a[d].wg(b[d].ba(0))}function Gv(a){const b=a.K2++;a.bz=b;let d;const c=new Promise(e=>d=e);a.My.set(b,{resolve:d,TO:0});return[b,c]}
function Hv(a,b){const d=a.My.get(b);0===d.TO&&(d.resolve(),a.My.delete(b));a.bz=-1}function Ru(a,b){a.YK=0;a.Bs=b[0];a.kl=b[1];a.Wg=b[2].map(d=>Qu.qx.Ka(a.ud,a,d));a.fb=b[3];a.yL=b[4];a.Yg=b[5]}function Su(a,b){a.YK=1;a.np=b[1];a.R=Cn(a.j,b[2]);kv(a.R,a.hd.$e);a.Bs=a.R.ua()+"."+a.np;a.kl=b[3];a.Wg=b[4].map(d=>Qu.qx.Ka(a.ud,a,d));a.fb=b[5];a.yL=b[6];a.Yg=b[7];a.R.bS.set(a.np.toLowerCase(),a)}function Qv(a){return a.Wg.map(b=>b.nd())}function Rv(a,b){a.bz=b;a.My.get(b).TO--}
function*Sv(a,b,d){var c=new Map,e=[];for(const g of a.R.ha().za()){const k=g.J();if(Hu(k,a.np)){const l=c.get(k);Array.isArray(l)?l.push(g):c.set(k,[g])}else e.push(g)}0<e.length&&(yield*Ev(a.hd,b,d,a.Yg,{Nt:a.R,LB:e}));if(0<c.size)for(const [g,k]of c)c=Hu(g,a.np).Ke(),e=[...(new Set([...b,...c.Jd()]))],yield*Ev(c,e,d,a.Yg,{Nt:g,LB:k})}
Qu.er=class extends Qu.Ca{constructor(a,b,d){super();this.ud=a;this.j=a.K();this.Fc=b;this.YK=0;this.Bs="";this.kl=0;this.Wg=[];this.fb=!0;this.np="";this.R=null;this.fL=!1;this.pL=[];this.yL=this.Yg=!1;this.K2=0;this.bz=-1;this.My=new Map;this.hd=Qu.yl.Ka(a,b,d);this.hd.Af=this}qc(){for(const a of this.Wg)a.qc();this.hd.qc(!1)}tR(){return this.Wg}La(){return this.Fc}ir(){return this.Fc}J(){return this.R}od(){return this.fb}Ke(){return this.hd}mi(){return this.yL}O_(a,b){var d=new Map,c=[];for(const e of this.R.ha().za()){const g=
e.J();if(Hu(g,this.np)){const k=d.get(g);Array.isArray(k)?k.push(e):d.set(g,[e])}else c.push(e)}0<c.length&&this.hd.XC(a,b,this.Yg,{Nt:this.R,LB:c});if(0<d.size)for(const [e,g]of d)d=Hu(e,this.np).Ke(),c=[...(new Set([...a,...d.Jd()]))],d.XC(c,b,this.Yg,{Nt:e,LB:g})}};"use strict";const Tv=self.D,Uv=[];function ju(a){return{configurable:!1,enumerable:!0,get:a.T2,set:a.V2}}
Tv.qx=class extends Tv.Ca{constructor(a,b,d){super();const c=a.Ea();this.ud=a;this.Ua=c;this.j=a.K();this.Fc=b;this.me=c.me;this.Sa=d[1];this.Da=d[2];this.Gs=d[3];this.uf=!!d[4];this.Hb=!!d[5];this.t2=b instanceof Tv.er;this.mb=d[6];this.aA=this.j.fk(d[8]);this.V2=e=>this.wg(e);this.T2=()=>this.nd();this.JS=!this.Fc||this.uf||this.Hb;this.Yc=this.Gs;this.iM=-1;2===this.Da&&(this.Yc=this.Yc?1:0);this.Kf()||this.Um()||this.Hb||(c.rT.push(this.Gs),this.iM=c.O2++);c.rz.set(this.mb,this);this.Kf()?c.NJ.push(this):
c.v1.push(this)}static Ka(a,b,d){return Tv.C(Tv.qx,a,b,d)}qc(){if(!(this.Kf()||this.Um()||this.Hb||this.t2)){const a=Gu(this);a&&a.pL.push(this)}}ua(){return this.Sa}fk(){return this.aA}La(){return this.Fc}ir(){return this.La()}Kf(){return!this.La()}Um(){return this.uf}Uo(){return 0===this.Da}kj(){return 1===this.Da}GC(){return!1}Jd(){return Uv}Fa(){this.Kf()||this.Um()||this.Hb||this.wg(this.Gs)}mg(){return!0}*rb(a){this.Fa(a)}wg(a){this.Uo()?"number"!==typeof a&&(a=parseFloat(a)):this.kj()?"string"!==
typeof a&&(a=a.toString()):2===this.Da&&(a=a?1:0);this.JS?this.Yc=a:this.me.cu()[this.iM]=a}nd(){return this.JS?this.Yc:this.me.cu()[this.iM]}};"use strict";const Vv=self.D,Wv=[];function Jv(a){let b=a.La();for(;b;){if(b instanceof Vv.yl&&b.Wk&&!b.lu()){a.Pb=!1;return}b=b.La()}a.Pb=!0}
Vv.EP=class extends Vv.Ca{constructor(a,b,d){super();const c=a.Ea();this.ud=a;this.Ua=c;this.j=a.K();this.Fc=b;this.Lz=null;this.j2=d[1];this.Pb=!0}static Ka(a,b,d){return Vv.C(Vv.EP,a,b,d)}qc(){this.Lz=this.Ua.lG.get(this.j2.toLowerCase())||null;this.ud.jU.push(this);let a=this.La();for(;a;)a instanceof Vv.yl&&a.Wk&&a.QD.push(this),a=a.La();Jv(this);this.j.Ib&&this.ud.fl.children.push(this.Lz.fl)}La(){return this.Fc}Jd(){return Wv}Fa(){const a=!!this.La(),b=this.j.qd;a&&vu(b);this.Lz.Fa();a&&xu(b)}*rb(){const a=
!!this.La(),b=this.j.qd;a&&vu(b);yield*this.Lz.rb();a&&xu(b)}mg(){return!1}};"use strict";const Xv=self.D;Xv.bu=class extends Xv.Ca{constructor(a){super();this.Ab=a;this.j=a.K()}qc(){}};class Yv extends Xv.bu{constructor(a,b){super(a);this.oe=this.j.Kx();this.Wa=Pv(this.j,b[1]);if(this.Wa===Xv.F.ob.uc.random||this.Wa===Xv.F.ob.uc.iV)this.Ab.Df=!0}fr(){return Zv(this.oe,this.Wa,this.oe)}}
class $v extends Xv.bu{constructor(a,b){super(a);this.yv=null;this.Bs=b[1];this.Ab.Df=!0}qc(){const a=this.j.Ea();this.yv=a.zv.get(this.Bs.toLowerCase())||null;this.Bs=null;const b=this.yv.Ke();this.mK=[...(new Set([...this.Ab.Ke().Rd(),...b.Rd()]))];this.mK=gu(a,this.mK)}fr(){const a=this.yv;if(a.od())return Xv.yl.prototype.HI.bind(a.Ke(),this.mK,a.Yg,a.kl,Lu(a));const b=Lu(a);return()=>b}}function aw(a,b){if(a>=b)return a%b;0>a&&(a<=-b&&(a%=b),0>a&&(a+=b));return a}
function bw(a){const b=a.R,d=Ot(b.ha());var c=d.length;if(0===c)return a.CA?"":0;c=aw(a.Ab.Aw,c);Vt(a.Yd).lE=b;return a.Wa.apply(d[c].oa,[])}class cw extends Xv.bu{constructor(a,b){super(a);this.R=Cn(this.j,b[1]);this.Wa=Pv(this.j,b[2]);this.CA=!!b[3];this.Yd=this.j.Ea().Id();dw(this.Ab,this.R)}fr(){return Zv(this.R.nb(),this.Wa,this.R.jk().oa)}}function ew(a){const b=Ot(a.R.ha()),d=b.length;return 0===d?a.CA?"":0:b[aw(a.Ab.Aw,d)].Eg[a.j3]}
class fw extends Xv.bu{constructor(a,b){super(a);this.R=Cn(this.j,b[1]);this.j3=b[3];this.CA=!!b[2];dw(this.Ab,this.R)}}class gw extends Xv.bu{constructor(a,b){super(a);this.R=Cn(this.j,b[1]);this.rd=this.R.Nu.get(b[2].toLowerCase())||null;this.vj=Kq(this.R,b[2]);this.Wa=Pv(this.j,b[3]);this.CA=!!b[4];this.Yd=this.j.Ea().Id();dw(this.Ab,this.R)}}class hw extends Xv.bu{constructor(a,b){super(a);this.qz=null;this.GK=b[1]}qc(){this.qz=this.j.Ea().rz.get(this.GK)||null}}"use strict";const iw=self.D;
function dw(a,b){a.Df||!b||b.nb().Rn||(a.Df=!0)}iw.Mf=class extends iw.Ca{constructor(a,b,d){super();this.Ab=a;this.xa=d;this.Da=b;this.ba=null;this.Hb=this.Df=!1}static Ka(a,b,d){const c=b[0];return iw.C([jw,kw,lw,mw,ow,pw,qw,jw,mw,mw,rw,sw,lw,tw,kw,uw,vw,ww,xw,yw,zw,Aw][c],a,c,d,b)}qc(){}Ma(){return this.xa}K(){return this.Ab.K()}Ke(){return this.Ab.Ke()}};function Tu(a){a=self.RW[a];if(!a)throw Error("invalid expression number");return a}
function Bw(a){if(0>=a.jw.length)throw new RangeError("invalid numbered node");return a.jw[0]}class jw extends iw.Mf{constructor(a,b,d,c){super(a,b,d);this.Aw=0;a=c[1];this.HK=a[0];this.jw=[];this.sz=null;for(let e=1,g=a.length;e<g;++e)b=this.jw,d=b.push,c=a[e],c=Xv.C([gw,cw,fw,hw,Yv,$v][c[0]],this,c),d.call(b,c);this.jw.length?this.ba=this.OX:(this.ba=Tu(this.HK),this.Hb=!0)}qc(){for(var a of this.jw)a.qc();a=Tu(this.HK);this.sz=this.jw.length?a(this):a}OX(a){this.Aw=a;return this.sz()}}
class kw extends jw{constructor(a,b,d,c){super(a,b,d,c);this.ba=this.XX;14===b&&(a=this.Ke(),a.$e=a.j.qd,this.Ab instanceof iw.SB&&nv(this.Ke()))}XX(a){this.Aw=a;a=this.sz();return"string"===typeof a?a:""}}class pw extends jw{constructor(a,b,d,c){super(a,b,d,c);this.ba=this.fa;this.Hb=!1}fa(a){this.Aw=a;a=this.sz();return Bo(this.K()).fa(a)}}class mw extends iw.Mf{constructor(a,b,d,c){super(a,b,d);this.Q1=c[1];this.ba=this.LX;this.Hb=!0}LX(){return this.Q1}}
class vw extends iw.Mf{constructor(a,b,d,c){super(a,b,d);this.D1=c[1];this.ba=this.KX;this.Hb=!0}KX(){return this.D1}}class ow extends iw.Mf{constructor(a,b,d,c){super(a,b,d);this.R=Cn(this.K(),c[1]);this.ba=this.J;a=this.Ke();kv(this.R,a.$e);this.Ab instanceof iw.SB?nv(a):a.La()&&nv(a.La());this.Hb=!0}J(){return this.R}}class qw extends iw.Mf{constructor(a,b,d,c){super(a,b,d);this.Qh=Ip(this.K().ib,c[1]);this.ba=this.zc;this.Hb=!0}zc(){return this.Qh}}
class uw extends iw.Mf{constructor(a,b,d,c){super(a,b,d);this.ig=Pp(this.K().Rb,c[1]);this.ba=this.gb;this.Hb=!0}gb(){return this.ig}}class lw extends iw.Mf{constructor(a,b,d,c){super(a,b,d);this.b2=c[1];this.ba=this.QX;this.Hb=!0}QX(){return this.b2}}
class rw extends iw.Mf{constructor(a,b,d,c){super(a,b,d);this.SS=c[1];a=this.Ab.J();this.Ab instanceof iw.HH&&this.Ab.Um()?(this.ba=this.OP,this.Hb=!0):a&&a.Ya?(this.ba=this.PX,this.Df=!0):(this.ba=this.OP,this.Hb=!0)}OP(){return this.SS}PX(a){a=a||0;const b=this.Ab.J();var d=b.ha();const c=d.za();if(c.length)a=c[a%c.length].J();else if(d.zb.length)d=d.zb,a=d[a%d.length].J();else if(0<b.M.length)d=b.za(),a=d[a%d.length].J();else return 0;return this.SS+a.pv[b.Di]}}
class sw extends iw.Mf{constructor(a,b,d,c){super(a,b,d);this.GK=c[1];this.qz=null;this.ba=this.NX;this.Hb=!0}qc(){this.qz=this.K().Ea().rz.get(this.GK)||null}NX(){return this.qz}}class ww extends iw.Mf{constructor(a,b,d,c){super(a,b,d);this.zS=c[1];this.yv=null;this.ba=this.UX;this.Hb=!0}qc(){this.yv=this.K().Ea().zv.get(this.zS.toLowerCase())||null;this.zS=null}UX(){return this.yv}}
class tw extends iw.Mf{constructor(a,b,d,c){super(a,b,d);this.wN=[];this.MU=[];this.Hb=!0;for(let e=1,g=c.length;e<g;++e)a=iw.Mf.Ka(this.Ab,c[e],0),this.wN.push(a),this.MU.push(0),a.Hb||(this.Hb=!1);this.ba=this.ZX}qc(){for(const a of this.wN)a.qc()}ZX(){const a=this.wN,b=this.MU;for(let d=0,c=a.length;d<c;++d)b[d]=a[d].ba(0);return b}}class xw extends iw.Mf{constructor(a,b,d,c){super(a,b,d);this.W1=c[1];this.ba=this.Qo;this.Hb=!0}Qo(){return this.W1}}
class yw extends iw.Mf{constructor(a,b,d,c){super(a,b,d);this.J1=c[1];this.ba=this.YX;this.Hb=!0}YX(){return this.J1}}class zw extends jw{constructor(a,b,d,c){super(a,b,d,c);this.ba=this.hu;this.Hb=!1}hu(){return this.sz()}}class Aw extends iw.Mf{constructor(a,b,d,c){super(a,b,d);this.Cn=this.K().Tc.sv.ba(c[1]);this.ba=this.SX;this.Hb=!0}SX(){return this.Cn.ua()}}"use strict";const Cw=self.D;function Dw(a,b){for(let d=0,c=a.length;d<c;++d)b[d]=a[d].ba(0)}const Ew=[];function Fw(){}
function Gw(a){return a.Ec.BB}function Hw(a,b){const d=a.Ia;a=a.Db;for(let c=0,e=d.length;c<e;++c){const g=d[c];g.Df&&(a[c]=g.ba(b))}}
Cw.HH=class extends Cw.Ca{constructor(a,b,d){super();this.hd=a;this.j=a.K();this.xa=d;this.Wa=Pv(this.j,b[1]);this.NL=0<b[3];this.WS=2===b[3];this.Tz=!!b[4];this.Hi=!!b[5];this.uf=!!b[6];this.mb=b[7];this.YS=this.hd.We;this.rd=this.R=null;this.vj=-1;this.oe=null;this.rb=this.Fa=Fw;this.Ia=[];this.Db=[];this.mn=!1;this.Sj=this.jc=null;this.Ec=this.j.Ib?{BB:b[8][0],kg:b[8][1]}:null;-1===b[0]?this.oe=this.j.Kx():(this.R=Cn(this.j,b[0]),b[2]&&(this.rd=this.R.Nu.get(b[2].toLowerCase())||null,this.vj=Kq(this.R,
b[2])),this.hd.La()&&nv(this.hd.La()));if(10===b.length){a=b[9];for(let c of a)this.Ia.push(Cw.Mf.Ka(this,c,this.Ia.length)),this.Db.push(0)}0===this.Ia.length&&(this.Db=this.Ia=Ew);this.hd.Ea().lK.set(this.mb,this)}static Ka(a,b,d){return Cw.C(Cw.HH,a,b,d)}qc(){for(const a of this.Ia)a.qc(),a.Df&&(this.mn=!0);this.WS?(this.Fa=this.n1,this.rb=this.Z0):this.oe?(this.Cy(this.oe,this.oe,this.yJ),this.rb=this.hJ):this.R.nb().Rn?(this.AJ(),this.rb=this.gJ):this.uf?(this.Fa=this.o1,this.rb=this.h1):(this.Fa=
this.wR,this.rb=this.$0)}AJ(){const a=this.R.nb(),b=this.R.jk().oa;this.Cy(a,b,this.xJ)}Cy(a,b,d){const c=this.Wa,e=this.Hi,g=this.Ia;if(0===g.length){const k=Zv(a,c,b);this.Fa=e?function(){return Cw.xor(k(),e)}:k}else if(1===g.length){const k=g[0];if(!e&&k.Hb)this.Fa=Iw(a,c,b,k.ba(0));else{const l=Zv(a,c,b);this.Fa=function(){return Cw.xor(l(k.ba(0)),e)}}}else if(2===g.length){const k=g[0],l=g[1];if(!e&&k.Hb&&l.Hb)this.Fa=Jw(a,c,b,k.ba(0),l.ba(0));else{const n=Zv(a,c,b);this.Fa=function(){return Cw.xor(n(k.ba(0),
l.ba(0)),e)}}}else if(3===g.length){const k=g[0],l=g[1],n=g[2];if(!e&&k.Hb&&l.Hb&&n.Hb)this.Fa=Kw(a,c,b,k.ba(0),l.ba(0),n.ba(0));else{const p=Zv(a,c,b);this.Fa=function(){return Cw.xor(p(k.ba(0),l.ba(0),n.ba(0)),e)}}}else this.Fa=d}J(){return this.R}qh(){return this.rd}Ke(){return this.hd}K(){return this.j}Ma(){return this.xa}LP(){return this.Ma()}rr(){return this.NL}Um(){return this.uf}mg(){return!Gw(this)&&!qv(this.j)&&!this.Ec.kg}ki(){this.jc||(this.jc=new Map);return this.jc}iu(){this.Sj||(this.Sj=
new Map);return this.Sj}yJ(){const a=this.Db;Dw(this.Ia,a);return Cw.xor(this.Wa.apply(this.oe,a),this.Hi)}*hJ(){if(Gw(this)||qv(this.j))yield this;if(this.Ec.kg){var a=this.Db;Dw(this.Ia,a);a=this.Wa.apply(this.oe,a);Cw.Tm(a)&&(a=yield*a);return Cw.xor(a,this.Hi)}return this.Fa()}xJ(){const a=this.Db;Dw(this.Ia,a);const b=this.R.jk().oa;return Cw.xor(this.Wa.apply(b,a),this.Hi)}*gJ(){if(Gw(this)||qv(this.j))yield this;if(this.Ec.kg){var a=this.Db;Dw(this.Ia,a);const b=this.R.jk().oa;a=this.Wa.apply(b,
a);Cw.Tm(a)&&(a=yield*a);return Cw.xor(a,this.Hi)}return this.Fa()}n1(){return!0}*Z0(){if(Gw(this)||qv(this.j))yield this;return!0}o1(){var a=this.Db;Dw(this.Ia,a);a=this.Wa.apply(this.rd||this.R,a);Fv(this.R);return a}*h1(){if(Gw(this)||qv(this.j))yield this;if(this.Ec.kg){var a=this.Db;Dw(this.Ia,a);a=this.Wa.apply(this.rd||this.R,a);Cw.Tm(a)&&(a=yield*a);Fv(this.R);return a}return this.Fa()}wR(){var a=this.Ia,b=this.Db,d=this.R.ha();for(let ka=0,Ja=a.length;ka<Ja;++ka){var c=a[ka];c.Df||(b[ka]=
c.ba(0))}if(d.qb){a=this.R;b=a.Ya;c=a.Di;var e=this.vj,g=0<=e,k=a.za(),l=this.mn,n=this.Db,p=this.Wa,r=this.Hi,w=this.YS&&!this.NL;Mt(d);for(let ka=0,Ja=k.length;ka<Ja;++ka){var x=k[ka];l&&Hw(this,ka);var z=void 0;g?(z=b?Lw(x.J(),c):0,z=p.apply(x.zd[e+z].oa,n)):z=p.apply(x.oa,n);Cw.xor(z,r)?d.M.push(x):w&&d.zb.push(x)}a.vx(!0);d.qb=!1;Fv(a);d=Nt(d)}else{a=this.R;p=a.Ya;r=a.Di;w=a.Hc();x=this.vj;z=0<=x;var F=this.mn;const ka=this.Db,Ja=this.Wa,$b=this.Hi;b=this.YS&&!this.NL;c=d.M;const id=d.zb;var C;
if(C=b){a:{C=this.hd;var G=this.Ma();if(0!==G){--G;for(var J=this.J();0<=G;--G){var K=C.Lc[G],O;if(!(O=K.J()===J)&&(O=K.oe)){b:{for(na of K.Ia)if(4===na.Da){K=na.J();break b}K=null}O=K===J}if(O){var na=!1;break a}}}na=!0}C=!na}G=(na=C)?id:c;J=0;C=!1;for(let Gb=0,vc=G.length;Gb<vc;++Gb)if(K=G[Gb],F&&Hw(this,Gb),z?(O=p?Lw(K.J(),r):0,O=Ja.apply(K.zd[x+O].oa,ka)):O=Ja.apply(K.oa,ka),Cw.xor(O,$b))if(C=!0,na){if(c.push(K),w)for(g of K.vd)g.J().ha().M.push(g)}else{G[J]=K;if(w){O=J;for(k of K.vd)k.J().ha().M[O]=
k}++J}else if(na){G[J]=K;if(w){O=J;for(l of K.vd)l.J().ha().zb[O]=l}++J}else if(b&&(id.push(K),w))for(n of K.vd)n.J().ha().zb.push(n);Cw.Ff(G,J);if(w){k=a;g=na;l=J;for(e of k.Ih.gm)k=e.ha(),g?Mw.Ff(k.zb,l):Mw.Ff(k.M,l)}e=C;if(na&&!C)a:{k=this.R;g=k.Ya;k=k.Di;l=this.mn;n=this.vj;p=0<=n;r=this.Db;w=this.Wa;x=this.Hi;for(let Gb=0,vc=c.length;Gb<vc;++Gb)if(z=c[Gb],l&&Hw(this,Gb),p?(F=g?Lw(z.J(),k):0,z=w.apply(z.zd[n+F].oa,r)):z=w.apply(z.oa,r),Cw.xor(z,x)){C=!0;break a}C=!1}a.vx(e||b);d=b?C:Nt(d)}return d}*$0(){if(Gw(this)||
qv(this.j))yield this;return this.wR()}Aa(){if(!this.jc||!this.jc.size)return null;const a={};for(const [b,d]of this.jc.entries()){let c=d;"collmemory"===b&&(c=[...d.entries()].map(e=>[e[0].Sb,e[1].Sb,e[2]]));a[b]=c}return{ex:a}}Ba(a){this.jc&&(this.jc.clear(),this.jc=null);if(a){var b=this.j,d=a.ex;if(d){a=this.ki();a.clear();for(const [c,e]of Object.entries(d))d=e,"collmemory"===c&&(d=Cw.C(Cw.Xx,e.map(g=>[Lq(b,g[0]),Lq(b,g[1]),g[2]]).filter(g=>g[0]&&g[1]))),a.set(c,d)}}}};"use strict";
const Nw=self.D;function Ow(a,b){for(let d=0,c=a.length;d<c;++d)b[d]=a[d].ba(0)}const Pw=[];function Qw(){}function*Rw(){}
function Sw(a){var b=a.hd.Ea();const d=ku(b,a.gK,a.Tu);if(d.od()){const c=0!==(a.G&2);a.vp=d.Ke();let e=[...(new Set([...a.hd.Rd(),...a.vp.Rd(),a.R,d.J()]))];e=gu(b,e);b=!a.R.Ya&&!d.J().Ya;const g=!a.R.Ya&&d.J().Ya,k=a.R.Ya;let l=null;!d.Yg&&Tw(a)&&(l=l||{},l.XO=!0);if(g||!c)l=l||{},l.Vw=a.R,l.WG=d.J();b||g||k&&!d.fL?a.Fa=Nw.yl.prototype.XC.bind(a.vp,e,a.Ia,c,l):k&&(a.Fa=Nw.er.prototype.O_.bind(d,e,a.Ia));a.j.Ib?b||g||k&&!d.fL?a.rb=function*(){if(Gw(a)||qv(a.j))yield a;return yield*Ev(a.vp,e,a.Ia,
c,l)}:k&&(a.rb=function*(){if(Gw(a)||qv(a.j))yield a;return yield*Sv(d,e,a.Ia)}):a.rb=Rw}else a.Fa=Qw,a.rb=Rw}function Uw(a){const b=a.hd.Ea(),d=b.zv.get(a.Tu.toLowerCase())||null;if(d.od()){const c=0!==(a.G&2);a.vp=d.Ke();let e=[...(new Set([...a.hd.Rd(),...a.vp.Rd()]))];e=gu(b,e);const g=!d.Yg&&Tw(a)?{XO:!0}:null;a.Fa=Nw.yl.prototype.XC.bind(a.vp,e,a.Ia,c,g);a.rb=a.j.Ib?function*(){if(Gw(a)||qv(a.j))yield a;return yield*Ev(a.vp,e,a.Ia,c,g)}:Rw}else a.Fa=Qw,a.rb=Rw}
function Tw(a){a=a.hd;do{if(a instanceof Nw.er&&a.Yg)return!0;a=a.ir()}while(a);return!1}
Nw.SB=class extends Nw.Ca{constructor(a,b,d){super();this.hd=a;this.j=a=a.K();this.xa=d;this.mb=4<=b.length?b[3]:-1;this.Fy=5<=b.length?b[4]&255:0;this.G=5<=b.length?b[4]>>8:0;this.rd=this.R=this.Wa=null;this.vj=-1;this.oe=null;this.Tu="";this.vp=this.gK=null;this.rb=this.Fa=Qw;this.Ia=[];this.Db=[];this.mn=!1;this.Sj=this.jc=null;const c=(d=-3===b[0])?b[2]:b[5];this.Ec=a.Ib||d?{BB:c[0],kg:c[1],index:c[2]}:null;-1===b[0]?(this.oe=a.Kx(),this.Wa=Pv(a,b[1])):-2===b[0]?this.Tu=b[1]:d?(this.Wa=Pv(a,b[1]),
this.Fa=this.II,this.rb=this.fX,this.G|=8):(this.R=Cn(a,b[0]),this.G&4?(this.Tu=b[1],this.gK=Cn(a,b[2])):(b[2]&&(this.rd=this.R.Nu.get(b[2].toLowerCase())||null,this.vj=Kq(this.R,b[2])),this.Wa=Pv(a,b[1])));if(7===b.length){b=b[6];for(var e of b)this.Ia.push(Nw.Mf.Ka(this,e,this.Ia.length)),this.Db.push(0)}0===this.Ia.length&&(this.Db=this.Ia=Pw);0!==(this.G&1)&&(e=this.hd,e.$e=e.j.qd,nv(this.hd));this.hd.Ea().uD.set(this.mb,this)}static Ka(a,b,d){return Nw.C(Nw.SB,a,b,d)}qc(){for(var a of this.Ia)a.qc(),
a.Df&&(this.mn=!0);if(this.oe)this.Cy(this.oe,this.oe,this.yJ),this.rb=this.hJ;else if(this.Tu)this.G&4?Sw(this):Uw(this),this.Tu="",this.gK=null;else if(this.Fa===this.II){a=this.Wa;const b=iu(this.hd);this.Wa=a.bind(null,this.j.Tk,b)}else this.rd?this.mi()?(this.Fa=this.vR,this.rb=this.Y0):(this.Fa=this.uR,this.rb=this.X0):this.R.nb().Rn?(this.AJ(),this.rb=this.gJ):this.Um()?(this.Fa=this.CR,this.rb=this.f1):this.mi()?(this.Fa=this.yR,this.rb=this.b1):2===this.Fy?(this.Fa=this.zR,this.rb=this.c1):
this.Ia.length?this.Ia.every(b=>b.Df)?(this.Fa=this.xR,this.rb=this.a1):this.mn?(this.Fa=this.BR,this.rb=this.e1):this.Ia.every(b=>b.Hb)?(Ow(this.Ia,this.Db),this.Fa=this.wJ,this.rb=this.rR):(this.Fa=this.AR,this.rb=this.d1):(this.Fa=this.wJ,this.rb=this.rR)}AJ(){const a=this.R.nb(),b=this.R.jk().oa;this.Cy(a,b,this.xJ)}Cy(a,b,d){const c=this.Wa,e=this.Ia;if(0===e.length)this.Fa=Zv(a,c,b);else if(1===e.length){const g=e[0];if(g.Hb)this.Fa=Iw(a,c,b,g.ba(0));else{const k=Zv(a,c,b);this.Fa=function(){return k(g.ba(0))}}}else if(2===
e.length){const g=e[0],k=e[1];if(g.Hb&&k.Hb)this.Fa=Jw(a,c,b,g.ba(0),k.ba(0));else{const l=Zv(a,c,b);this.Fa=function(){return l(g.ba(0),k.ba(0))}}}else if(3===e.length){const g=e[0],k=e[1],l=e[2];if(g.Hb&&k.Hb&&l.Hb)this.Fa=Kw(a,c,b,g.ba(0),k.ba(0),l.ba(0));else{const n=Zv(a,c,b);this.Fa=function(){return n(g.ba(0),k.ba(0),l.ba(0))}}}else this.Fa=d}mi(){return 0!==(this.G&8)}Um(){return 3===this.Fy}J(){return this.R}Ke(){return this.hd}K(){return this.j}Ma(){return this.xa}LP(){return this.Ec.index}mg(){return!Gw(this)&&
!qv(this.j)&&!this.Ec.kg}ki(){this.jc||(this.jc=new Map);return this.jc}iu(){this.Sj||(this.Sj=new Map);return this.Sj}yJ(){const a=this.Db;Ow(this.Ia,a);return this.Wa.apply(this.oe,a)}*hJ(){if(Gw(this)||qv(this.j))yield this;if(this.Ec.kg){const a=this.Db;Ow(this.Ia,a);return yield*this.Wa.apply(this.oe,a)}return this.Fa()}xJ(){const a=this.Db;Ow(this.Ia,a);return this.Wa.apply(this.R.jk().oa,a)}*gJ(){if(Gw(this)||qv(this.j))yield this;if(this.Ec.kg){const a=this.Db;Ow(this.Ia,a);return yield*this.Wa.apply(this.R.jk().oa,
a)}return this.Fa()}wJ(){const a=this.Db,b=this.R.ha().za();for(let d=0,c=b.length;d<c;++d)this.Wa.apply(b[d].oa,a)}*rR(){if(Gw(this)||qv(this.j))yield this;if(this.Ec.kg){const a=this.Db,b=this.R.ha().za();for(let d=0,c=b.length;d<c;++d)yield*this.Wa.apply(b[d].oa,a)}else this.wJ()}AR(){const a=this.Db;Ow(this.Ia,a);const b=this.R.ha().za();for(let d=0,c=b.length;d<c;++d)this.Wa.apply(b[d].oa,a)}*d1(){if(Gw(this)||qv(this.j))yield this;if(this.Ec.kg){const a=this.Db;Ow(this.Ia,a);const b=this.R.ha().za();
for(let d=0,c=b.length;d<c;++d)yield*this.Wa.apply(b[d].oa,a)}else this.AR()}xR(){const a=this.Ia,b=this.Db,d=this.Wa,c=this.R.ha().za();for(let e=0,g=c.length;e<g;++e){const k=c[e];for(let l=0,n=a.length;l<n;++l)b[l]=a[l].ba(e);d.apply(k.oa,b)}}*a1(){if(Gw(this)||qv(this.j))yield this;if(this.Ec.kg){const a=this.Ia,b=this.Db,d=this.Wa,c=this.R.ha().za();for(let e=0,g=c.length;e<g;++e){const k=c[e];for(let l=0,n=a.length;l<n;++l)b[l]=a[l].ba(e);yield*d.apply(k.oa,b)}}else this.xR()}BR(){const a=this.Ia,
b=this.Db,d=this.Wa,c=this.R.ha().za();for(let g=0,k=a.length;g<k;++g){var e=a[g];e.Df||(b[g]=e.ba(0))}for(let g=0,k=c.length;g<k;++g){e=c[g];for(let l=0,n=a.length;l<n;++l){const p=a[l];p.Df&&(b[l]=p.ba(g))}d.apply(e.oa,b)}}*e1(){if(Gw(this)||qv(this.j))yield this;if(this.Ec.kg){const b=this.Ia,d=this.Db,c=this.Wa,e=this.R.ha().za();for(let g=0,k=b.length;g<k;++g){var a=b[g];a.Df||(d[g]=a.ba(0))}for(let g=0,k=e.length;g<k;++g){a=e[g];for(let l=0,n=b.length;l<n;++l){const p=b[l];p.Df&&(d[l]=p.ba(g))}yield*c.apply(a.oa,
d)}}else this.BR()}zR(){const a=this.Ia,b=this.Db,d=this.Wa;var c=this.R;const e=c.sc;c=c.ha().za();e.BH();for(let g=0,k=c.length;g<k;++g){const l=c[g];for(let n=0,p=a.length;n<p;++n)b[n]=a[n].ba(g);d.apply(l.oa,b)}e.yH()}*c1(){if(Gw(this)||qv(this.j))yield this;if(this.Ec.kg){const b=this.Ia,d=this.Db,c=this.Wa;var a=this.R;const e=a.sc;a=a.ha().za();e.BH();for(let g=0,k=a.length;g<k;++g){const l=a[g];for(let n=0,p=b.length;n<p;++n)d[n]=b[n].ba(g);yield*c.apply(l.oa,d)}e.yH()}else this.zR()}CR(){const a=
this.Db;Ow(this.Ia,a);return this.Wa.apply(this.rd||this.R,a)}*f1(){if(Gw(this)||qv(this.j))yield this;if(this.Ec.kg){var a=this.Db;Ow(this.Ia,a);a=this.Wa.apply(this.rd||this.R,a);Nw.Tm(a)&&(a=yield*a);return a}return this.CR()}uR(){var a=this.R;const b=a.Ya,d=a.Di,c=this.Ia,e=this.mn,g=this.Db,k=this.Wa,l=this.vj;a=a.ha().za();for(let r=0,w=c.length;r<w;++r){var n=c[r];n.Df||(g[r]=n.ba(0))}for(let r=0,w=a.length;r<w;++r){n=a[r];if(e)for(let x=0,z=c.length;x<z;++x){var p=c[x];p.Df&&(g[x]=p.ba(r))}p=
b?Lw(n.J(),d):0;k.apply(n.zd[l+p].oa,g)}}*X0(){if(Gw(this)||qv(this.j))yield this;if(this.Ec.kg){var a=this.R;const c=a.Ya,e=a.Di,g=this.Ia,k=this.mn,l=this.Db,n=this.Wa,p=this.vj;a=a.ha().za();for(let r=0,w=g.length;r<w;++r){var b=g[r];b.Df||(l[r]=b.ba(0))}for(let r=0,w=a.length;r<w;++r){b=a[r];if(k)for(let x=0,z=g.length;x<z;++x){var d=g[x];d.Df&&(l[x]=d.ba(r))}d=c?Lw(b.J(),e):0;yield*n.apply(b.zd[p+d].oa,l)}}else this.uR()}yR(){const a=this.Ia,b=this.Db,d=this.Wa,c=this.R.ha().za(),e=[];for(let g=
0,k=c.length;g<k;++g){const l=c[g];for(let n=0,p=a.length;n<p;++n)b[n]=a[n].ba(g);e.push(d.apply(l.oa,b))}return Promise.all(e)}*b1(){if(Gw(this)||qv(this.j))yield this;if(this.Ec.kg){const a=this.Ia,b=this.Db,d=this.Wa,c=this.R.ha().za(),e=[];for(let g=0,k=c.length;g<k;++g){const l=c[g];for(let n=0,p=a.length;n<p;++n)b[n]=a[n].ba(g);e.push(yield*d.apply(l.oa,b))}return Promise.all(e)}return this.yR()}vR(){var a=this.R;const b=a.Ya,d=a.Di,c=this.Ia,e=this.Db,g=this.Wa,k=this.vj;a=a.ha().za();const l=
[];for(let n=0,p=a.length;n<p;++n){const r=a[n];for(let x=0,z=c.length;x<z;++x)e[x]=c[x].ba(n);const w=b?Lw(r.J(),d):0;l.push(g.apply(r.zd[k+w].oa,e))}return Promise.all(l)}*Y0(){if(Gw(this)||qv(this.j))yield this;if(this.Ec.kg){var a=this.R;const b=a.Ya,d=a.Di,c=this.Ia,e=this.Db,g=this.Wa,k=this.vj;a=a.ha().za();const l=[];for(let n=0,p=a.length;n<p;++n){const r=a[n];for(let x=0,z=c.length;x<z;++x)e[x]=c[x].ba(n);const w=b?Lw(r.J(),d):0;l.push(yield*g.apply(r.zd[k+w].oa,e))}return Promise.all(l)}return this.vR()}async II(){try{await this.Wa()}catch(a){console.error(`Unhandled exception running script %c${this.hd.ud.ua()}, event ${this.hd.hv}, action ${this.LP()+
1}:`,"font-size: 1.2em; font-weight: bold;",a),self.fi&&self.fi.q1(this),Nv||(console.info("%cTip:%c run this to highlight in Construct the last script that had an error: %cgoToLastErrorScript()","font-weight: bold; text-decoration: underline","","font-weight: bold"),Nv=!0)}}*fX(){if(Gw(this)||qv(this.j))yield this;return this.II()}Aa(){return this.jc&&this.jc.size?{ex:Nw.XI(this.jc)}:null}Ba(a){this.jc&&(this.jc.clear(),this.jc=null);a&&(a=a.ex)&&(this.jc=Nw.MH(a))}};"use strict";
const Vw=self.D,Ww=new Vw.ub;function Xw(a,b){return Vw.compare(this.B().X(),a,b)}function Yw(a,b){return Vw.compare(this.B().Y(),a,b)}function Zw(){return $w(this.B())}function ax(){var a=this.B();const b=a.zc();a=Nl(a);return 0>a.wa||0>a.ra||a.la>b.P()||a.ea>b.N()}
function bx(a,b,d){const c=this.ha(),e=c.za();if(!e.length)return!1;let g=e[0];var k=g.B();let l=g,n=Vw.$G(k.X(),k.Y(),b,d);for(let p=1,r=e.length;p<r;++p)if(g=e[p],k=g.B(),k=Vw.$G(k.X(),k.Y(),b,d),0===a&&k<n||1===a&&k>n)n=k,l=g;Ut(c,l);return!0}function cx(a){const b=this.B();b.X()!==a&&(b.Pg(a),U(b))}function dx(a){const b=this.B();b.Y()!==a&&(b.Bh(a),U(b))}function ex(a,b){const d=this.B();if(d.X()!==a||d.Y()!==b)Ml(d,a,b),U(d)}
function fx(a,b){if(a&&(a=gx(a,this.L))){var [d,c]=a.Cl(b);b=this.B();if(b.X()!==d||b.Y()!==c)Ml(b,d,c),U(b)}}function hx(a){if(0!==a){var b=this.B();Fo(b,ix(b)*a,jx(b)*a);U(b)}}function kx(a,b){if(0!==b){var d=this.B();a=Vw.Ta(a);Fo(d,Math.cos(a)*b,Math.sin(a)*b);U(d)}}function lx(){return this.B().X()}function mx(){return this.B().Y()}function nx(){return Uk(this.j,this.L)}function ox(a,b){return Vw.compare(this.B().P(),a,b)}function px(a,b){return Vw.compare(this.B().N(),a,b)}
function qx(a){const b=this.B();b.P()!==a&&(b.Of(a),U(b))}function rx(a){const b=this.B();b.N()!==a&&(b.ug(a),U(b))}function sx(a,b){const d=this.B();if(d.P()!==a||d.N()!==b)d.Vd(a,b),U(d)}function tx(){return this.B().P()}function ux(){return this.B().N()}function vx(){return Nl(this.B()).la}function wx(){return Nl(this.B()).ea}function xx(){return Nl(this.B()).wa}function yx(){return Nl(this.B()).ra}function zx(){const a=Nl(this.B());return(a.la+a.wa)/2}
function Ax(){const a=Nl(this.B());return(a.ea+a.ra)/2}function Bx(a,b){return Vw.Rq(this.B().Na(),Vw.Ta(b))<=Vw.Ta(a)}function Cx(a){return Vw.Ig(this.B().Na(),Vw.Ta(a))}function Dx(a,b){a=Vw.Ta(a);b=Vw.Ta(b);const d=this.B().Na();return Vw.Ig(b,a)?Vw.Ig(d,a)&&!Vw.Ig(d,b):!(!Vw.Ig(d,a)&&Vw.Ig(d,b))}function Ex(a){const b=this.B();a=Vw.Ed(Vw.Ta(a));isNaN(a)||b.Na()===a||(b.ad(a),U(b))}function Fx(a){if(!isNaN(a)&&0!==a){var b=this.B();b.ad(b.Na()+Vw.Ta(a));U(b)}}
function Gx(a){if(!isNaN(a)&&0!==a){var b=this.B();b.ad(b.Na()-Vw.Ta(a));U(b)}}function Hx(a,b){const d=this.B(),c=d.Na();a=Vw.TG(c,Vw.Ta(b),Vw.Ta(a));isNaN(a)||c===a||(d.ad(a),U(d))}function Ix(a,b,d){const c=this.B(),e=c.Na();b-=c.X();d-=c.Y();a=Vw.TG(e,Math.atan2(d,b),Vw.Ta(a));isNaN(a)||e===a||(c.ad(a),U(c))}function Jx(a,b){const d=this.B(),c=d.Na();a-=d.X();b-=d.Y();b=Math.atan2(b,a);isNaN(b)||c===b||(d.ad(b),U(d))}function Kx(){return Vw.Gd(this.B().Na())}
function Lx(a,b){return Vw.compare(Vw.jx(100*this.B().nc()),a,b)}function Mx(){return this.B().Md()}function Nx(a){const b=this.B();a=2===a?!b.Md():0!==a;b.Md()!==a&&(b.Ah(a),this.j.qa())}function Ox(a){a=Vw.$(a/100,0,1);const b=this.B();if(ps(b)){if(b.Oa.im===a)return}else if(b.nc()===a)return;b.Ne(a);this.j.qa()}function Px(a){mc(Ww,a);a=this.B();ic(a.Kc,Ww)||(Zr(a,Ww),this.j.qa())}function Qx(){const a=this.B().Kc;return Vw.QC(a.kb,a.Ra,a.hb,a.ab)}
function Tx(){return Vw.jx(100*this.B().nc())}function Ux(a){return a?this.B().fa()===a:!1}function Vx(a){const b=this.ha(),d=b.za();if(!d.length)return!1;let c=d[0];for(let e=1,g=d.length;e<g;++e){const k=d[e],l=k.B(),n=c.B(),p=l.fa().Ma(),r=n.fa().Ma();if(0===a){if(p>r||p===r&&Ol(l)>Ol(n))c=k}else if(p<r||p===r&&Ol(l)<Ol(n))c=k}Ut(b,c);return!0}function Wx(a,b,d){const c=this.B();a=0===a?c.eb():so(c);return Vw.compare(a,b,d)}
function Xx(){var a=this.B();const b=a.L,d=a.Bj,c=d.M;c.length&&c.at(-1)===b||(d.Or(b,!1),d.ri(b,!1),a.j.qa())}function Yx(){var a=this.B();const b=a.L,d=a.Bj;var c=d.M;if(!c.length||c[0]!==b){d.Or(b,!1);c=b.B();if(c.fa()!==d)throw Error("instance added to wrong layer");d.M.unshift(b);0!==c.eb()&&(d.ln=!0);En(d,b);a.j.qa()}}function Zx(a){if(a){var b=this.B();const d=b.L,c=b.Bj;if(c.zc()!==a.zc())throw Error("layer from different layout");a!==c&&(c.Or(d,!0),ip(b,a),a.ri(d,!0),b.j.qa())}}
function $x(a,b){var d=0===a;if(b){var c=ay(b,this.ja());if(c){b=this.B();var e=b.L;a=!1;var g=b.Bj;if(c.Sb!==e.Sb){var k=c.B();if(!k)throw Error("expected world instance");k=k.fa();g.Ma()!==k.Ma()&&(g.Or(e,!0),ip(b,k),k.ri(e,!0),a=!0);d=!!d;g=e.B();c=c.B();if(g.fa()!==k||c.fa()!==k)throw Error("can't arrange Z order unless both objects on this layer");g=Ol(g);c=Ol(c);g===c+(d?1:-1)?k=!1:(V.u3(k.M,g),g<c&&c--,d&&c++,c===k.M.length?k.M.push(e):k.M.splice(c,0,e),En(k,e),k=!0);(a||k)&&b.j.qa()}}}}
function by(a){const b=this.B();b.eb()!==a&&(b.xg(a),this.j.qa())}function cy(){return this.B().fa().Ma()}function dy(){return this.B().fa().ua()}function ey(){return Ol(this.B())}function fy(){return this.B().eb()}function gy(){return so(this.B())}function hy(a){if(a=Qq(this.J().Va,a))return a=a.Ma(),this.B().Wf.So(a)}function iy(a,b){if(b=Qq(this.J().Va,b)){b=b.Ma();a=1===a;var d=this.B().Wf;d.So(b)!==a&&(d.KI(b,a),d.Dh(),this.j.qa())}}
function jy(a,b,d){if(a=Qq(this.J().Va,a)){b=Math.floor(b);var c=a.Le().Fx(b);c&&("color"===c?(mc(Ww,d),d=Ww):"percent"===c&&(d/=100),a=a.Ma(),c=this.B().Wf,c.ey(a,b,d)&&c.So(a)&&this.j.qa())}}const ky=Vw.C(Vw.Rect),ly=[],my=[];let ny=!1,oy=null,py=!1;const Tt=new Set;function qy(a,b,d,c){b.Sb<d.Sb?a.Set(b,d,c):a.Set(d,b,c)}function ry(a,b,d){b.Sb<d.Sb?a.br(b,d):a.br(d,b)}function sy(a,b,d){return b.Sb<d.Sb?a.ba(b,d):a.ba(d,b)}
function ty(a,b,d,c){if(!b)return!1;a=a.ja();const e=0!==d||0!==c,g=a.B(),k=a.K();var l=k.Hf();const n=l.Ke().We;var p=l.J();l=l.Hi;const r=b.ha();p=p!==b;oy=b;ny=p&&!l;py=!1;let w=0,x=0,z=!1;r.qb?(ky.Ja(Nl(g)),ky.offset(d,c),uy(g.fa(),b,ky,my),b=my):n?0===k.og().qf&&!r.zb.length&&r.M.length?b=r.M:(b=r.zb,py=!0):b=r.M;e&&(w=g.X(),x=g.Y(),Fo(g,d,c),U(g));for(const F of b)if(vy(a,F)){z=!0;if(l)break;p&&Tt.add(F)}e&&(Ml(g,w,x),U(g));Vw.I(my);return z}
function wy(a,b){if(ny){if(b){b=a.K().$b().We;a=oy.ha();const d=a.M,c=a.zb;if(a.qb)Rt(a,Tt),b&&(Vw.I(c),St(a,oy.za()));else if(b)if(py){b=Tt;for(const e of b)a.M.push(e);Lt.$h(a.zb,b)}else St(a,d),Rt(a,Tt);else Rt(a,Tt);Fv(oy)}Tt.clear();oy=null;ny=!1}}
function xy(a){if(this.j.Xf)return yy.call(this,a);if(!a)return!1;var b=this.j;const d=b.fc;var c=b.Ea();const e=c.Id();var g=c.Hf();c=g.J();var k=g.ki(),l=g.iu();g=Vt(e);const n=b.Ui,p=n-1,r=g.$b(),w=e.bb(r);let x=k.get("collmemory");x||(x=Vw.C(Vw.Xx),k.set("collmemory",x));l.get("collisionCreatedDestroyCallback")||(l.set("collisionCreatedDestroyCallback",!0),b.sb().addEventListener("instancedestroy",G=>{Tc(x,G.instance)}));b=a.ha();k=c.ha().za();l=null;for(let G=0;G<k.length;++G){const J=k[G];b.qb?
(uy(J.B().fa(),a,Nl(J.B()),ly),l=ly,zy(d,J,a,l)):l=b.za();for(let K=0;K<l.length;++K){const O=l[K];if(vy(J,O)||Ay(d,J,O)){var z=sy(x,J,O),F=!1,C=-2;"number"===typeof z&&(F=!0,C=z);z=!F||C<p;qy(x,J,O,n);z&&(z=r.Jd(),wu(z),C=c.ha(),F=a.ha(),C.qb=!1,F.qb=!1,c===a?(F=C.M,Vw.I(F),F.push(J),F.push(O),Fv(c)):(C=C.M,F=F.M,Vw.I(C),Vw.I(F),C.push(J),F.push(O),Fv(c),Fv(a)),xv(r,g,w),xu(z))}else ry(x,J,O)}Vw.I(ly)}e.Za();return!1}
function*yy(a){if(!a)return!1;var b=this.j;const d=b.fc;var c=b.Ea();const e=c.Id();var g=c.Hf();c=g.J();var k=g.ki(),l=g.iu();g=Vt(e);const n=b.Ui,p=n-1,r=g.$b(),w=e.bb(r);let x=k.get("collmemory");x||(x=Vw.C(Vw.Xx),k.set("collmemory",x));l.get("collisionCreatedDestroyCallback")||(l.set("collisionCreatedDestroyCallback",!0),b.sb().addEventListener("instancedestroy",G=>{Tc(x,G.instance)}));b=a.ha();k=c.ha().za();l=null;for(let G=0;G<k.length;++G){const J=k[G];b.qb?(uy(J.B().fa(),a,Nl(J.B()),ly),l=
ly,zy(d,J,a,l)):l=b.za();for(let K=0;K<l.length;++K){const O=l[K];if(vy(J,O)||Ay(d,J,O)){var z=sy(x,J,O),F=!1,C=-2;"number"===typeof z&&(F=!0,C=z);z=!F||C<p;qy(x,J,O,n);z&&(z=r.Jd(),wu(z),C=c.ha(),F=a.ha(),C.qb=!1,F.qb=!1,c===a?(F=C.M,Vw.I(F),F.push(J),F.push(O),Fv(c)):(C=C.M,F=F.M,Vw.I(C),Vw.I(F),C.push(J),F.push(O),Fv(c),Fv(a)),yield*yv(r,g,w),xu(z))}else ry(x,J,O)}Vw.I(ly)}e.Za();return!1}function By(a){return ty(this,a,0,0)}function Cy(a,b,d){return ty(this,a,b,d)}
function Dy(){return this.B().rg()}function Ey(){return this.B().jf()}
function Fy(a,b){const d=this.ha().za();if(0===d.length)return!1;const c=a.ha();var e=c.za();if(c.qb){var g=[...Gy(this.j,a)];0<g.length&&(e=e.concat(g))}if(0===e.length)return!1;e=new Set(e);g=new Set;for(let l=0,n=d.length;l<n;++l){var k=d[l];if(1===b)for(const p of k.ix())Hy(p,a)&&e.has(p)&&g.add(p);else{if(0===b){if(k=k.La(),null===k)continue}else k=k.Ro();Hy(k,a)&&e.has(k)&&g.add(k)}}if(0===g.size)return!1;Rt(c,g);Fv(a);return!0}
function Iy(a,b){const d=this.ha().za();if(0===d.length)return!1;const c=a.ha();var e=c.za();if(c.qb){var g=[...Gy(this.j,a)];0<g.length&&(e=e.concat(g))}if(0===e.length)return!1;e=new Set(e);g=new Set;for(let k=0,l=d.length;k<l;++k){const n=d[k];2===b&&!n.jf()&&Hy(n,a)&&e.has(n)&&g.add(n);for(const p of 0===b?n.children():n.Vj())2===b&&p.jf()||Hy(p,a)&&e.has(p)&&g.add(p)}if(0===g.size)return!1;Rt(c,g);Fv(a);return!0}
function Jy(a,b){const d=this.ha().za();if(0===d.length)return!1;const c=a.ha();var e=c.za();if(c.qb){var g=[...Gy(this.j,a)];0<g.length&&(e=e.concat(g))}if(0===e.length)return!1;e=new Set(e);g=[];for(let k=0,l=d.length;k<l;++k){const n=d[k].nC(b);null!==n&&Hy(n,a)&&e.has(n)&&g.push(n)}if(0===g.length)return!1;Qt(c,g);Fv(a);return!0}function Ky(a,b,d){switch(a){default:return Vw.compare(this.L.oC(),b,d);case 1:return Vw.compare(this.L.lC(),b,d)}}
function Ly(a,b,d,c,e,g,k,l,n,p){const r=this.L,w=this.j.yx().J();for(const x of My(a,r,w)){if(!x.nb().tU)break;r.Zj(x,{St:b,Tt:d,Wq:c,Vq:e,Pt:g,Qt:k,Ut:l,Rt:n,Ww:p})}}function Ny(a){const b=this.L,d=this.j.yx().J();for(const c of My(a,b,d))b.Il(c)}function Oy(){this.L.rg()&&this.L.La().Il(this.L)}function Py(){return this.L.oC()}function Qy(){return this.L.lC()}function Ry(a,b){a=Math.floor(a);b=Math.floor(b);const d=this.B();2>a||2>b||!isFinite(a)||!isFinite(b)?(Sy(d),U(d)):Ty(d,a,b)}
function Uy(a,b,d,c,e,g,k,l){const n=this.B();n.XQ(a,b,{mode:0===d?"absolute":"relative",x:c,y:e,vl:g,jW:k,oW:l})&&U(n)}function Vy(){const a=this.B();return Wy(a)?Xy(a).Yl:0}function Yy(){const a=this.B();return Wy(a)?Xy(a).wm:0}function Zy(a){const b=this.B();a=2===a?!b.Md():0!==a;b.Md()!==a&&b.Ah(a)}function $y(a,b){az(this,"set-css-style",{prop:bz.uP(a),val:b})}function cz(a,b){az(this,"set-attribute",{name:a,val:""+b})}function dz(a){az(this,"remove-attribute",{name:a})}
function ez(){Rl(this,{focus:!0})}function fz(){Rl(this,{focus:!1})}function gz(){return this.EK}function hz(a){this.Pe(0!==a)}function iz(){return this.fb}function jz(a,b,d){return Vw.compare(cs(this.ja(),a),b,d)}function kz(a){return!!cs(this.ja(),a)}function lz(){return this.ja().hu()}
function mz(a,b){const d=this.ha(),c=d.za();if(!c.length)return!1;const e=this.Ya;let g=null,k=0;for(let n=0,p=c.length;n<p;++n){const r=c[n];var l=e?r.J().pv[this.Di]:0;l=cs(r,l+b);if(null===g||0===a&&l<k||1===a&&l>k)k=l,g=r}Ut(d,g);return!0}
function nz(a){if(this.j.Hf().Hi){{const c=this.ha();if(c.qb){c.qb=!1;Mt(c);var b=this.za();for(let e=0,g=b.length;e<g;++e){var d=b[e];d.Sb===a?c.zb.push(d):c.M.push(d)}Fv(this);a=!!c.M.length}else{b=c.M;d=0;for(let e=0,g=b.length;e<g;++e){const k=b[e];b[d]=k;k.Sb===a?c.zb.push(k):++d}Vw.Ff(b,d);Fv(this);a=!!b.length}}}else a=oz(this,a);return a}
function oz(a,b){b=Lq(a.K(),b);if(!b)return!1;const d=a.ha();if(!d.qb&&!d.M.includes(b))return!1;if(a.Ya){if(pz(b.J(),a))return Ut(d,b),Fv(a),!0}else if(b.J()===a)return Ut(d,b),Fv(a),!0;return!1}function qz(){Fl(this.j,this.L)}function rz(){return!0}function sz(){return!0}function tz(a,b){this.ja().fp(a,b)}function uz(a,b){const d=this.ja(),c=cs(d,a);"number"===typeof c&&"number"!==typeof b?b=parseFloat(b):"string"===typeof c&&"string"!==typeof b&&(b=b.toString());d.fp(a,c+b)}
function vz(a,b){const d=this.ja(),c=cs(d,a);"number"===typeof c&&("number"!==typeof b&&(b=parseFloat(b)),d.fp(a,c-b))}function wz(a,b){this.ja().fp(a,b?1:0)}function xz(a){const b=this.ja();b.fp(a,0===cs(b,a)?1:0)}function yz(a){let b;try{b=JSON.parse(a)}catch(d){console.error("Failed to load from JSON string: ",d);return}a=this.ja();zz(a.K());a.Du("state");a.pc(b,"state");Az(a.K(),"state",{wha:!0})}function Bz(){return JSON.stringify(this.ja().Ic("state"))}
function Cz(){return this.ja().J().ua()}function Dz(){const a=this.j.og().lE;let b=a.M.length;for(const d of Gy(this.j,a))++b;return b}function Ez(){return this.j.og().lE.ha().za().length}function Fz(){return pp(this.L)}function Gz(){return this.L.Sb}
Vw.yW=function(a,b){const d=a[1],c=a[4],e=a[5],g=a[6],k=a[7],l=a[8],n=a[10],p=a[11],r=a[12],w=a[13],x=a[14],z=a[15],F=a[16],C=b.H,G=b.Pa,J=b.uc;a[3]&&(C.bX=Xw,C.cX=Yw,C.x9=Zw,C.z9=ax,C.uaa=bx,G.Pg=cx,G.Bh=dx,G.YQ=ex,G.Y_=fx,G.r$=hx,G.q$=kx,J.hD=lx,J.iD=mx,J.pV=nx);c&&(C.i7=ox,C.c7=px,G.Of=qx,G.ug=rx,G.Vd=sx,J.Rfa=tx,J.v8=ux,J.u6=vx,J.y6=wx,J.x6=xx,J.t6=yx,J.v6=zx,J.w6=Ax);e&&(C.EW=Bx,C.IY=Cx,C.HY=Dx,G.ad=Ex,G.nca=Fx,G.oca=Gx,G.qca=Hx,G.rca=Ix,G.qea=Jx,J.j6=Kx);g&&(C.Md=Mx,C.d7=Lx,G.Ah=Nx,G.Ne=Ox,
G.Sca=Px,J.Opacity=Tx,J.U6=Qx);k&&(C.v9=Ux,C.Caa=Vx,C.j7=Wx,G.v$=Xx,G.s$=Yx,G.t$=Zx,G.dga=$x,G.xg=by,J.X9=cy,J.V9=dy,J.cga=ey,J.bga=fy,J.hfa=gy);l&&(C.g9=hy,G.Yca=iy,G.Zca=jy);w&&(C.rg=Dy,C.jf=Ey,C.Aaa=Fy,C.taa=Iy,C.yaa=Jy,C.Z6=Ky,G.Zj=Ly,G.Il=Ny,G.rba=Oy,J.P6=Py,J.d6=Qy);x&&(G.Zda=Ry,G.XQ=Uy,J.l$=Vy,J.m$=Yy);n&&(C.Md=Mx,G.Ah=Zy,G.Mca=$y,G.$ca=cz,G.qba=dz);p&&(C.k9=gz,G.fda=ez,G.Jca=fz);r&&(C.od=iz,G.zh=hz);z&&(C.uZ=xy,C.B9=By,C.C9=Cy,b.xX=wy);d||(C.ZW=jz,C.X8=kz,C.vaa=mz,C.saa=nz,G.W_=tz,G.P5=uz,
G.Sea=vz,G.Kca=wz,G.ffa=xz,C.vZ=rz,C.wZ=sz,G.hX=qz,G.pI||(G.pI=yz),J.HW||(J.HW=Bz),J.p7=Dz,J.Daa=Ez,J.y8=Fz,J.mfa=Gz,J.F$=Cz);F&&(J.Yea=lz)};"use strict";const Ku=self.D;function Du(a){return"timer"===a.Da?a.Gc<=Vk(a.Ua.K()):a.Iv}async function Eu(a,b){Hz(a,b);for(const d of wv(a.Ok,b))await ou(a.Ua.K(),d);a.qn&&a.qn.mi()&&Hv(a.qn,a.Ly);uu(a.$e);a.LA=!0}
function Iz(a,b){a.Da="promise";a.Bk();b.then(()=>{a.Iv=!0}).catch(d=>{console.warn("[C3 runtime] Promise rejected in 'Wait for previous actions to complete': ",d);a.Iv=!0})}function Hz(a,b){b.vJ(a.Ok,a.pf);for(const [d,c]of a.mt.entries())c.vJ(d.ha());a.Sf&&Zt(b,[...a.Sf]);if(b=a.qn)Cv(b,a.Wg),b.pL.map((d,c)=>d.wg(a.WK[c])),b.mi()&&Rv(b,a.Ly)}
Ku.QQ=class extends Ku.Ca{constructor(a){super();this.Ua=a;this.Da="";this.Gc=-1;this.MA="";this.Iv=!1;this.Ok=null;this.pf=0;this.$e=[];this.Sf=null;this.mt=new Map;this.qn=null;this.Ly=-1;this.WK=this.Wg=null;this.LA=!1}A(){this.Da="";this.Gc=-1;this.MA="";this.WK=this.Wg=this.qn=this.Ok=null;this.Ly=-1;Ku.I(this.$e);this.Sf&&(this.Sf.clear(),this.Sf=null);for(const a of this.mt.values())a.A();this.mt.clear()}Bk(){var a=this.Ua,b=a.K().qd,d=a.og();this.Ok=d.$b();this.pf=d.pf+1;if(d=Gu(this.Ok))this.qn=
d,this.Wg=Qv(d),this.WK=d.pL.map(c=>c.nd()),d.mi()&&(d.My.get(d.bz).TO++,this.Ly=d.bz);for(const c of b)if(b=c.ha(),!b.qb||this.Ok.$e.includes(c))this.$e.push(c),this.mt.set(c,Ku.C(Ku.eR,b));a=yu(a);this.Sf=0<a.size?a:null}Br(a){for(const b of this.mt.values())b.Br(a)}Aa(){const a={},b={t:this.Gc,st:this.MA,s:this.Iv,ev:this.Ok.mb,sm:this.$e.map(d=>d.mb),dsm:this.Sf?[...this.Sf].map(d=>d.mb):null,sols:a};pv(this.Ok,this.pf)&&(b.act=Ju(this.Ok,this.pf).mb);for(const [d,c]of this.mt)a[d.mb.toString()]=
c.Aa();return b}};"use strict";const Jz=self.D;Jz.eR=class extends Jz.Ca{constructor(a){super();this.R=null;this.mF=!0;this.M=[];a&&(this.R=a.J(),this.mF=a.qb,Jz.Fd(this.M,a.M))}A(){this.R=null;Jz.I(this.M)}vJ(a){a.qb=!!this.mF;Jz.Fd(a.M,this.M)}Br(a){Jz.$h(this.M,a)}Aa(){return{sa:this.mF,insts:this.M.map(a=>a.Sb)}}Ba(a,b){a=a.K();this.mF=!!b.sa;Jz.I(this.M);for(const d of b.insts)(b=Lq(a,d))&&this.M.push(b)}};"use strict";const Kz=self.D;
function Lz(a,b){let d=a.get(b);d||(d=new Map,a.set(b,d));return d}function Zv(a,b,d){if(!d)throw Error("missing 'this' binding");let c=a.QR.get(b);if(c)return c;c=b.bind(d);a.QR.set(b,c);return c}function Iw(a,b,d,c){if(!d)throw Error("missing 'this' binding");a=Lz(a.E1,b);let e=a.get(c);if(e)return e;e=b.bind(d,c);a.set(c,e);return e}function Jw(a,b,d,c,e){if(!d)throw Error("missing 'this' binding");a=Lz(a.F1,b);a=Lz(a,c);let g=a.get(e);if(g)return g;g=b.bind(d,c,e);a.set(e,g);return g}
function Kw(a,b,d,c,e,g){if(!d)throw Error("missing 'this' binding");a=Lz(a.G1,b);a=Lz(a,c);a=Lz(a,e);let k=a.get(g);if(k)return k;k=b.bind(d,c,e,g);a.set(g,k);return k}function Mz(a,b){if(!a.Rn)throw Error("must be single-global plugin");a.jN=b}
Kz.Kl=class extends Kz.Ca{constructor(a){super();this.j=a.Kg;this.Rn=!!a.HV;this.$d=!!a.u4;this.B2=!!a.t4;this.J2=!!a.E4;this.e2=!!a.h4;this.tU=!!a.d5;this.Z2=!!a.c5;this.XS=!!a.q4;this.n2=!!a.j4;this.jN=null;this.QR=new Map;this.E1=new Map;this.F1=new Map;this.G1=new Map}A(){this.j=null}K(){return this.j}ac(){}Wo(){return this.B2}ur(){return this.J2}cI(){return this.e2}jk(){if(!this.Rn)throw Error("must be single-global plugin");return this.jN.jk()}};"use strict";const Nz=self.D;
function Oz(a,b,d){Pz(a.j,a.Dp,b,c=>{const e=a.qL.get(c.elementId);d(e,c)})}Nz.uca=class extends Nz.Kl{constructor(a,b){super(a);this.Dp=b;this.M2=0;this.qL=new Map;Oz(this,"elem-focused",d=>{d.EK=!0});Oz(this,"elem-blurred",d=>{d&&(d.EK=!1)})}A(){super.A()}};"use strict";const Qz=self.D;
Qz.cp=class extends Qz.Ca{constructor(a){super();this.R=a;this.j=a.K();this.Hj=a.nb()}A(){this.Hj=this.j=this.R=null}J(){return this.R}K(){return this.j}nb(){return this.Hj}xd(){return this.R.xd()}ac(){}vx(){}BH(){}yH(){}pu(){}Ar(){}NC(){}wI(){}Jf(){return null}bk(a,b,d){a=Qz.C(Qz.Event,a,b);a.LO=this;d&&Object.assign(a,d);this.J().ph(a)}};"use strict";const Rz=self.D;function Sz(a,b){for(const [d,c]of b)a.uH(d,c)}function Tz(a,b,d){ed(a.j,a.Dp,b,d)}function Uz(a,b,d){return Wk(a.j,a.Dp,b,d)}
function Vz(a,b,d){a.j.Ld()?Tz(a,b,d):window.c3_runtimeInterface._OnMessageFromRuntime({type:"event",component:a.Dp,handler:b,data:d,responseId:null})}
Rz.bp=class extends Rz.Ca{constructor(a,b){super();this.L=a;this.Dp=b;this.j=a.K();this.R=this.L.J();this.sc=this.R.sc;this.no=this.po=null;this.Tn=this.Sn=!1;this.Wd=null;this.Sw=!1}A(){this.Sw=!0;this.Ek();this.rD();this.no=this.po=null;this.Wd&&(this.Wd.A(),this.Wd=null);this.sc=this.R=this.j=this.L=null}vk(){return this.Sw}ja(){return this.L}K(){return this.j}J(){return this.R}nb(){return this.sc.nb()}gu(){return bl(this.L)}na(a){return this.j.na(a,this.L,null)}Jc(a){return this.j.Jc(a,this.L,
null)}uH(a,b){Pz(this.j,this.Dp,a,b)}Oe(){}ky(){}ve(){this.Sn||(this.po||(this.po=()=>this.Oe()),this.j.sb().addEventListener("tick",this.po),this.Sn=!0)}Ek(){this.Sn&&(this.j.sb().removeEventListener("tick",this.po),this.Sn=!1)}DR(){this.Tn||(this.no||(this.no=()=>this.ky()),this.j.sb().addEventListener("tick2",this.no),this.Tn=!0)}rD(){this.Tn&&(this.j.sb().removeEventListener("tick2",this.no),this.Tn=!1)}Ic(){return null}pc(){}Ac(){}Nf(){}rI(a,b,d){if(0!==b){var c=this.Ac(a);if("number"!==typeof c)throw Error("expected number");
this.Nf(a,c+b,d)}}Jf(){return null}bk(a,b,d){if(this.L.Ce){var c=this.gu();a=Rz.C(Rz.Event,a,b);a.instance=c;d&&Object.assign(a,d);c.dispatchEvent(a)}}ur(){return!1}};"use strict";const Wz=self.D;function Xz(a){if(!a.xw){a.xw=()=>a.ru();a.eG=()=>a.uQ();var b=a.j.sb();b.addEventListener("renderercontextlost",a.xw);b.addEventListener("renderercontextrestored",a.eG)}}
Wz.JI=class extends Wz.bp{constructor(a,b){super(a,b);this.$a=a.B();this.eG=this.xw=null}A(){if(this.xw){const a=this.j.sb();a.removeEventListener("renderercontextlost",this.xw);a.removeEventListener("renderercontextrestored",this.eG);this.eG=this.xw=null}this.$a=null;super.A()}ru(){}uQ(){}B(){return this.$a}jj(){return!1}uh(){if(!this.jj())throw Error("original size not known");const a=this.ie();if(a)return a.P()}th(){if(!this.jj())throw Error("original size not known");const a=this.ie();if(a)return a.N()}ie(){return null}OH(){var a=
this.ie();return a&&(a=a.oc())?[a.P(),a.N()]:[100,100]}PH(){const a=this.ie();return a?a.jr():null}iI(){const a=this.ie();return a?a.Wp:!1}Cl(){const a=this.L.B();return[a.X(),a.Y(),so(a)]}tu(){return!0}};"use strict";const bz=self.D,Yz=bz.C(bz.Rect);function az(a,b,d){d||(d={});d.elementId=a.hE;Tz(a,b,d)}function Rl(a,b){b||(b={});b.elementId=a.hE;Vz(a,"focus",b)}function Zz(a,b){b=!!b;a.VS!==b&&(a.VS=b,az(a,"set-visible",{isVisible:b}))}
bz.tca=class extends bz.JI{constructor(a,b){super(a,b);a=this.nb();b=a.M2++;a.qL.set(b,this);this.hE=b;this.VS=!0;this.A1=this.EK=!1;this.B1=-.2;this.Rv=bz.C(bz.Rect,0,0,-1,-1);a=this.j.ca;this.lT=a.Am;this.kT=a.zm;this.hT=this.gT=-1;this.ve()}A(){this.nb().qL.delete(this.hE);az(this,"destroy");this.hE=-1;super.A()}Oe(){if(!Mq(this.ja())){var a=this.B(),b=a.fa(),d=Nl(a),[c,e]=zo(b,d.la,d.ea),[g,k]=zo(b,d.wa,d.ra);d=this.j.ca;var l=d.sd,n=d.fd;if(a.Md()&&b.Md()){const p=this.j.ca.rC();("Android"!==
bz.Z.je||"scale-inner"!==p&&"scale-outer"!==p&&"crop"!==p)&&(0>=g||0>=k||c>=l||e>=n)?Zz(this,!1):(Yz.set(c,e,g,k),l=d.Am,n=d.zm,d=b.Fz,co(a.Bj),a=a.LS,Yz.Pd(this.Rv)&&this.lT===l&&this.kT===n&&this.gT===d&&this.hT===a?Zz(this,!0):(this.Rv.Ja(Yz),this.lT=l,this.kT=n,this.gT=d,this.hT=a,Zz(this,!0),l=null,this.A1&&(l=b.ek()+this.B1),az(this,"update-position",{left:Math.round(this.Rv.la),top:Math.round(this.Rv.ea),width:Math.round(this.Rv.width()),height:Math.round(this.Rv.height()),htmlIndex:d,htmlZIndex:a,
fontSize:l})))}else Zz(this,!1)}}};"use strict";const $z=self.D,Yl=self.jY;$z.Yo=class extends $z.Ca{constructor(a){super();this.j=a.Kg;this.yM=$z.C($z.AH);this.JF=$z.C($z.AH);this.Gz=null;this.U2=a.dja||null}A(){this.JF.A();this.yM.A();this.j=null}K(){return this.j}ac(){}uC(){return Vc(this.yM)}ri(a){this.JF.Tb(a)}Or(a){this.JF.br(a)}za(){return Vc(this.JF)}};"use strict";const aA=self.D;
aA.$o=class extends aA.Ca{constructor(a){super();this.j=a.K();this.rd=a;this.R=a.J();this.Jk=a.Lm();this.Jk.yM.Tb(this.R)}A(){this.Jk=this.R=this.rd=this.j=null}ac(){}qh(){return this.rd}J(){return this.R}K(){return this.j}Lm(){return this.Jk}};"use strict";const bA=self.D;function cA(a){a.jF&&(a.j.sp.xh(a),a.jF=!1)}function dA(a){a.jF||(a.j.sp.Tb(a),a.jF=!0)}
bA.Zo=class extends bA.Ca{constructor(a){super();this.Ry=a;this.Dp=void 0;this.L=a.L;this.j=a.K();this.rd=a.qh();this.sc=this.rd.sc;this.jF=this.Tn=this.Sn=!1;this.Wd=null}A(){this.Ek();this.rD();cA(this);this.Wd&&(this.Wd.A(),this.Wd=null);this.sc=this.rd=this.j=this.L=this.Ry=null}Lm(){return this.rd.Lm()}J(){return this.L.J()}B(){return this.L.B()}K(){return this.j}qh(){return this.rd}gu(){return this.Ry.gu()}na(a){return this.j.na(a,this.L,this.rd)}Jc(a){return this.j.Jc(a,this.L,this.rd)}Oe(){}ky(){}vI(){}ve(){this.Sn||
(this.j.tp.Tb(this),this.Sn=!0)}Ek(){this.Sn&&(this.j.tp.xh(this),this.Sn=!1)}DR(){this.Tn||(this.j.up.Tb(this),this.Tn=!0)}rD(){this.Tn&&(this.j.up.xh(this),this.Tn=!1)}uH(a,b){Pz(this.j,this.Dp,a,b)}Ic(){return null}pc(){}Ac(){}Nf(){}rI(a,b){if(0!==b){var d=this.Ac(a);if("number"!==typeof d)throw Error("expected number");this.Nf(a,d+b)}}Jf(){return null}bk(a,b,d){if(this.Ry.Ce){var c=this.gu();a=bA.C(bA.Event,a,b);a.nga=c;a.instance=c.instance;d&&Object.assign(a,d);c.dispatchEvent(a)}}};"use strict";
const eA=self.D;eA.F={};eA.O={};function fA(a,b){const d=Pv(a.j,b[0]);if(!d)throw Error("missing plugin");eA.yW(b,d);b=eA.C(d,{Kg:a.j,HV:b[1],u4:b[2],t4:b[5],h4:b[8],E4:b[9],d5:b[13],c5:b[14],q4:b[17],j4:b[18]});b.ac();a.w1.push(b);a.QM.set(d,b)}function gA(a){a.oe=eA.C(eA.F.ob,{Kg:a.j,HV:!0});a.oe.ac()}eA.B_=class extends eA.Ca{constructor(a){super();this.j=a;this.w1=[];this.QM=new Map;this.oe=null;this.t1=[];this.ZJ=new Map;this.PL=this.lN=null}Kx(){return this.oe}ZH(){return this.lN}VH(){return this.PL}};
"use strict";const hA=self.D,iA=new Set;function jA(a){a.Xr&&(URL.revokeObjectURL(a.Xr),a.Xr="")}function kA(a,b){a.Wi=b[0];a.om=b[1];a.Ws=b[2];a.Xs=b[3];a.S=b[4];a.T=b[5];a.Wp=b[6];a.Dz=!0}function lA(a,b,d){if(a.Od)throw Error("already got asset");d=Object.assign({},d,{url:a.Wi,size:a.li()});a.Od=b.KC(d)}function mA(a,b,d){if(a.Od)throw Error("already loaded asset");a.Wi=d;const c={};hA.FC(d)&&(c.ax="remote");lA(a,b,c);return a.Od.oI()}
async function nA(a,b){b||(b=await Qm(a.Od));const d=hA.oh(a.S,a.T),c=d.getContext("2d");a.Wp?(c.rotate(Math.PI/-2),c.translate(-a.T,0),c.drawImage(b,a.Ws,a.Xs,a.T,a.S,0,0,a.T,a.S)):c.drawImage(b,a.Ws,a.Xs,a.S,a.T,0,0,a.S,a.T);return d}async function oA(a){if(a.Xr)return a.Xr;var b=await nA(a);b=await hA.YB(b);a.Xr=URL.createObjectURL(b);return a.Xr}
hA.Tx=class extends hA.Ca{constructor(){super();this.ZK=0;this.Wi="";this.T=this.S=this.Xs=this.Ws=this.om=0;this.Dz=this.Wp=!1;this.Od=null;this.qm="";this.Qi=hA.C(hA.Rect);this.gt=hA.C(hA.yd);this.Xr="";new self.RP(this);iA.add(this)}A(){this.qk();this.Od&&0===this.Od.rc&&this.Od.A();this.Od=null;iA.delete(this);jA(this)}static ru(){for(const a of iA)a.qm="",a.Qi.set(0,0,0,0),a.gt.lh(a.Qi)}li(){return this.om}P(){return this.S}N(){return this.T}HC(){return this.Od&&this.Od.HC()}async Vm(a,b){if(!this.Od)throw Error("no asset");
if(this.qm)throw Error("already loaded texture");var d=this.ZK;this.qm="loading";a=await this.Od.Vm(a,b);if(this.ZK!==d)return null;if(!a)return this.qm="",null;this.qm="loaded";this.Dz||(this.S=a.P(),this.T=a.N(),this.Dz=!0);this.Qi.set(this.Ws,this.Xs,this.Ws+(this.Wp?this.T:this.S),this.Xs+(this.Wp?this.S:this.T));this.Qi.Go(a.P(),a.N());this.gt.lh(this.Qi);if(this.Wp){d=this.gt;b=d.xc;const c=d.yc;d.xc=d.Wc;d.yc=d.Xc;d.Wc=d.dd;d.Xc=d.ed;d.dd=d.Rc;d.ed=d.Sc;d.Rc=b;d.Sc=c}return a}qk(){this.qm&&
(this.Od&&this.Od.qk(),this.qm="",this.Qi.set(0,0,0,0),this.gt.lh(this.Qi))}oc(){return this.Od&&"loaded"===this.qm?this.Od.oc():null}jr(){return this.Qi}zC(){return this.gt}};"use strict";const pA=self.D;function dm(a){return a.Zd.length}function qA(a,b,d){return Promise.all(a.Zd.map(c=>c.xd().Vm(b,d)))}function rA(a,b){b=Math.floor(b);if(0>b||b>=a.Zd.length)throw new RangeError("invalid frame");return a.Zd[b]}
function sA(a,b,d){d=Math.floor(d);0>d?a.Zd.unshift(b):d>=a.Zd.length?a.Zd.push(b):a.Zd.splice(d,0,b)}function tA(a,b){for(let d=0,c=a.Zd.length;d<c;++d)if(pA.kh(a.Zd[d].fg,b))return d;return-1}function uA(a,b){if("string"===typeof b){a=tA(a,b);if(-1===a)throw Error(`cannot find animation frame with tag ${b}`);return a}return b}
pA.zH=class extends pA.Ca{constructor(a){super();this.Sa=a[0];this.md=a[1];this.Tz=!!a[2];this.yw=a[3];this.bU=a[4];this.A2=!!a[5];this.mb=a[6];this.Zd=a[7].map(b=>pA.C(pA.UB,b));this.f2=new self.fY(this)}static dC(a,b){b=pA.C(pA.zH,[b,0,!1,0,0,!1,Math.floor(1E15*Math.random()),[]]);b.Zd.push(pA.UB.dC(a));return b}A(){for(const a of this.Zd)a.A();pA.I(this.Zd)}ua(){return this.Sa}kk(){return this.md}ji(){return this.yw}};"use strict";const vA=self.D;var wA;
const xA=atob("iVBORw0KGgoAAAANSUhEUgAAAGQAAABkAQMAAABKLAcXAAAAAXNSR0IArs4c6QAAAANQTFRFAAAAp3o92gAAAAF0Uk5TAEDm2GYAAAATSURBVBgZYxgFo2AUjIJRQFcAAAV4AAHcRQIbAAAAAElFTkSuQmCC"),EA=new Uint8Array(xA.length);for(let a=0,b=xA.length;a<b;++a)EA[a]=xA.charCodeAt(a);wA=new Blob([EA],{type:"image/png"});
vA.UB=class extends vA.Ca{constructor(a){super();this.Xg=vA.C(vA.Tx);kA(this.Xg,a);this.nz=a[7];this.LT=vA.C(vA.Bu,a[8],a[9]);this.ME=a[10].map(d=>vA.C(vA.BY,this,d));this.PS=new Map;for(var b of this.ME)this.PS.set(b.ua().toLowerCase(),b);this.cs=null;b=a[11];6<=b.length&&(this.cs=vA.C(vA.$q,b));this.fg=a[12]?a[12]:"";this.g2=new self.gY(this)}static dC(a){const b=vA.C(vA.UB,["",0,0,0,100,100,!1,1,0,0,[],[],""]);var d=b.Xg;if(d.Od)throw Error("already loaded asset");d.Wi="";d.om=wA.size;d.Od=hA.C(hA.fI,
a.pb,{blob:wA,size:d.om,ax:"local"});return b}A(){this.cs&&(this.cs.A(),this.cs=null);this.Xg.A();this.Xg=null}xd(){return this.Xg}Dl(){return this.LT.ka}El(){return this.LT.aa}UH(){return this.ME.length}};"use strict";const FA=self.D;FA.BY=class extends FA.Ca{constructor(a,b){super();this.Sa=b[0];this.RM=FA.C(FA.Bu,b[1],b[2])}A(){}ua(){return this.Sa}X(){return this.RM.ka}Y(){return this.RM.aa}};"use strict";const Mw=self.D,GA=self.fi,HA=self.Rx;function*al(a){yield*a.M;yield*Gy(a.j,a)}
function kp(a){return IA(a,Mw.O.maa)}function qp(a){if(a.Cs&&!a.Ya){var b=a.M,d=0;for(var c=b.length;d<c;++d)b[d].lL=d;b=a.j.Sp;for(const e of b)e.J()===a&&(b=e,c=d++,b.lL=c);a.Cs=!1}}function Hq(a,b){return a.Uk.findIndex(d=>d.name===b)}function Iq(a,b){b=Math.floor(b);if(0>b||b>=a.Uk.length)throw new RangeError("invalid instance variable index");return a.Uk[b].name}
function Jq(a,b){b=Math.floor(b);if(0>b||b>=a.Uk.length)throw new RangeError("invalid instance variable index");return a.Uk[b].type}function Kq(a,b){a=a.YJ.get(b.toLowerCase());return"undefined"===typeof a?-1:a}function Fv(a){if(a.DL&&!a.Ya){qp(a);var b=a.ha(),d=b.M,c=b.qb,e=a.j.og();e=e&&e.$b()&&e.$b().We;for(const l of a.Ih.gm)if(l!==a){qp(l);var g=l.ha();g.qb=!!c;if(!c){var k=g.M;Mw.I(k);for(const n of d)k.push(JA(l,pp(n)));if(e){k=b.zb;g=g.zb;Mw.I(g);for(const n of k)g.push(JA(l,pp(n)))}}}}}
function Hu(a,b){return(a=a.bS.get(b.toLowerCase()))&&a.od()?a:null}function Lw(a,b){return a.nE[b]}function gx(a,b){a=a.ha().za();return 0<a.length?a[pp(b)%a.length]:null}function ay(a,b){if(b&&b.Hc()&&b.J()!==a)for(const d of b.vd)if(d.J()===a)return d;a=a.ha().za();return a.length?a[0]:null}
function*My(a,b,d){a=a.ha().za();const c=a.length,e=d.ha(),g=d.ha().za(),k=g.length;var l=pp(b);if(d.Ya||!e.qb)l=g.indexOf(b);b=Math.ceil(c/k);d=c%k;0===d||l<d?l*=b:(l=d*b+(l-d)*(b-1),--b);for(let n=l,p=l+b;n<p;++n)yield a[n]}function pz(a,b){return a.JK.has(b)}function KA(a,b){const d=a.j.pA++,c=Mw.C(Mw.Instance,{Kg:a.j,MO:a,uid:d});c.jD(b[16],[]);a.j.Hs.set(d,c);a.M.push(c)}function LA(a,b){for(let d=1,c=b.length;d<c;++d){const e=Cn(a.j,b[d]);a.Hp.push(e);a.oE.add(e);e.Ci.push(a);e.JK.add(a)}}
function MA(a){var b=0;if(!a.Ya)for(var d of a.Ci)for(var c of d.OR){var e=c.ua().toLowerCase();a.Nu.set(e,c);a.YJ.set(e,b);a.CD.push(c);++b}for(var g of a.OR)d=g.ua().toLowerCase(),a.Nu.set(d,g),a.YJ.set(d,b),a.CD.push(g),++b;for(var k of a.CD)a.GU.add(k.Lm().constructor);if(!a.Ya&&a.Ci.length){b=a.j.rS;Mw.cH(a.pv,b,0);Mw.cH(a.nE,b,0);Mw.cH(a.KK,b,0);b=[];d=k=g=0;for(const l of a.Ci)if(c=l.Di,a.pv[c]=g,g+=l.Uk.length,a.nE[c]=k,k+=l.C1,a.KK[c]=d,d+=l.X1,(c=l.Va)&&a.Va)for(const n of c.hi()){c=b;e=
c.push;const p=NA.C(NA.DP,a.Va,[n.le,n.Sa],-1);p.Nc=n.Nc;p.Pb=n.Pb;e.call(c,p)}if(a.Va&&(a=a.Va,b.length)){a.Fh=b.concat(a.Fh);for(const l of b)a.gE.set(l.ua().toLowerCase(),l);for(let l=0,n=a.Fh.length;l<n;++l)a.Fh[l].zJ(l)}}}function IA(a,b){return b&&a.GU.has(b)}function OA(a){return a.Uk.map(b=>b.Ot)}function PA(a,b){return a.Uk.findIndex(d=>d.Ot===b)}function Dl(a){return a.Uk.map(b=>b.w4)}function QA(a){return a.Va&&0<a.Va.Fh.length}
function RA(a,b){if(!a.cd)throw Error("no animations");return a.Iu.get(b.toLowerCase())||null}function SA(a,b){if(RA(a,b))throw Error(`animation name '${b}' already exists`);b=Mw.zH.dC(a.K(),b);a.cd.push(b);a.Iu.set(b.ua().toLowerCase(),b);a.Ju.set(b.mb,b);return b}function TA(a){if(!a.cd)throw Error("no animations");return a.cd[0]}function UA(a){return a.cd?(a=rA(TA(a),0).xd(),[a.P(),a.N()]):a.Xg?[a.Xg.P(),a.Xg.N()]:[100,100]}
function JA(a,b){var d=a.M;if(b<d.length)return d[b];b-=d.length;d=a.j.Sp;for(const c of d)if(c.J()===a){if(0===b)return c;--b}return null}function VA(a){if(a.Hy&&a.$d){for(const b of a.M)WA(b.B());for(const b of a.j.Sp)b.J()===a&&WA(b.B());a.Hy=!1}}
Mw.LC=class extends Mw.Ca{constructor(a,b,d){super();const c=Pv(a,d[1]);this.j=a;this.Hj=a.jm.QM.get(c)||null;this.sc=null;this.RE=c.Instance;this.xa=b;this.mb=d[11];this.Sa=d[0];this.aA=this.j.fk(d[14]);this.u2=!!d[9];this.Ya=!!d[2];this.KL=!!d[10];this.Uk=d[3].map(k=>({Ot:k[0],type:k[1],name:k[2],w4:a.fk(k[3])}));this.C1=d[4];this.X1=d[5];this.$d=this.Hj.$d;this.Wb=Mw.C(Mw.Event.sb);this.Va=null;const [e,g]=XA(a.fc);this.Yy=Mw.C(Mw.d0,e,g);this.Hy=!0;this.Iy=!1;this.oE=this.Hp=null;this.Di=-1;this.KK=
this.nE=this.pv=this.JK=this.Ci=null;this.DL=!1;this.Ih=null;this.OR=d[8].map(k=>Mw.pP.Ka(this,k));this.CD=[];this.Nu=new Map;this.YJ=new Map;this.GU=new Set;this.bS=new Map;this.ll=Mw.C(Mw.b0,this);this.Ju=this.Iu=this.cd=this.Xg=this.Ih=this.ns=null;this.Jw=0;this.jc=new Map;this.Sj=new Map;this.M=[];this.Cs=!0;this.Hj.cI()&&(this.Va=Mw.C(Mw.dr,this,d[12]));d[6]&&(this.Xg=Mw.C(Mw.Tx),kA(this.Xg,d[6]));if(d[7]){this.cd=d[7].map(k=>Mw.C(Mw.zH,k));this.Iu=new Map;this.Ju=new Map;for(const k of this.cd)this.Iu.set(k.ua().toLowerCase(),
k),this.Ju.set(k.mb,k)}this.Ya?(this.Hp=[],this.oE=new Set,this.Di=this.j.rS++):(this.Ci=[],this.JK=new Set,this.pv=[],this.nE=[],this.KK=[]);this.sc=Mw.C(c.nf,this,d[15]);this.rL=this.Iz=null;this.Cf=Mw.C(Mw.Event.sb);if(b=this.sc.Jf()){if(this.Iz=new b(this),!(this.Iz instanceof HA))throw new TypeError("script interface class must derive from IObjectClass");}else this.Iz=new HA(this);this.j.IG&&!this.Ya&&!this.KL&&this.$d||this.ac();this.Hj.Rn&&(Mz(this.Hj,this),KA(this,d));this.DF=null}static Ka(a,
b,d){return Mw.C(Mw.LC,a,b,d)}A(){this.Wb.A();this.Wb=null;this.Xg&&(this.Xg.A(),this.Xg=null);if(this.cd){for(const a of this.cd)a.A();Mw.I(this.cd);this.Iu.clear();this.Ju.clear()}this.DF=null;this.ll.A();this.ll=null;this.jc.clear();this.Sj.clear();this.j=this.Ih=null}Hc(){return this.DL}sb(){return this.Wb}ac(){this.Ya||this.sc.ac()}pu(a){if(this.Ya)return Promise.resolve();this.Jw++;return 1===this.Jw?this.sc.pu(a)||Promise.resolve():Promise.resolve()}Ar(){if(!this.Ya){this.Jw--;if(0>this.Jw)throw Error("released textures too many times");
0===this.Jw&&this.sc.Ar()}}NC(){if(this.Ya)throw Error("not applicable to family");this.sc.NC()}wI(a){return this.Ya?Promise.resolve():this.sc.wI(a)}K(){return this.j}nb(){return this.Hj}ua(){return this.Sa}fk(){return this.aA}Ma(){return this.xa}Kf(){return this.u2}cI(){return this.Hj.cI()}ha(){return this.ll.ha()}xd(){return this.Xg}jk(){if(!this.Hj.Rn)throw Error("not a single-global plugin");return this.M[0]}za(){return this.M}*AB(){yield*this.M}ri(a){this.M.push(a)}vx(a){this.sc.vx(a)}ki(){this.jc||
(this.jc=new Map);return this.jc}iu(){this.Sj||(this.Sj=new Map);return this.Sj}Aa(){const a={instances:this.M.map(b=>b.Ic())};this.jc&&this.jc.size&&(a.ex=Mw.XI(this.jc));return a}Ba(a){this.jc&&(this.jc.clear(),this.jc=null);var b=a.ex;b&&(this.jc=Mw.MH(b));b=this.M;a=a.instances;for(let d=0,c=Math.min(b.length,a.length);d<c;++d)b[d].pc(a[d]);for(let d=a.length,c=b.length;d<c;++d)Fl(this.j,b[d]);for(let d=b.length,c=a.length;d<c;++d){b=a[d];let e=null;if(this.$d&&(e=$o(this.j.Vb(),b.w.l),!e))continue;
Eo(this.j,this.ns||this,e,!1,0,0,!0).pc(b)}this.DF=a;this.Cs=!0}Dy(){for(let a=0,b=this.M;a<b;++a)this.M[a].Dy()}ph(a){var b=this.j;(b=b.Ib&&!fl(b.Ea()))&&GA.UI();this.Cf.dispatchEvent(a);b&&GA.xH()}};"use strict";const YA=self.D;function Ap(a){return a.gm.some(b=>b.$d)}YA.dX=class extends YA.Ca{constructor(a,b){super();this.j=a;this.gm=b;for(const d of this.gm)d.DL=!0,d.Ih=this}A(){this.j=null}K(){return this.j}};"use strict";const El=self.D,ZA=self.fi,$A=self.lk,aB=[];let bB=0;
const cB=new WeakMap,dB=new WeakMap;
function bl(a){var b;if(!(b=a.Ce)){b=a.$a?self.DC:$A;const d=a.oa.Jf(),c=a.Ye.rL,e=c||d||b;$A.Bk(a);a.Ce=new e;$A.Bk(null);if(d&&!(a.Ce instanceof b))throw new TypeError(`script interface class '${d.name}' does not extend the right base class '${b.name}'`);if(c&&!(a.Ce instanceof(d||b)))throw new TypeError(`setInstanceClass(): class '${c.name}' does not extend the right base class - check it extends the right class, e.g. globalThis.InstanceType.MyObjectName`);b=a.Ce}return b}
function el(a){const b=new Set;b.add(a);const d=a.B();if(d&&d.jf())for(const c of a.Vj())if(b.add(c),c.Hc())for(const e of c.vd)b.add(e);if(a.Hc())for(const c of a.vd)b.add(c);for(const c of b.values())xp(c)}function vp(a){var b=a.B();if(b&&(b=eB(b)))for(const d of b)if(b=Lq(a.j,d[2])){const c=d[3];a.Zj(b,{St:!!(c>>0&1),Tt:!!(c>>1&1),Wq:!!(c>>2&1),Vq:!!(c>>3&1),Pt:!!(c>>4&1),Ww:!!(c>>5&1),Ut:!!(c>>6&1),Qt:!!(c>>7&1),Rt:!!(c>>8&1)})}}
function wp(a,b,d){if(b=b.get(a))for(const c of b.sceneGraphJson.children){b=d.get(c.index);if(!b)continue;const e=c.flags;a.Zj(b,{St:!!(e>>0&1),Tt:!!(e>>1&1),Wq:!!(e>>2&1),Vq:!!(e>>3&1),Pt:!!(e>>4&1),Ww:!!(e>>5&1),Ut:!!(e>>6&1),Qt:!!(e>>7&1),Rt:!!(e>>8&1)})}}function xp(a){a.Ye.rL&&bl(a);if(fB(a,"instancecreate")){const b=a.J(),d=new El.Event("instancecreate");d.instance=bl(a);b.ph(d);for(const c of b.Ci)c.ph(d);a.j.ph(d)}a.j.na(a.nb().constructor.H.vZ,a,null)}
function pp(a){qp(a.Ye);return a.lL}function Mq(a){return 0!==(a.G&1)}function qr(a,b){a=a.zd;for(let d=0,c=a.length;d<c;++d)if(a[d].qh().mb===b)return d;return-1}function cs(a,b){b|=0;a=a.Eg;if(0>b||b>=a.length)throw new RangeError("invalid instance variable");return a[b]}function bt(a,b){if(!b)return null;a:{if(b)for(const d of a.zd)if(d.Lm()instanceof b){a=d;break a}a=null}return a?a.oa:null}function Wu(a){for(const b of a.vd)Pt(b.J().ha(),b)}
function Hy(a,b){b.Ya?(a=a.J(),b=b.oE.has(a)):b=a.J()===b;return b}function gB(a,b){0<b.length&&(a.Eg=[],El.Fd(a.Eg,b))}function hB(a){const b=a.Ye.Uk.length;if(0!==b){a.Eg=[];var d=[0,0,""];for(let c=0;c<b;++c)a.Eg.push(d[Jq(a.Ye,c)])}}function iB(a,b,d){b<<=16;a.G=d?a.G|b:a.G&~b}function jB(a,b){return 0!==(a.G&b<<16)}function kB(a,b,d,c){const e=(g,k)=>{k=k||g.J();const l=b.get(k);l?l.add(g):b.set(k,new Set([g]))};e(a,d);if(a.Hc())for(const g of a.vd)e(g);if(c)for(const g of a.Vj())e(g)}
function lB(a){if(!a.nb().tU)throw Error("object does not support scene graph");}function mB(a,b){a=a.B();if(!a)return[];const d=b.ua();return a.he().map(c=>c.ja()).filter(c=>c.J().ua()===d)}function nB(a,b){a=a.vd;if(null===a||0===a.length)return!1;for(const d of a)if(d.J()===b)return d;return null}function fB(a,b){const d=a.J();if(d.Cf.Vl.has(b))return!0;for(const c of d.Ci)if(c.Cf.Vl.has(b))return!0;return a.j.Cf.Vl.has(b)?!0:!1}
El.Instance=class extends El.Ca{constructor(a){super();this.j=a.Kg;this.Ye=a.MO;this.Ce=this.oa=this.$a=null;this.lL=0;this.Sb=a.uid;this.TT=bB++;this.G=0;this.zd=this.Eg=aB;var b=this.Ye.CD;0<b.length&&(this.zd=b.map((d,c)=>El.C(El.VB,{Kg:this.j,cO:d,instance:this,index:c})));this.vd=this.Ye.Hc()?[]:null;this.de=-1;this.Wb=null;b=this.nb();b.ur()&&(this.G|=4);if(b.$d)if(this.$a=El.C(El.U0,this,a.Kt),a.pW)this.$a.Fl(a.pW);else{oB(this.$a);const [d,c]=UA(this.Ye);this.$a.Vd(d,c);QA(this.J())&&pB(this.$a.Wf)}a.CV?
gB(this,a.CV):hB(this)}A(){this.Ce&&(this.Ce.yy(),this.Ce=null);if(0<this.zd.length){for(var a of this.zd)a.A();El.I(this.zd)}this.oa.A();this.oa=null;if(a=cB.get(this))a.clear(),cB.delete(this);if(a=dB.get(this))a.clear(),dB.delete(this);this.vd&&El.I(this.vd);this.Wb&&(this.Wb.A(),this.Wb=null);this.Ye=this.j=null;0<this.Eg.length&&El.I(this.Eg);this.$a&&(this.$a.A(),this.$a=null)}jD(a,b){if(this.oa)throw Error("already got sdk instance");for(let d=0,c=this.zd.length;d<c;++d)this.zd[d].jD(b?b[d]:
null);this.oa=El.C(this.Ye.RE,this,a);if(!(this.oa instanceof El.bp))throw Error("sdk type must derive from SDKInstanceBase");!this.nb().$d&&this.Ye.rL&&bl(this);for(let d=0,c=this.zd.length;d<c;++d);}B(){return this.$a}K(){return this.j}jy(a){a=+a;if(0>a||!isFinite(a))a=0;this.de=a;QA(this.J())&&qB(this.j,this,!0)}sb(){this.Wb||(this.Wb=El.C(El.Event.sb));return this.Wb}xl(a){this.oa.xl(a)}ac(a){this.oa.ac(a)}Sm(){return 0!==(this.G&2)}oJ(){this.G|=1}ur(){return 0!==(this.G&4)||this.oa.ur()}ie(){return this.oa.ie()}OH(){return this.oa.OH()}PH(){return this.oa.PH()}iI(){return this.oa.iI()}Cl(a){return this.oa.Cl(a)}J(){return this.Ye}tu(){return this.oa.tu()}rg(){return null!==
this.La()}La(){var a=this.B();return a?(a=a.La())?a.ja():null:null}Ro(){var a=this.B();return a?(a=a.Ro())?a.ja():null:null}*ix(){const a=this.B();if(a)for(const b of a.ix())yield b.ja()}bI(a){if(!a)return!1;for(const b of this.children())if(b===a)return!0;return!1}jf(){const a=this.B();return a?a.jf():!1}he(){const a=this.B();return a?a.he().map(b=>b.ja()):[]}*children(){const a=this.B();if(a)for(const b of a.children())yield b.ja()}*Vj(){const a=this.B();if(a)for(const b of a.Vj())yield b.ja()}oC(){const a=
this.B();return a?a.oC():0}lC(){const a=this.B();return a?a.lC():0}nC(a){const b=this.B();return b?(a=b.nC(a))?a.ja():null:null}Zj(a,b){lB(this);lB(a);this.B().Zj(a.B(),b||{})}Il(a){const b=this.B();b&&b.Il(a.B())}zx(){const a=this.B();return a?a.zx():!1}hu(){var a=this.j.Si;a=a?a.Jn?(a=a.Jn.get(this))?a:"":"":"";return a}Hc(){return null!==this.vd}nb(){return this.Ye.nb()}j1(a){const b=this.Eg[a];return 0===Jq(this.Ye,a)?!!b:b}fp(a,b){a|=0;const d=this.Eg;if(0>a||a>=d.length)throw new RangeError("invalid instance variable");
switch(Jq(this.Ye,a)){case 0:d[a]=b?1:0;break;case 1:d[a]="number"===typeof b?b:parseFloat(b);break;case 2:d[a]="string"===typeof b?b:b.toString();break;default:throw Error("unknown instance variable type");}}ki(){let a=cB.get(this);if(a)return a;a=new Map;cB.set(this,a);return a}iu(){let a=dB.get(this);if(a)return a;a=new Map;dB.set(this,a);return a}Ic(a="full"){const b={};"full"===a?b.uid=this.Sb:b.c3=!0;if("visual-state"!==a){var d=cB.get(this);d&&d.size&&(b.ex=El.XI(d));-1!==this.de&&(b.mts=this.de);
if(0<this.Ye.Uk.length){d={};var c=OA(this.Ye);for(let e=0,g=this.Eg.length;e<g;++e)d[c[e].toString()]=this.Eg[e];b.ivs=d}if(this.zd.length){d={};for(const e of this.zd)(c=e.Ic(a))&&(d[e.qh().mb.toString()]=c);b.behs=d}}this.$a&&(b.w=this.$a.Aa(a));(a=this.oa.Ic())&&(b.data=a);return b}Du(a="full"){this.$a&&this.$a.Du(a)}Pf(a,b="full",d=null){this.$a&&this.$a.Pf(a,b,d)}pJ(a,b="full",d=null){this.$a&&this.$a.pJ(a,b,d)}Dy(){this.nb().$d&&this.$a.Dy()}pc(a,b="full"){if("full"===b)this.Sb=a.uid;else if(!a.c3)return;
if("visual-state"!==b){var d=cB.get(this);d&&(d.clear(),cB.delete(this));if(d=a.ex)d=El.MH(d),cB.set(this,d);this.de=a.hasOwnProperty("mts")?a.mts:-1;if(d=a.ivs)for(const [g,k]of Object.entries(d))if(d=PA(this.Ye,parseInt(g,10)),!(0>d||d>=this.Eg.length)){var c=k;null===c&&(c=NaN);this.Eg[d]=c}}if(this.nb().$d){d=a.w;var e=d.l;this.$a.fa().mb!==e&&(c=this.$a.fa(),(e=$o(c.zc(),e))?(ip(this.$a,e),c.Or(this,!0),e.ri(this,!0),En(e,this),U(this.$a)):"full"===b&&Fl(this.j,this));this.$a.Ba(d,b)}if("visual-state"!==
b&&(d=a.behs))for(const [g,k]of Object.entries(d))d=qr(this,parseInt(g,10)),0>d||d>=this.zd.length||this.zd[d].pc(k,b);(a=a.data)&&this.oa.pc(a,b)}ph(a){if(this.Ce){var b=bl(this);a.instance=b;var d=this.j;(d=d.Ib&&!fl(d.Ea()))&&ZA.UI();b.dispatchEvent(a);d&&ZA.xH()}}};"use strict";const rB=self.D;
function Ep(a){let b;b=0|Number(0!==(a.G&8388608))<<8;b|=Number(ps(a))<<7;b|=Number(0!==(a.G&32768))<<6;b|=Number(a.zx())<<5;b|=Number(0!==(a.G&16384))<<4;b|=Number(ks(a))<<3;b|=Number(is(a))<<2;b|=Number(sB(a))<<1;return b|=Number(tB(a))<<0}function js(a){return 0===a.tG?Number.EPSILON:a.tG}function ls(a){return 0===a.qG?Number.EPSILON:a.qG}function uB(a,b){a.im=a.Ab.nc();a.sG=a.im;a.Fc=b;a.SF=b?b.Na():0}
function vB(a){a.jf()&&1!==a.$r.length&&(a.pl?a.$r.sort((b,d)=>{b=a.pl.get(b.ja());d=a.pl.get(d.ja());return rB.Xb(b)&&rB.Xb(d)?b-d:0}):a.$r.sort((b,d)=>{b=b.Oa.NE;d=d.Oa.NE;return rB.Xb(b)&&rB.Xb(d)?b-d:0}))}function wB(a){if(is(a.Ab)){var b=a.Fc;a=b.P();let d=js(b.Oa);0===a&&(a=Number.EPSILON);return d===Number.EPSILON&&a===Number.EPSILON?1:d===Number.EPSILON&&a!==Number.EPSILON&&(b=b.ja().oa,b.jj())?1+a/b.uh():a/d}return 1}
function xB(a){if(ks(a.Ab)){var b=a.Fc;a=b.N();let d=ls(b.Oa);0===a&&(a=Number.EPSILON);return d===Number.EPSILON&&a===Number.EPSILON?1:d===Number.EPSILON&&a!==Number.EPSILON&&(b=b.ja().oa,b.jj())?1+a/b.th():a/d}return 1}function yB(a){var b=a.tG,d=a.qG,c=a.Cw,e=a.Dw,g=a.SF,k=a.im,l=a.sG;{const n=a.Ab.ja().B();a=n?(a=n.La())?zB(a,n):NaN:NaN}return{sw:b,sh:d,sx:c,sy:e,psa:g,oo:k,so:l,pi:a}}function AB(a,b){return a.$r.map(d=>BB(d,d,b)).filter(d=>d)}
function BB(a,b,d){if((a=a.ja())&&Mq(a))return null;const c={};c.uid=a.Sb;let e="";tB(b)&&(e+="x");sB(b)&&(e+="y");is(b)&&(e+="w");ks(b)&&(e+="h");0!==(b.G&16384)&&(e+="a");0!==(b.G&32768)&&(e+="z");b.zx()&&(e+="d");ps(b)&&(e+="o");0!==(b.G&8388608)&&(e+="v");c.f=e;c.offsets={x:b.ka,y:b.aa,z:b.wd,w:b.ef,h:b.Ve,a:b.ab,sgi:b.Oa?yB(b.Oa):null};c.data=CB(a);c.oci=a.J().Ma();"state"===d?(c.inst=a.Ic(),c.instIndex=NaN):(c.instIndex=a.J().za().indexOf(a),c.inst=null);return c}
function CB(a){let b=a.B().fa().nL.get(a.Sb);if(!b)return null;b=JSON.parse(JSON.stringify(b));const d=[];for(const c of[...a.he()]){const e=c.B();d.push([e.zc().mb,e.fa().Ma(),c.Sb,Ep(e),c.J().Hc()?1:0,Ol(e),CB(c)])}rB.Gl(b[0][14])?b[0][14][1]=d:(b[0][14]=[],b[0][14][0]=511,b[0][14][1]=d,b[0][14][2]=Ol(a.B()));return b}function DB(a,b,d){if(!b&&!d&&a.fe)for(const c of a.fe)Mq(c)||c.rg()||Fl(c.K(),c);a.fe=b;a.pl=d}
function EB(a){const b={};b.St=a.includes("x");b.Tt=a.includes("y");b.Wq=a.includes("w");b.Vq=a.includes("h");b.Pt=a.includes("a");b.Ut=a.includes("z");b.Ww=a.includes("d");b.Qt=a.includes("o");b.Rt=a.includes("v");return b}function GB(a,b){if(rB.Xb(a.instIndex))return Cn(b,a.oci).DF[a.instIndex];if(rB.kj(a.inst))return JSON.parse(a.inst);if(a.inst)return a.inst}function HB(a,b,d,c,e=!0){a.Ab.Zj(b,EB(d.f))&&e&&(c.has(b)||IB(b,d.offsets),c.add(b));vB(a)}
function JB(a,b){return a.filter(d=>d.J().ua()===b.ua()).length}function KB(a,b){if(rB.Xb(b.oci)){var d=a.Ab;a=d.K();if(b.data)d=Eo(a,b.data,d.fa(),!1,0,0,!1,!0);else{const c=Cn(a,b.oci);d=cl(a,c,d.fa(),0,0,!0)}if(d)return b=GB(b,a),d.pc(b),b=d.B(),tn(b.fa(),d,!0),b}}
rB.P_=class extends rB.Ca{constructor(a){super();this.Ab=a;this.Fc=null;this.$r=[];this.tG=a.P();this.qG=a.N();this.Dw=this.Cw=1;this.SF=0;this.im=1;this.sG=a.nc();this.pl=this.fe=null;this.NE=NaN}A(){this.pl=this.fe=this.Fc=null;this.NE=NaN;rB.I(this.$r)}La(){return this.Fc}jf(){return 0<this.$r.length}he(){return this.$r}Aa(a){var b=Object,d=b.assign,c=yB(this);var e=this.Fc&&this.Fc.ja()&&!Mq(this.Fc.ja())?BB(this.Fc,this.Ab,a):null;return d.call(b,c,{p:e,c:AB(this,a)})}Ba(a){this.tG=a.sw;this.qG=
a.sh;this.Cw=a.sx;this.Dw=a.sy;this.SF=a.psa;this.im=a.oo;this.sG=a.so;this.NE=rB.Xb(a.pi)?a.pi:NaN}Pf(a){const b=this.Ab,d=b.K(),c=new Set;if(a.p&&!this.Fc){var e=Lq(d,a.p.uid);if(e){var g=e.B();e.bI(this.Ab.ja())?this.Fc=g:(e.Zj(this.Ab.ja(),EB(a.p.f)),c.has(this.Ab)||IB(this.Ab,a.p.offsets),c.add(this.Ab),vB(e.B().Oa))}else rB.Xb(a.p.oci)&&(e=Cn(d,a.p.oci),e=cl(d,e,b.fa(),0,0,!0))&&(g=GB(a.p,d),e.pc(g),tn(e.B().fa(),e),e.Zj(b.ja(),EB(a.p.f)),vB(e.B().Oa))}e=[];for(var k of a.c)(g=Lq(d,k.uid))&&
e.push(g);k=0;for(const p of a.c){if(g=Lq(d,p.uid)){if(this.fe)if(this.fe.includes(g)){var l=g;if(l.J()!==g.J()){k++;continue}if(Mq(l)){k++;continue}g=a.c[k];HB(this,l.B(),g,c,!0);k++;continue}else if(this.fe[k]){l=this.fe[k];if(l.J()!==g.J()){k++;continue}if(Mq(l)){k++;continue}g=a.c[k];HB(this,l.B(),g,c,!0);k++;continue}var n=g.J();l=JB(e,n);n=mB(b.ja(),n).length;if(l===n){if(g=b.ja().nC(k))if(g=g.B())c.has(g)||IB(g,p.offsets),c.add(g);k++;continue}if(g.rg()){g=KB(this,p);HB(this,g,p,c);k++;continue}HB(this,
g.B(),p,c)}else if(this.fe&&this.fe[k]){g=this.fe[k];l=Cn(d,rB.Xb(p.oci)?p.oci:p[1]);if(g.J()!==l){k++;continue}if(Mq(g)){k++;continue}l=a.c[k];HB(this,g.B(),l,c)}else g=KB(this,p),HB(this,g,p,c);k++}}};"use strict";const ns=self.D,LB=ns.C(ns.Rect),MB=ns.C(ns.yd),NB=ns.C(ns.Event,"bboxchange",!1),Yr=ns.C(ns.ub,0,0,0,0),og=ns.C(ns.$q),OB=ns.C(ns.ub,1,1,1,1),PB=ns.C(ns.Rect,0,0,-1,-1),QB=ns.C(ns.Rect,0,0,-1,-1),RB=new Set(["absolute","relative"]),SB=[];let TB=!0;const UB=new WeakMap,VB=new WeakMap;
function U(a){a.G|=65554;a.R.Hy=!0;a.j.qa();zn(a.Bj)&&(WB(a,a.aK,a.bK,!0),a.G&=-3,XB(a));0!==(a.G&4)&&a.L.sb().dispatchEvent(NB);if(null!==a.Oa){a=a.Oa.he();for(let b=0,d=a.length;b<d;++b)U(a[b])}}
function Ml(a,b,d){b=+b;d=+d;if(0!==(a.G&3072)){const e=tB(a),g=sB(a),k=a.Oa,l=b-a.X(),n=d-a.Y();var c=-YB(a);if(0===c)a.ka=e?a.ka+l/wB(k):b,a.aa=g?a.aa+n/xB(k):d;else{const p=Math.sin(c);c=Math.cos(c);a.ka=e?g?a.ka+(c*l-p*n)/wB(k):a.ka+c*l/wB(k):b;a.aa=g?e?a.aa+(p*l+c*n)/xB(k):a.aa+c*n/xB(k):d}}else a.ka=b,a.aa=d}function Nl(a){ZB(a);return a.aK}function Ol(a){bo(a.Bj);return a.aj}function Pl(a,b,d){return Nl(a).jh(b,d)&&$B(a).jh(b,d)?a.Sm()?void 0:aC(a)?bC(a).jh(b-a.X(),d-a.Y()):!0:!1}
function Ao(a){const b=a.BA;b!==PB&&(a.fa().vw.fn(a.L,b,null),a.BA=PB)}function Fo(a,b,d){b=+b;d=+d;0!==(a.G&3072)?Ml(a,a.X()+b,a.Y()+d):(a.ka+=b,a.aa+=d)}function fo(a,b){a.LS=b|0}function qo(a,b,d,c){d&&0!==a.gd?a=Jo(a,wo(a.fa())):0===a.eb()||c?a=Bc(b,Nl(a)):(b=a.fa(),d=so(a),d>=b.If()/Jn(b)?a=!1:(Kn(b,d,LB),a=Bc(LB,Nl(a))));return a}
function Jo(a,b){var d=Nl(a);const c=d.la,e=d.wa,g=d.ea;d=d.ra;const k=so(a);a=k+a.gd;return zf(c,g,k,e,d,a,b.mT)&&zf(c,g,k,e,d,a,b.AU)&&zf(c,g,k,e,d,a,b.cU)&&zf(c,g,k,e,d,a,b.PR)&&zf(c,g,k,e,d,a,b.zM)&&zf(c,g,k,e,d,a,b.sS)}function so(a){return a.fa().eb()+a.eb()}function un(a){a=VB.get(a);return ns.Xb(a)?a:NaN}function ip(a,b,d){(d=d&&a.Bj!==b)&&Ao(a);a.Bj=b;d&&XB(a);0!==a.eb()&&(a.Bj.ln=!0)}function gs(a,b,d=!1){b=+b;d?a.ka+=b:tB(a)?a.Pg(a.X()+b):a.ka+=b}
function hs(a,b,d=!1){b=+b;d?a.aa+=b:sB(a)?a.Bh(a.Y()+b):a.aa+=b}function is(a){return 0!==(a.G&4096)}function ks(a){return 0!==(a.G&8192)}function ms(a,b,d){b=+b;d?a.Ve+=b:ks(a)?a.ug(a.N()+b):a.Ve+=b;os(a)}function ps(a){return 0!==(a.G&4194304)}function $w(a){const b=a.fa();if(Ln(b))return Jo(a,wo(b));const d=b.zc();return qo(a,Nn(b),po(d),d.Zg)}function ix(a){cC(a);return a.qK}function jx(a){cC(a);return a.iN}function Zr(a,b){ic(a.Kc,b)||(gc(Yr,b),Yr.a=a.nc(),dC(a))}
function Sy(a){a.Fj&&(a.Fj.eP.A(),a.Fj.gW.A(),a.Fj=null,eC(a))}function Ty(a,b,d){b=Math.floor(b);d=Math.floor(d);if(!a.ja().nb().Z2)throw Error("object does not support mesh");Sy(a);a.Fj={eP:ns.C(ns.W.iQ,b,d),gW:ns.C(ns.W.iQ,b,d),EO:null}}function Wy(a){return null!==a.Fj}function Xy(a){if(!Wy(a))throw Error("no mesh");return a.Fj.eP}
function WA(a){if(0!==(a.G&16)&&a.ni()&&0===(a.G&256)){var b=Nl(a),d=a.R.Yy,c=a.MD;LB.set(d.wk(b.la),d.xk(b.ea),d.wk(b.wa),d.xk(b.ra));c.Pd(LB)||(b=a.L,c===QB?(d.fn(b,null,LB),a.MD=ns.C(ns.Rect,LB)):(d.fn(b,c,LB),c.Ja(LB)),a.G&=-17)}}function oB(a){a.ka=0;a.aa=0;a.wd=0;a.ef=0;a.Ve=0;a.gd=0;a.ab=0;a.iN=0;a.qK=1;a.cl=0;a.dl=0;fC(a)}function zB(a,b){if(!b)return NaN;a=a.he();if(!a)return NaN;for(let d=0;d<a.length;d++)if(b===a[d])return d;return NaN}function eB(a){return(a=UB.get(a))?a.gO:null}
function tB(a){return 0!==(a.G&1024)}function sB(a){return 0!==(a.G&2048)}function IB(a,b){b&&(a.ka=b.x,a.aa=b.y,a.wd=b.z,a.ef=b.w,a.Ve=b.h,a.ab=b.a,b.sgi&&a.Oa&&a.Oa.Ba(b.sgi),os(a),U(a))}function gC(a){a.Oa&&(a.Oa.A(),a.Oa=null)}function hC(a){a.fe&&(a.fe.length=0);a.fe=null;a.pl=null;const b=a.La();b&&hC(b);a.eB=-1}function dC(a){var b=Yr;a.Kc.Pd(b)||(a.Kc===OB?(a.Kc=ns.C(ns.ub,b),a.es=ns.C(ns.ub,b),lc(a.es)):kc(b,1,1,1,1)?(a.Kc=OB,a.es=OB):(a.Kc.set(b),a.es.set(b),lc(a.es)),fC(a))}
function fC(a){if(TB){var b=a.j.Ga();a.pt&&Yf(b,a.pt);var d=0!==(a.G&524288)?b.TA||"<point>":b.ot||"<default>",c=a.zl(),e=a.es,g=a.eb();const k=Zf(d,c,e,g);let l=b.qt.get(k);l||(l=Bf.C(Bf.W.h0,b,d,c,e,g),b.qt.set(k,l));++l.rc;a.pt=l}}function iC(a,b){is(a)&&0>a.Ro().P()&&(b=ns.Ed(ns.aV(b,a.Ro().Na()+Math.PI)));ks(a)&&0>a.Ro().N()&&(b=ns.aV(b,a.Ro().Na()));return b}function jC(a){return 0!==(a.G&16384)&&a.Wo()?ns.Ed(jC(a.La())+a.ab):a.ab}
function YB(a){return 0!==(a.G&16384)?iC(a,jC(a.La())-a.Oa.SF):0}function kC(a){fC(a);if(a.jf()){a=a.he();for(let b=0,d=a.length;b<d;b++){const c=a[b];0!==(c.G&32768)&&kC(c)}}}function os(a){a.G|=262144;if(a.jf()){a=a.he();for(let b=0,d=a.length;b<d;b++)os(a[b])}}function cC(a){const b=a.G;if(0!==(b&262144)){var d=a.Na();a.iN=Math.sin(d);a.qK=Math.cos(d);a.G=b&-262145}}function lC(a){if(a.jf()){a=a.he();for(let c=0,e=a.length;c<e;c++){var b=a[c],d=b;b=b.nc();gc(Yr,d.Kc);Yr.a=b;dC(d);lC(d)}}}
function mC(a,b){if(a.bI(b))return!0;for(const d of a.he())if(mC(d,b))return!0;return!1}function nC(a,b){if(!a.rg())return!1;a=a.La();return a===b?!0:nC(a,b)}function oC(a,b){b?(pC(b,null),pC(a,b)):(a.Oa&&uB(a.Oa,null),a.jf()||gC(a))}function qC(a){rC(a);if(!a.fe){var b=[...a.children()];b.length&&(a.fe=[],a.pl=new WeakMap);let d=0;for(const c of b)b=c.ja(),a.fe.push(b),a.pl.set(b,d),d++}(a=a.La())&&qC(a)}
function sC(a){qC(a);var b=[...a.children()];for(const d of b)a.Il(d);(b=a.La())&&b.Il(a);a.G&=-12647937}function rC(a){if(-1===a.eB){var b=[...a.ix()];a.eB=b.length;for(const d of b)rC(d);a=[...a.children()];for(const d of a)rC(d)}}function pC(a,b){a.Oa||(a.Oa=ns.C(ns.P_,a));b&&uB(a.Oa,b)}
function XB(a){const b=a.fa();if(zn(b)&&0===(a.G&256)){var d=b.vw,c=Nl(a),e=a.BA;LB.set(d.wk(c.la),d.xk(c.ea),d.wk(c.wa),d.xk(c.ra));e.Pd(LB)||(c=a.L,e===PB?(d.fn(c,null,LB),a.BA=ns.C(ns.Rect,LB)):(d.fn(c,e,LB),e.Ja(LB)),b.lF=!1)}}function tC(a){const b=a.MD;b!==QB&&(a.R.Yy.fn(a.L,b,null),a.MD=QB)}function uC(a,b){b=!!b;a.ni()!==b&&(a.Fb(8,b),b?U(a):tC(a))}
function WB(a,b,d,c){const e=a.X(),g=a.Y();var k=a.P(),l=a.N();const n=a.Na();tc(b,e-a.cl*k,g-a.dl*l,k,l);if(c&&Wy(a)){c=a.Fj.eP;k=Math;l=k.min;kg(c);k=l.call(k,c.AT,0);l=Math;var p=l.min;kg(c);l=p.call(l,c.BT,0);p=Math;var r=p.max;kg(c);p=r.call(p,c.vT,1);r=Math;var w=r.max;kg(c);r=w.call(r,c.wT,1);w=b.width();const x=b.height();b.offsetLeft(k*w);b.offsetTop(l*x);b.wa+=+((p-1)*w);b.ra+=+((r-1)*x);kg(c);a.gd=c.xT}0===n?d.lh(b):(b.offset(-e,-g),Ec(d,b,jx(a),ix(a)),d.offset(e,g),d.rO(b));b.normalize()}
function ZB(a){const b=a.G;0!==(b&2)&&(WB(a,a.aK,a.bK,!0),a.G=b&-3)}function $B(a){ZB(a);return a.bK}function vC(a,b){var d=a.X();a=a.Y();d=Math.round(d)-d;a=Math.round(a)-a;if(0===d&&0===a)return b;MB.Ja(b);MB.offset(d,a);return MB}function eC(a){a.Fb(131072,!0);a=a.Nw;null!==a&&(a.width=NaN)}function wC(a,b){a.oG=b;eC(a);Wy(a)&&(a.Fj.EO=null)}function aC(a){return null!==a.oG||Wy(a)}
function bC(a){{var b=a.P();var d=a.N(),c=a.Na(),e=jx(a),g=ix(a);let r=a.Nw;null===r&&(r={OV:ns.C(ns.$q),width:NaN,height:NaN,angle:NaN},a.Nw=r);const w=r.OV;if(r.width!==b||r.height!==d||r.angle!==c){var k=a.oG;if(Wy(a)){const x=a.Dl(),z=a.El();var l=Xy(a),n=a.Fj.EO;n||(k?(og.Ja(k),og.offset(x,z)):Oc(og,Ic),n=ng(l),a.Fj.EO=n);a=[];n=n.He;for(let G=0,J=n.length;G<J;G+=2){const [K,O]=pg(l,n[G],n[G+1]);a.push(K,O)}l=a;n=[];a=l[0];k=l[1];let F=a-l.at(-2),C=k-l.at(-1);for(let G=0,J=l.length;G<J;G+=2){var p=
(G+2)%J;const K=l[p];p=l[p+1];const O=K-a,na=p-k,ka=1E-7>Math.abs(na)&&1E-7>Math.abs(C)&&Math.sign(O)===Math.sign(F);(!(1E-7>Math.abs(O)&&1E-7>Math.abs(F)&&Math.sign(na)===Math.sign(C)||ka)&&.001<Math.abs(O/F-na/C)||0==O&&0===na)&&n.push(a,k);a=K;k=p;F=O;C=na}6<=n.length&&n.length<l.length&&hg.Fd(l,n);Oc(w,l);w.offset(-x,-z);Qc(w,b,d,e,g)}else k?(w.Ja(k),Qc(w,b,d,e,g)):Pc(w,$B(a),-a.X(),-a.Y());r.width=b;r.height=d;r.angle=c}b=w}return b}
function xC(a){if(!Wy(a))throw Error("no mesh");return a.Fj.gW}
ns.U0=class extends ns.Ca{constructor(a,b){super();this.L=a;this.R=a.J();this.j=a.K();this.Bj=b;this.LS=this.aj=-1;this.G=196635;this.R.nb().Wo()&&(this.G|=128);this.dl=this.cl=this.qK=this.iN=this.ab=this.gd=this.Ve=this.ef=this.wd=this.aa=this.ka=NaN;this.aK=ns.C(ns.Rect);this.bK=ns.C(ns.yd);this.MD=QB;this.BA=PB;this.Qj=this.Nw=this.oG=null;this.es=this.Kc=OB;this.Wf=this.pt=null;QA(this.L.J())&&(this.Wf=ns.C(ns.DY,this.L,this));this.pl=this.fe=this.Oa=null;this.eB=-1;this.Fj=null}oJ(){this.G|=
256}A(){this.pt&&(Yf(this.j.Ga(),this.pt),this.pt=null);this.oG=null;this.Nw&&(this.Nw.OV.A(),this.Nw=null);this.Qj&&(this.Qj.clear(),this.Qj=null);Sy(this);this.Wf&&this.Wf.A();this.rg()&&this.La().Il(this);if(this.jf()){const a=[...this.he()];for(const b of a)this.Il(b)}gC(this);hC(this);UB.delete(this);VB.delete(this);this.Bj=this.j=this.R=this.L=null}Fl(a){TB=!1;Ml(this,a[0],a[1]);this.xg(a[2]);this.Vd(a[3],a[4]);this.gd=0;this.Wo()?this.ad(a[6]):this.ab=0;pc(Yr,a[7]);dC(this);this.cl=+a[8];this.dl=
+a[9];this.Me(a[10]);if(this.Wf){var b=this.Wf,d=a[12],c=0;for(var e of d)b.Ad.push(b.nJ(c,e)),++c;b.Eu();b.Dh()}a[14]&&UB.set(this,{gO:a[14][1],lP:a[14][2]});if(a[15]){d=a[15];Ty(this,d[0],d[1]);b=Xy(this);d=d[2];for(let g=0,k=d.length;g<k;++g){c=d[g];for(let l=0,n=c.length;l<n;++l){e=c[l];const p=lg(b,l,g);p.Pg(e[0]);p.Bh(e[1]);p.xg(e[2]);p.gh=e[3];p.ih=e[4]}}}a[16]&&(b=a[16][0],a=a[16][1],d=!!a,c=!d,e=this.j.Si,d&&e&&nt(e,this.ja(),a),c&&e&&nt(e,this.ja(),b));TB=!0;fC(this)}K(){return this.j}J(){return this.R}ja(){return this.L}Pg(a){a=
+a;if(tB(this)){const b=this.Oa;a-=this.X();const d=-YB(this);0===d?this.ka+=a/wB(b):(this.ka+=Math.cos(d)*a/wB(b),sB(this)&&(this.aa+=Math.sin(d)*a/xB(b)))}else this.ka=a}X(){if(tB(this)){let a=this.ka;const b=this.Oa,d=this.La(),c=YB(this);0===c?a*=wB(b):(a=a*wB(b)*Math.cos(c),sB(this)&&(a-=this.aa*xB(b)*Math.sin(c)));return d.X()+a}return this.ka}Bh(a){a=+a;if(sB(this)){const b=this.Oa;a-=this.Y();const d=-YB(this);0===d?this.aa+=a/xB(b):(tB(this)&&(this.ka-=Math.sin(d)*a/wB(b)),this.aa+=Math.cos(d)*
a/xB(b))}else this.aa=a}Y(){if(sB(this)){let a=this.aa;const b=this.Oa,d=this.La(),c=YB(this);0===c?a*=xB(b):(a=a*xB(b)*Math.cos(c),tB(this)&&(a+=this.ka*wB(b)*Math.sin(c)));return d.Y()+a}return this.aa}xg(a){a=+a;0!==(this.G&32768)&&(a-=this.La().eb());this.wd!==a&&(this.wd=a,kC(this),a=this.fa(),0!==this.wd&&(a.ln=!0),En(a,this))}eb(){return 0!==(this.G&32768)?this.La().eb()+this.wd:this.wd}Of(a){a=+a;if(is(this)){const b=this.P();this.ef=0===b?Number.EPSILON:a/b*this.ef}else this.ef=a;os(this)}pk(a,
b){a=+a;b?this.ef+=a:is(this)?this.Of(this.P()+a):this.ef+=a;os(this)}P(){if(is(this)){const a=this.La(),b=a.P();return js(a.Oa)===Number.EPSILON?(js(this.Oa)+b)*this.ef:b*this.ef}return this.ef}ug(a){a=+a;if(ks(this)){const b=this.N();this.Ve=0===b?Number.EPSILON:a/b*this.Ve}else this.Ve=a;os(this)}N(){if(ks(this)){const a=this.La(),b=a.N();return ls(a.Oa)===Number.EPSILON?(ls(this.Oa)+b)*this.Ve:b*this.Ve}return this.Ve}Vd(a,b){a=+a;b=+b;if(is(this)){const d=this.P();this.ef=0===d?Number.EPSILON:
a/d*this.ef}else this.ef=a;ks(this)?(a=this.N(),this.Ve=0===a?Number.EPSILON:b/a*this.Ve):this.Ve=b;os(this)}li(){return[this.P(),this.N()]}Wo(){return 0!==(this.G&128)}ad(a){a=+a;this.Wo()&&(0!==(this.G&16384)&&(a-=this.La().Na()),a=ns.Ed(a),this.ab!==a&&(this.ab=a,os(this)))}Na(){return 0!==(this.G&16384)&&this.Wo()?iC(this,ns.Ed(jC(this.La())+this.ab)):this.ab}Dl(){return this.cl}El(){return this.dl}Ne(a){a=ns.$(+a,0,1);if(ps(this)){if(this.Oa.im===a)return;this.Oa.im=a;a=this.nc()}else if(this.Kc.a===
a)return;gc(Yr,this.Kc);Yr.a=a;dC(this);lC(this)}nc(){return ps(this)?this.La().nc()*this.Oa.im:this.Kc.a}XH(){return this.es}zx(){return 0!==(this.G&512)}Zj(a,b){if(a===this||a.rg()||mC(this,a)||nC(this,a))return!1;var d=a.X(),c=a.Y(),e=a.P();const g=a.N(),k=a.Na(),l=a.eb(),n=a.nc();oC(a,this);a.Fb(1024,b.St);a.Fb(2048,b.Tt);a.Fb(4096,b.Wq);a.Fb(8192,b.Vq);a.Fb(16384,b.Pt);a.Fb(32768,b.Ut);a.Fb(4194304,b.Qt);a.Fb(8388608,b.Rt);a.Fb(512,b.Ww);b.St&&(a.ka=d-this.X(),b.Wq&&(d=this.P()/js(this.Oa),0!==
d&&(a.ka/=d)));b.Tt&&(a.aa=c-this.Y(),b.Vq&&(c=this.N()/ls(this.Oa),0!==c&&(a.aa/=c)));b.Wq&&(c=this.P(),0===c||c===Number.EPSILON?(a.ef=1,a.Oa.Cw=1):(a.ef=e/this.P(),a.Oa.Cw=a.ef));b.Vq&&(e=this.N(),0===e||e===Number.EPSILON?(a.Ve=1,a.Oa.Dw=1):(a.Ve=g/this.N(),a.Oa.Dw=a.Ve));b.Pt&&(a.ab=k-this.Na());b.Ut&&(a.wd=l-this.eb());b.Qt&&(a.Oa.im=n);b.Rt&&a.Ah(this.Md());this.Oa.he().push(a);U(this);lC(this);return!0}Il(a){if(a.La()===this){var b=a.X(),d=a.Y(),c=a.P(),e=a.N(),g=a.Na(),k=a.eb(),l=a.nc();
oC(a,null);a.G&=-12647937;Ml(a,b,d);a.Vd(c,e);a.ad(g);a.xg(k);a.Ne(l);b=this.Oa.he();d=b.indexOf(a);-1!==d&&b.splice(d,1);0!==b.length||this.rg()||gC(this);a.jf()||gC(a);U(this)}}rg(){return null!==this.La()}La(){const a=this.Oa;return null!==a?a.La():null}Ro(){let a=this;for(;a.rg();)a=a.La();return a}*ix(){let a=this.La();for(;a;)yield a,a=a.La()}bI(a){return this.he().includes(a)}jf(){const a=this.Oa;return null!==a?a.jf():!1}he(){const a=this.Oa;return null!==a?a.he():SB}children(){return this.he()}*Vj(){for(const a of this.children())yield a,
yield*a.Vj()}oC(){return this.he().length}lC(){return[...this.Vj()].length}nC(a){const b=this.he();a=Math.floor(+a);return 0>a||a>=b.length?null:b[a]}ju(){return this.Kc===OB}Me(a){a|=0;if(0>a||31<a)throw new RangeError("invalid blend mode");this.zl()!==a&&(this.G=this.G&-2080374785|a<<26,fC(this))}zl(){return(this.G&2080374784)>>26}fa(){return this.Bj}zc(){return this.fa().zc()}Fb(a,b){this.G=b?this.G|a:this.G&~a}Md(){return 0!==(this.G&1)}Ah(a){this.Fb(1,a);if(this.jf())for(const b of this.he())0!==
(b.G&8388608)&&b.Ah(a)}ni(){return 0!==(this.G&8)}QI(a,b){this.Fb(32,a);this.Qj&&this.Qj.clear();if(b.trim()){this.Qj||(this.Qj=new Set);for(const d of b.split(" "))d&&this.Qj.add(d.toLowerCase())}else this.Qj=null}IC(a){const b=0!==(this.G&32),d=this.Qj;if(!a||!d)return!b;for(const c of d)if(a.has(c))return b;return!b}XQ(a,b,d){a=Math.floor(a);b=Math.floor(b);var c=d.mode||"absolute";if(!RB.has(c))throw Error("invalid mode");c="relative"===c;let e=d.x,g=d.y;const k=d.vl;let l="number"===typeof d.jW?
d.jW:c?0:-1;d="number"===typeof d.oW?d.oW:c?0:-1;if(!Wy(this))return!1;const n=Xy(this),p=lg(n,a,b);if(null===p)return!1;let r=!1;"number"===typeof k&&p.eb()!==k&&(p.xg(k),r=!0);c&&(e+=a/(n.Yl-1),g+=b/(n.wm-1));-1!==l||c?(c&&(l+=a/(n.Yl-1)),l=ns.$(l,0,1)):l=p.gh;-1!==d||c?(c&&(d+=b/(n.wm-1)),d=ns.$(d,0,1)):d=p.ih;if(p.X()===e&&p.Y()===g&&p.gh===l&&p.ih===d)return r;p.Pg(e);p.Bh(g);p.gh=l;p.ih=d;eC(this);return!0}Sm(){return this.L.Sm()}Px(){return 0!==(this.G&64)}Aa(a){const b={x:this.X(),y:this.Y(),
w:this.P(),h:this.N(),l:this.fa().mb,zi:Ol(this)};0!==this.eb()&&(b.ze=this.eb());0!==this.Na()&&(b.a=jC(this));this.ju()||(b.c=this.Kc.toJSON());.5!==this.Dl()&&(b.oX=this.Dl());.5!==this.El()&&(b.oY=this.El());0!==this.zl()&&(b.bm=this.zl());this.Md()||(b.v=this.Md());this.ni()||(b.ce=this.ni());0!==(this.G&4)&&(b.be=0!==(this.G&4));this.Wf&&(b.fx=this.Wf.Aa());const d=0!==(this.G&32);d&&(b.sfi=d);this.Qj&&(b.sft=[...this.Qj].join(" "));this.Oa&&"visual-state"!==a&&(b.sgi=this.Oa.Aa(a),UB.has(this)&&
(b.sgcd=UB.get(this).gO,b.sgzid=UB.get(this).lP));Wy(this)&&(b.mesh=Xy(this).Ic());return b}Dy(){hC(this);sC(this);pC(this,null);this.Oa&&DB(this.Oa,this.fe,this.pl)}Du(a){"visual-state"!==a&&sC(this)}Pf(a,b="full",d=null){a.hasOwnProperty("sgi")&&"visual-state"!==b&&0===(this.G&256)&&this.Oa.Pf(a.sgi,d)}pJ(a,b="full"){a.hasOwnProperty("sgi")&&"visual-state"!==b&&0===(this.G&256)&&(DB(this.Oa,null,null),hC(this),U(this))}Ba(a,b){TB=!1;this.Pg(a.x);this.Bh(a.y);this.Of(a.w);this.ug(a.h);this.aj=a.zi|
0;this.xg(a.hasOwnProperty("ze")?a.ze:0);this.ad(a.hasOwnProperty("a")?a.a:0);a.hasOwnProperty("c")?pc(Yr,a.c):a.hasOwnProperty("o")?(gc(Yr,this.Kc),Yr.a=a.o):dc(Yr,1,1,1,1);dC(this);this.cl=+(a.hasOwnProperty("oX")?a.oX:.5);this.dl=+(a.hasOwnProperty("oY")?a.oY:.5);this.Me(a.hasOwnProperty("bm")?a.bm:0);this.Ah(a.hasOwnProperty("v")?a.v:!0);uC(this,a.hasOwnProperty("ce")?a.ce:!0);var d=a.hasOwnProperty("be")?a.be:!1;this.Fb(4,d);this.QI(a.hasOwnProperty("sfi")?a.sfi:!1,a.hasOwnProperty("sft")?a.sft:
"");this.Wf&&a.hasOwnProperty("fx")&&this.Wf.Ba(a.fx);if(!a.hasOwnProperty("sgi")&&"visual-state"!==b&&this.fe)for(const c of this.fe)Mq(c)||Fl(this.j,c);a.hasOwnProperty("sgi")&&"visual-state"!==b&&(pC(this,null),d=this.Oa,d.Ba(a.sgi),DB(d,this.fe,this.pl),a.sgcd&&ns.Xb(a.sgzid)&&UB.set(this,{gO:a.sgcd,lP:a.sgzid}));a.hasOwnProperty("mesh")?(d=a.mesh,Ty(this,d.cols,d.rows),Xy(this).pc(d)):Sy(this);U(this);TB=!0;fC(this);"visual-state"!==b&&(b=this.j,d=this.ja(),d.B()&&(b.UE.set(d,a),b.Nz.push(d)))}};
"use strict";const yC=self.D;
yC.pP=class extends yC.Ca{constructor(a,b){super();const d=a.K(),c=d.jm,e=Pv(d,b[1]);if(!c.ZJ.has(e)){const g=Pv(c.j,b[1]);if(!g)throw Error("missing behavior");const k=eA.C(g,{Kg:c.j});k.ac();c.t1.push(k);c.ZJ.set(g,k);!c.lN&&eA.O.Lo&&k instanceof eA.O.Lo?c.lN=k:!c.PL&&eA.O.JV&&k instanceof eA.O.JV&&(c.PL=k)}this.j=d;this.R=a;this.Jk=c.ZJ.get(e)||null;this.sc=null;this.RE=e.Instance;this.mb=b[2];this.Sa=b[0];this.aA=this.j.fk(b[3]);this.sc=yC.C(e.nf,this);this.ac()}static Ka(a,b){return yC.C(yC.pP,
a,b)}A(){this.Jk=this.j=null;this.sc.A();this.RE=this.sc=null}ac(){this.sc.ac()}K(){return this.j}J(){return this.R}Lm(){return this.Jk}ua(){return this.Sa}fk(){return this.aA}};"use strict";const zC=self.D,AC=self.lr;
zC.VB=class extends zC.Ca{constructor(a){super();this.j=a.Kg;this.rd=a.cO;this.Jk=this.rd.Lm();this.L=a.instance;this.xa=a.index;this.Ce=this.oa=null;this.Jk.ri(this.L)}A(){this.Ce&&(this.Ce.yy(),this.Ce=null);this.Jk.Or(this.L);this.oa.A();this.L=this.Jk=this.rd=this.j=this.oa=null}jD(a){if(this.oa)throw Error("already got sdk instance");this.oa=zC.C(this.rd.RE,this,a)}K(){return this.j}qh(){return this.rd}Lm(){return this.Jk}zg(){return this.xa}Ic(a="full"){return this.oa.Ic(a)}pc(a,b="full"){return this.oa.pc(a,
b)}static TI(a,b){var d=a.L,c=b.L;const e=d.J().Ma(),g=c.J().Ma();if(e!==g)return e-g;d=d.TT;c=c.TT;return d!==c?d-c:a.Ry.zg()-b.Ry.zg()}gu(){var a;if(!(a=this.Ce)){const b=(a=this.oa.Jf())||AC;AC.Bk(this);this.Ce=new b;AC.Bk(null);if(a&&!(this.Ce instanceof AC))throw new TypeError(`script interface class '${a.name}' does not extend the right base class '${AC.name}'`);a=this.Ce}return a}};"use strict";const BC=self.D;function Qq(a,b){return a.gE.get(b.toLowerCase())||null}
function CC(a,b){b=Math.floor(+b);if(0>b||b>=a.Fh.length)throw new RangeError("invalid effect type index");return a.Fh[b]}
BC.dr=class extends BC.Ca{constructor(a,b){super();this.Ab=a;this.Fh=[];this.Eh=[];this.gE=new Map;this.Ad=[];this.Uf=[];this.PJ=new Set;this.lw=!0;for(const d of b)a=BC.C(BC.DP,this,d,this.Fh.length),this.Fh.push(a),this.gE.set(a.ua().toLowerCase(),a),3<=d.length&&this.Ad.push(this.nJ(a,d[2]));this.K().MJ.add(this)}A(){this.K().MJ.delete(this);for(const a of this.Uf)a.A();BC.I(this.Uf);BC.I(this.Fh);BC.I(this.Eh);this.gE.clear();BC.I(this.Ad);this.Ab=null}Ml(a){a.Sd()&&(this.Uf=this.Fh.map(b=>{b=
b.Le();return 0<b.WD?BC.C(BC.W.pR,b):null}),this.Eu());for(const b of this.PJ)b.Ml(a)}nJ(a,b){a.Pb=!!b[0];a=b.slice(1);for(let d=0,c=a.length;d<c;++d)if(b=a[d],Array.isArray(b)){const e=BC.C(BC.ub);pc(e,b);a[d]=e}return a}K(){return this.Ab.K()}Dh(){BC.I(this.Eh);let a=!0;for(const b of this.Fh)b.Pb&&(this.Eh.push(b),b.Le().lw||(a=!1));this.lw=a}hi(){return this.Fh}So(a){return CC(this,a).Pb}KI(a,b){CC(this,a).Pb=!!b}Px(){return 0<this.Eh.length}NP(a){return this.Ad[a]}mD(a){return a<this.Uf.length?
this.Uf[a]:this.Ad[a]}MP(a,b){if(0>a||a>=this.Ad.length)return null;a=this.Ad[a];return 0>b||b>=a.length?null:a[b]}ey(a,b,d){if(0>a||a>=this.Ad.length)return!1;const c=this.Ad[a];if(0>b||b>=c.length)return!1;const e=c[b];if(e instanceof BC.ub){if(ic(e,d))return!1;gc(e,d)}else{if(e===d)return!1;c[b]=d}a<this.Uf.length&&Ej(this.Uf[a],b,d);return!0}Eu(){const a=this.Ad,b=this.Uf;for(let d=0,c=Math.min(a.length,b.length);d<c;++d){const e=b[d],g=a[d];for(let k=0,l=g.length;k<l;++k)Ej(e,k,g[k])}}static PQ(a){return a&&
a instanceof BC.ub?{t:"color",v:a.toJSON()}:a}static fQ(a){if(null===a)return NaN;if("object"===typeof a){if("color"===a.t){const b=BC.C(BC.ub);pc(b,a.v);return b}throw Error("invalid effect parameter type");}return a}Ic(){return this.Fh.map(a=>({name:a.ua(),active:a.Pb,params:this.Ad[a.Ma()].map(BC.dr.PQ)}))}pc(a){for(const b of a)if(a=Qq(this,b.name))a.Pb=!!b.active,this.Ad[a.Ma()]=b.params.map(BC.dr.fQ);this.Dh();this.Eu()}};"use strict";const NA=self.D;
NA.DP=class extends NA.Ca{constructor(a,b,d){super();this.Va=a;this.le=b[0];this.Sa=b[1];this.xa=d;this.Nc=null;this.Pb=!0}A(){this.Nc=this.Va=null}Ml(a){a=a.KA.get(this.le)||null;if(!a)throw Error("failed to find shader program '"+this.le+"'");this.Nc=a}ua(){return this.Sa}zJ(a){this.xa=a}Ma(){return this.xa}K(){return this.Va.K()}Le(){return this.Nc}};"use strict";const EC=self.D;
function pB(a){for(const c of a.Va.hi()){var b=a.Ad,d=b.push;const e=[];for(let g=0,k=c.Nc.PP();g<k;++g){const l=c.Nc.Fx(g);if("float"===l||"percent"===l)e.push(0);else if("color"===l)e.push(NA.C(NA.ub,1,1,1,1));else throw new TypeError("unknown effect parameter type");}d.call(b,e)}a.Eu()}
EC.DY=class extends EC.Ca{constructor(a,b){super();this.L=a;this.XU=b;this.Va=a.J().Va;this.qB=this.BM=!0;this.RU=this.TU=this.SU=this.PU=!1;this.Tf=EC.C(EC.W.ng,a.K().ca.oz,{aH:(d,c)=>{c=c.yp;const e=c.B();d.ep(e.XH());ag(d,so(e));c.xl(d);ag(d,0)},xV:d=>{const c=d.PH(),[e,g]=d.OH();return{ZV:c,$V:e,XV:g}},eH:d=>this.mD(d)});this.op=[];this.Eh=[];this.lw=!0;this.Ad=[];this.Uf=[];this.Ml(a.K().Ga());for(let d=0,c=this.Va.hi().length;d<c;++d)this.op.push(!0);this.Dh();this.Va.PJ.add(this)}A(){this.Va.PJ.delete(this);
for(const a of this.Uf)a&&a.A();EC.I(this.Uf);this.Tf.A();this.Tf=null;EC.I(this.op);EC.I(this.Eh);EC.I(this.Ad);this.Va=this.L=null}Ml(a){a.Sd()&&(this.Uf=this.Va.hi().map(b=>{b=b.Le();return 0<b.WD?EC.C(EC.W.pR,b):null}))}nJ(a,b){this.op[a]=b[0];a=b.slice(1);for(let d=0,c=a.length;d<c;++d)if(b=a[d],Array.isArray(b)){const e=EC.C(EC.ub);pc(e,b);a[d]=e}return a}Lg(){this.ty();return this.Tf}K(){return this.L.K()}Dh(){EC.I(this.Eh);const a=this.XU,b=this.Va.hi(),d=this.Eh,c=this.op;let e=!0;for(let g=
0,k=b.length;g<k;++g)if(c[g]){const l=b[g];d.push(l);l.Le().lw||(e=!1)}this.lw=e;a.Fb(64,!!d.length);this.BM=!0}ty(){var a=this.L,b=this.XU;const d=b.ju(),c=a.nb().n2;b=0!==b.Na()||0!==b.fa().Na()||0>b.P()||0>b.N();const e=a.iI();a=a.ur();if(this.BM||d!==this.qB||c!==this.PU||b!==this.SU||e!==this.TU||a!==this.RU||this.Tf.nA)wk(this.Tf,this.Eh.map(g=>g.Le()),{Xw:this.Eh.map(g=>g.Ma()),nO:!d||a,DV:c,iH:e,zO:b}),this.BM=!1,this.qB=d,this.PU=c,this.SU=b,this.TU=e,this.RU=a}NP(a){return this.Ad[a]}mD(a){return a<
this.Uf.length?this.Uf[a]:this.Ad[a]}MP(a,b){if(0>a||a>=this.Ad.length)return null;a=this.Ad[a];return 0>b||b>=a.length?null:a[b]}ey(a,b,d){if(0>a||a>=this.Ad.length)return!1;const c=this.Ad[a];if(0>b||b>=c.length)return!1;const e=c[b];if(e instanceof EC.ub){if(ic(e,d))return!1;gc(e,d)}else{if(e===d)return!1;c[b]=d}a<this.Uf.length&&Ej(this.Uf[a],b,d);return!0}Eu(){const a=this.Ad,b=this.Uf;for(let d=0,c=b.length;d<c;++d){const e=b[d],g=a[d];for(let k=0,l=g.length;k<l;++k)Ej(e,k,g[k])}}So(a){return this.op[a]}KI(a,
b){this.op[a]=!!b}hi(){return this.Va.hi()}Aa(){return this.Va.hi().map(a=>({name:a.ua(),active:this.op[a.Ma()],params:this.Ad[a.Ma()].map(BC.dr.PQ)}))}Ba(a){for(const b of a)if(a=Qq(this.Va,b.name))this.op[a.Ma()]=b.active,this.Ad[a.Ma()]=b.params.map(BC.dr.fQ);this.Dh();this.Eu()}};"use strict";const FC=self.D,GC=[],HC=[],IC=[],JC=FC.C(FC.$q),KC=FC.C(FC.$q),LC=FC.C(FC.yd);FC.C(FC.Rect);FC.C(FC.Rect);let MC=null,NC=null,OC=null;
function uy(a,b,d,c){a=a?1!==a.xf||1!==a.yf:!1;if(b.Ya)for(const e of b.Hp)a||e.Iy?FC.Bm(c,e.za()):(VA(e),e.Yy.TC(d,c));else a||b.Iy?FC.Bm(c,b.za()):(VA(b),b.Yy.TC(d,c))}
function vy(a,b){if(!a||!b||a===b)return!1;a=a.B();b=b.B();if(!a.ni()||!b.ni())return!1;var d=a.fa(),c=b.fa();if(d===c||d.xf===c.xf&&d.yf===c.yf&&d.ne===c.ne&&d.Mj===c.Mj&&d.Qf===c.Qf&&d.vh()===c.vh()&&d.wh()===c.wh())b=PC(a,b);else if(d=a.Sm(),c=b.Sm(),d&&!c)b=QC(a,b);else if(c&&!d)b=QC(b,a);else if(c||d)b=!1;else{c=a.fa();d=b.fa();JC.Ja(bC(a));KC.Ja(bC(b));var e=JC.He;for(let g=0,k=e.length;g<k;g+=2){const l=g+1,n=e[l],[p,r]=zo(c,e[g]+a.X(),n+a.Y());e[g]=p;e[l]=r}a=KC.He;for(let g=0,k=a.length;g<
k;g+=2){c=g+1;e=a[c];const [l,n]=zo(d,a[g]+b.X(),e+b.Y());a[g]=l;a[c]=n}JC.Mn=!0;KC.Mn=!0;b=Rc(JC,KC,0,0)}return b}function zy(a,b,d,c){for(const [e,g]of a.uw){if(b===e)a=g;else if(b===g)a=e;else continue;Hy(a,d)&&(c.includes(a)||c.push(a))}}function Ay(a,b,d){if(!a.uw.length)return!1;for(const [c,e]of a.uw)if(b===c&&d===e||b===e&&d===c)return!0;return!1}function XA(a){return[a.LD,a.KD]}function RC(a,b,d){const c=b.B(),e=d.B();c&&e&&c.ni()&&e.ni()&&a.uw.push([b,d])}
function PC(a,b){if(!Bc(Nl(a),Nl(b))||!Gc($B(a),$B(b))||a.Sm()&&b.Sm())return!1;if(a.Sm())return SC(a,b);if(b.Sm())return SC(b,a);if(!aC(a)&&!aC(b))return!0;const d=bC(a),c=bC(b);return Rc(d,c,b.X()-a.X(),b.Y()-a.Y())}
function SC(a,b,d,c,e,g,k){g=void 0!==g?g:Nl(b);const l=a.X(),n=a.Y();var p=a.ja().oa;d=void 0!==d?d:b.X();c=void 0!==c?c:b.Y();a=aC(b);k=void 0!==k?k:$B(b);p.f8(g,HC);for(let x=0,z=HC.length;x<z;++x){var r=HC[x];p=r.k8();if(!(p.wa+l<g.la||p.ra+n<g.ea||p.la+l>g.wa||p.ea+n>g.ra)&&(LC.lh(p),LC.offset(l,n),Gc(LC,k)))if(a){var w=void 0!==e?e:bC(b);let F=d,C=c;void 0!==e&&(F=b.X(),C=b.Y());if(r=r.WX()){if(Rc(r,w,F-(l+p.la),C-(n+p.ea)))return FC.I(HC),!0}else if(Pc(JC,LC,0,0),Rc(JC,w,F,C))return FC.I(HC),
!0}else if(w=r.WX()){if(Pc(JC,k,0,0),Rc(w,JC,-(l+p.la),-(n+p.ea)))return FC.I(HC),!0}else return FC.I(HC),!0}FC.I(HC);return!1}
function QC(a,b){var d=a.fa(),c=b.fa();MC||(MC=FC.C(FC.$q));NC||(NC=FC.C(FC.Rect));OC||(OC=FC.C(FC.yd));var e=b.X(),g=b.Y();const [k,l]=zo(c,e,g),[n,p]=Mn(d,k,l);d=n-e;g=p-g;NC.Ja(Nl(b));NC.offset(d,g);if(!Bc(Nl(a),NC))return!1;OC.Ja($B(b));OC.offset(d,g);if(!Gc($B(a),OC))return!1;MC.Ja(bC(b));c=MC.He;for(let r=0,w=c.length;r<w;r+=2)e=r+1,c[r]+=d,c[e]+=g;MC.Mn=!0;return SC(a,b,n,p,MC,NC,OC)}
function TC(a,b,d,c){const e=b.ha();var g=a.j.$b();if(!g)throw Error("cannot call outside event");g=g.We;const k=new Map,l=p=>{let r=k.get(p);"undefined"===typeof r&&(r=Hn(p),k.set(p,r));return r};if(e.qb){c||(e.qb=!1,FC.I(e.M));g&&FC.I(e.zb);for(var n of b.za()){const p=n.B(),r=p.fa();a=!1;l(r)&&$w(p)&&(a=d.some(([w,x])=>{const [z,F]=Mn(r,w,x,so(p));return Pl(p,z,F)}));if(a){if(c)return!1;e.M.push(n)}else g&&e.zb.push(n)}}else{n=!1;g?0===a.j.og().qf&&!e.zb.length&&e.M.length?a=e.M:(a=e.zb,n=!0):
a=e.M;let p=0;for(let r=0,w=a.length;r<w;++r){const x=a[r],z=x.B(),F=z.fa();let C=!1;l(F)&&$w(z)&&(C=d.some(([G,J])=>{const [K,O]=Mn(F,G,J,so(z));return Pl(z,K,O)}));if(C){if(c)return!1;n?e.M.push(x):a[p++]=x}else n?a[p++]=x:g&&e.zb.push(x)}c||(a.length=p)}Fv(b);k.clear();return c?!0:Nt(e)}function UC(a,b){var d=b.B(),c=d.fa();d=Nl(d);var e=a.j.ZH();if(e){e=e.uC();for(const g of e)uy(c,g,d,GC)}for(const g of GC)if(a.IC(g,b)&&vy(b,g))return FC.I(GC),g;FC.I(GC);return null}
function VC(a,b,d){let c=null;d&&(c=IC,FC.I(c));var e=b.B(),g=e.fa();e=Nl(e);if(a=a.j.VH()){a=a.uC();for(const k of a)uy(g,k,e,GC)}for(const k of GC)if(0!==(k.G&16)&&vy(b,k))if(d)c.push(k);else return FC.I(GC),k;FC.I(GC);return c}function WC(a,b,d,c,e,g,k){let l=2,n=!1;var p=!1;const r=b.B();let w=r.X(),x=r.Y();for(;l<=g;)p=1/l,l*=2,Fo(r,d*p*(n?1:-1),c*p*(n?1:-1)),U(r),vy(b,e)||k&&UC(a,b)?p=n=!0:(p=n=!1,w=r.X(),x=r.Y());p&&(Ml(r,w,x),U(r))}
function XC(a,b,d,c,e,g,k){e=e||50;const l=b.B(),n=l.X(),p=l.Y();let r=null,w=null;for(let x=0;x<e;++x)if(Ml(l,n+d*x,p+c*x),U(l),!vy(b,r))if(r=UC(a,b))w=r;else if(g&&(r=k?vy(b,k)?k:null:VC(a,b))&&(w=r),!r)return w&&WC(a,b,d,c,w,16,!0),!0;Ml(l,n,p);U(l);return!1}
function YC(a,b,d,c,e){e=e||50;const g=b.B(),k=g.X(),l=g.Y();let n=null,p=null;for(let r=0;r<e;++r)for(let w=0;2>w;++w){const x=2*w-1;Ml(g,k+d*r*x,l+c*r*x);U(g);if(!vy(b,n))if(n=UC(a,b))p=n;else return p&&WC(a,b,d*x,c*x,p,16,!0),!0}Ml(g,k,l);U(g);return!1}
function ZC(a,b,d=100){let c=0;const e=b.B(),g=e.X(),k=e.Y();let l=0,n=UC(a,b);if(!n)return!0;for(;c<=d;){let p=0,r=0;switch(l){case 0:p=0;r=-1;c++;break;case 1:p=1;r=-1;break;case 2:p=1;r=0;break;case 3:r=p=1;break;case 4:p=0;r=1;break;case 5:p=-1;r=1;break;case 6:p=-1;r=0;break;case 7:r=p=-1}l=(l+1)%8;Ml(e,Math.floor(g+p*c),Math.floor(k+r*c));U(e);if(!vy(b,n)&&(n=UC(a,b),!n))return!0}Ml(e,g,k);U(e);return!1}function $C(a,b,d){a.LD=b;a.KD=d}
FC.VW=class extends FC.Ca{constructor(a){super();this.j=a;this.KD=this.LD=0;this.uw=[];new self.kY(this)}A(){this.j=null}K(){return this.j}IC(a,b){return 0!==(a.G&8)&&(!b||b.B().IC(a.ki().get("solidTags")))}TQ(a,b){if(a!==this.LD||b!==this.KD){this.LD=a;this.KD=b;var d=this.j.qd;for(const g of d)if(g.$d){for(const k of al(g))tC(k.B());d=g.Yy;var c=a,e=b;if(!d.xj.nk())throw Error("grid not empty");d.JD=c;d.ID=e;g.Hy=!1;for(const k of al(g))d=k.B(),d.G|=16,WA(d)}}}};"use strict";const aD=self.D;
aD.d0=class extends aD.Ca{constructor(a,b){super();this.JD=a;this.ID=b;this.xj=aD.C(aD.Xx)}A(){this.xj.A();this.xj=null}Po(a,b,d){let c=this.xj.ba(a,b);return c?c:d?(c=aD.C(aD.dY,this,a,b),this.xj.Set(a,b,c),c):null}wk(a){a=Math.floor(a/this.JD);return isFinite(a)?a:0}xk(a){a=Math.floor(a/this.ID);return isFinite(a)?a:0}fn(a,b,d){if(b)for(let c=b.la,e=b.wa;c<=e;++c)for(let g=b.ea,k=b.ra;g<=k;++g){if(d&&d.jh(c,g))continue;const l=this.Po(c,g,!1);l&&(l.xh(a),l.nk()&&this.xj.br(c,g))}if(d)for(let c=
d.la,e=d.wa;c<=e;++c)for(let g=d.ea,k=d.ra;g<=k;++g)b&&b.jh(c,g)||this.Po(c,g,!0).gI(a)}TC(a,b){let d=this.wk(a.la);const c=this.xk(a.ea),e=this.wk(a.wa);a=this.xk(a.ra);if(isFinite(e)&&isFinite(a))for(;d<=e;++d)for(let g=c;g<=a;++g){const k=this.Po(d,g,!1);k&&k.LH(b)}}};"use strict";const bD=self.D;bD.dY=class extends bD.Ca{constructor(a,b,d){super();this.ka=b;this.aa=d;this.M=bD.C(bD.AH)}A(){this.M.A();this.M=null}nk(){return this.M.nk()}gI(a){this.M.Tb(a)}xh(a){this.M.br(a)}LH(a){bD.Bm(a,Vc(this.M))}};
"use strict";const cD=self.D;cD.jba=class{constructor(){this.dy=this.dx=this.y2=this.x2=this.y1=this.x1=0;this.rect=new cD.Rect;this.bi=0}Yb(){}Set(a,b,d,c){this.x1=a;this.y1=b;this.x2=d;this.y2=c;this.dx=d-a;this.dy=c-b;this.rect.set(a,b,d,c);this.rect.normalize();this.bi=0;return this}};"use strict";const mo=self.D,dD=new Set("off crop scale-inner scale-outer letterbox-scale letterbox-integer-scale".split(" ")),eD=new Set(["high","low"]),fD=self.cj.tl;fD.create();const gD=mo.C(mo.yd),fg=mo.C(mo.Rect);
async function up(a,b,d=!1){if(1>b)throw Error("invalid HTML layer count");if(a.Ag.length!==b){d={count:b,immediate:d,marginLeft:a.rn,marginTop:a.sn,styleWidth:a.sd,styleHeight:a.fd};d=a.Ld()?await Wk(a.j,"canvas","set-html-layer-count",d):self.c3_runtimeInterface._OnSetHTMLLayerCount(d);if(b<a.Ag.length)a.Ag.length=b;else for(const c of d.addedCanvases){c.width=a.Tg;c.height=a.Sg;b=hD(a)?"bitmaprenderer":"2d";d=c.getContext(b);if(!d)throw Error(`failed to acquire '${b}' canvas context`);a.Ag.push({canvas:c,
lV:d})}a.j.qa()}}function iD(a,b,d){a.$N=b;a.YN=d}async function jD(a){await a.ff.MC();await a.Ml();await kD(a.j);console.log("[Construct] WebGL context restored")}async function lD(a,b){b={powerPreference:a.$K,depth:a.j.Yi,failIfMajorPerformanceCaveat:b,nW:a.j.Ft,hV:a.j.JU,vB:a.j.ON};a.Zh=mo.C(mo.W.S0,{JO:a.$N,mO:a.YN});await a.Zh.Ka(a.Ag[0].canvas,b)}function mD(a,b){b&&"string"===typeof b.message&&b.message.startsWith("renderer-unavailable")||console.error(`Error creating ${a} renderer: `,b)}
async function nD(a,b){b={powerPreference:a.$K,sV:!0,depth:a.j.Yi,vB:a.j.ON,failIfMajorPerformanceCaveat:b,JO:a.$N,mO:a.YN};a.ZS&&(b.LV=1);"standard"===a.j.PD?b.alpha=!0:(b.alpha=!1,b.CO=!0);a.ff=mo.C(mo.W.N0,a.Ag[0].canvas,b);await a.ff.mr()}async function oD(a){await a.Ml();await kD(a.j);console.log("[Construct] WebGPU device restored")}
async function pD(a){if(a.jG){const b=[];for(const [d,c]of Object.entries(a.jG))c.src=c.p5,b.push(a.Zh.eC(Object.assign({Vt:mo.W.gD.du(),name:d},c)));await Promise.all(b)}}
async function qD(a){if(a.jG){const b=[];for(const [d,c]of Object.entries(a.jG)){let e;if(c.zV&&2<=a.ff.Zc)c.src=c.zV,e=Qg();else{if(!c.yV)throw Error(`shader '${d}' does not support WebGL 1`);c.src=c.yV;e=mo.W.fD.du()}b.push(a.ff.eC(Object.assign({Vt:e,name:d},c)))}await Promise.all(b);a.ff.Un=null;Xf(a.ff)}a.ff.Ch()&&(a.CE=mo.C(mo.W.nR,a.ff))}function rD(a){return a.Js?a.kS:a.rC()}function sD(a,b){if(!dD.has(b))throw Error("invalid fullscreen mode");a.yS=b;a=a.j.ib;Kp(a);Lp(a)}
function tD(a,b){if(!eD.has(b))throw Error("invalid fullscreen scaling quality");a.VN=b;Kp(a.j.ib)}function uD(a){switch(a){case 0:return"off";case 1:return"crop";case 2:return"scale-inner";case 3:return"scale-outer";case 4:return"letterbox-scale";case 5:return"letterbox-integer-scale";default:throw Error("invalid fullscreen mode");}}function vD(a,b){const d=a.fd,c=a.sd/2,e=d/2;b.an(a.xK);a=Uf(b,c,e,b.If(d),c,e,d);b.xu(a)}
function hD(a){return"undefined"!==typeof OffscreenCanvas&&a.Ag[0].canvas instanceof OffscreenCanvas&&("Chromium"!==mo.Z.ei||124<=mo.Z.sP)}function*wD(a){for(const b of Jp(a.j.ib))for(const d of b.Pc){const c=a.YL.get(d);c&&(yield c)}}
function xD(a){if(isNaN(a.Bz)&&(a.Bz=Nh(a.CE,a.Op,a.Jh),!isNaN(a.Bz))){if(a.j.Ib)for(var b of wD(a))if(b.XG=Nh(b.gP,a.Op,a.Jh),isNaN(b.XG))return;Oh(a.CE,a.Jh);a.Np=Math.min(a.Bz,1);if(a.j.Ib){const c=new Map;for(const e of wD(a))Oh(e.gP,a.Jh),e.BO=Math.min(e.XG,1),c.set(e.Kt,e.BO);for(var d of wD(a))b=d.Kt,b=(c.get(b)||0)-b.bf.reduce((e,g)=>e+(c.get(g)||0),0),d.KV=mo.$(b,0,1);d=a.Np-a.j.Vb().bg.reduce((e,g)=>e+(c.get(g)||0),0);self.fi.D0(mo.$(d,0,1),a.Np,[...wD(a)])}a.Op=a.Jh;a.Jh=0}}
function yD(a){if(0!==a.Jh){for(var b=a.Op;b<a.Jh;++b){var d=a.QG.get(b);if(d&&!d.Qx())return}b=a.j.Vb();d=mo.cZ(b.Pc.length+1);var c=0;for(let g=a.Op;g<a.Jh;++g){var e=a.QG.get(g);if(!e)continue;e=e.Ix();let k=BigInt(0),l=BigInt(0);const n=BigInt(0);for(let p=0,r=Math.min(d.length,e.length/2);p<r;++p){const w=e[2*p],x=e[2*p+1];w!==n&&(k===n||w<k)&&(k=w);x>l&&(l=x);d[p]+=Number(x-w)/1E9}c+=Number(l-k)/1E9}a.Np=mo.$(c,0,1);if(a.j.Ib){c=b.Pc;const g=new Map;for(let l=0,n=Math.min(c.length,d.length-
1);l<n;++l)g.set(c[l],d[l+1]);d=[];const k=new Map;for(const [l,n]of g)c=[...$n(l)].reduce((p,r)=>p+(g.get(r)||0),0),k.set(l,c),d.push({name:l.ua(),KV:mo.$(n,0,1),BO:mo.$(c,0,1)});b=a.Np-b.bg.reduce((l,n)=>l+(k.get(n)||0),0);self.fi.D0(mo.$(b,0,1),a.Np,d)}for(b=a.Op;b<a.Jh;++b)a.QG.delete(b);a.Op=a.Jh;a.Jh=0}}
function zD(a){if(a.mG){var b=a.Ag[0].canvas,d=a.kU,c=mo.$(Math.floor(d.la),0,b.width),e=mo.$(Math.floor(d.ea),0,b.height),g=d.width();g=0===g?b.width-c:mo.$(Math.floor(g),0,b.width-c);d=d.height();d=0===d?b.height-e:mo.$(Math.floor(d),0,b.height-e);if((0!==c||0!==e||g!==b.width||d!==b.height)&&0<g&&0<d){const k=mo.oh(g,d);k.getContext("2d").drawImage(b,c,e,g,d,0,0,g,d);b=k}mo.YB(b,a.mG,a.kN).then(k=>{a.QA&&URL.revokeObjectURL(a.QA);a.QA=URL.createObjectURL(k);a.PA=null;a.lU(a.QA)});a.mG="";a.kN=
1}}async function AD(a){var b=(new URL("splash-images/splash-logo.svg",a.j.dN)).toString();b=await mo.Km(b);b=await BD(a.j,b);return await a.Ga().nx(b,{JB:"high"})}async function CD(a,b){b=(new URL(b,a.j.dN)).toString();b=await mo.Km(b);return await a.Ga().nx(b,{JB:"high"})}
function DD(a,b){const d=a.Ga();2===b?(a.Sh=mo.C(mo.W.DI,a.Ga()),wh(a.Sh),xh(a.Sh),zh(a.Sh),Ah(a.Sh),a.Sh.Vd(300,200)):0===b?(b=a.j.Qs)&&b.Vm(d).catch(c=>console.warn("[C3 runtime] Failed to create texture for loading logo: ",c)):4===b&&(AD(a).then(c=>{"done"===a.ml?d.fj(c):a.eh.IB=c}).catch(c=>console.warn("Failed to load splash image: ",c)),CD(a,"splash-images/splash-poweredby-512.png").then(c=>{"done"===a.ml?d.fj(c):a.eh.MB=c}).catch(c=>console.warn("Failed to load splash image: ",c)),CD(a,"splash-images/splash-website-512.png").then(c=>
{"done"===a.ml?d.fj(c):a.eh.RB=c}).catch(c=>console.warn("Failed to load splash image: ",c)))}function ED(a){ed(a.j,"runtime","hide-cordova-splash")}function FD(a){if(-1!==a.zf){var b=a.Ga();b.bn();a.zf=-1;var d=a.j.pb.dL,c=a.j.Xv;3!==c&&(vD(a,b),b.gi(0,0,0,0),ji(b),Xf(b),b.te(null));if(0===c)GD(a,d);else if(1===c)HD(a,d,120,0);else if(2===c)ID(a,d);else if(3!==c)if(4===c)JD(a,d);else throw Error("invalid loader style");b.Oo();a.zf=requestAnimationFrame(()=>FD(a))}}
function KD(a){a.hA=Date.now();a.j.sb().addEventListener("loadingprogress",a.gM);a.zf=requestAnimationFrame(()=>FD(a));3!==a.j.Xv&&ED(a)}
async function LD(a){const b=a.Ga();a.gq=1;const d=a.j.Xv;4===d&&await a.mU;a.pN=null;a.mU=null;-1!==a.zf&&(cancelAnimationFrame(a.zf),a.zf=-1);a.j.sb().removeEventListener("loadingprogress",a.gM);a.gM=null;a.Sh&&(a.Sh.A(),a.Sh=null);var c=a.j;c.Qs&&(c.Qs.qk(),c.Qs.A(),c.Qs=null);b.bn();a.eh.IB&&(b.fj(a.eh.IB),a.eh.IB=null);a.eh.MB&&(b.fj(a.eh.MB),a.eh.MB=null);a.eh.RB&&(b.fj(a.eh.RB),a.eh.RB=null);b.gi(0,0,0,0);b.Oo();a.ml="done";a.Op=b.Vf;3===d&&ED(a)}
function GD(a,b){const d=a.Ga();var c=a.j.Qs;if(c)if(c=c.oc()){var e=c.P(),g=c.N(),k=a.sd/2,l=a.fd/2,n=e/2;g/=2;var p=k-n,r=l-g;k+=n;l+=g;gD.set(p,r,k,r,k,l,p,l);d.te(c);d.yd(gD);HD(a,b,e,g+16)}else HD(a,b,120,0);else HD(a,b,120,0)}function HD(a,b,d,c){const e=a.Ga();e.rk(e.SA);b?e.tg(1,0,0,1):e.tg(.118,.565,1,1);b=a.sd/2;const g=a.fd/2,k=d/2;tc(fg,b-k,g-4+c,Math.floor(d*a.gq),8);e.Rect(fg);tc(fg,b-k,g-4+c,d,8);fg.offset(-.5,-.5);xc(fg,.5,.5);e.tg(0,0,0,1);eg(e);xc(fg,1,1);e.tg(1,1,1,1);eg(e)}
function ID(a,b){b?(b=a.Sh,ec(jh,1,0,0),b.ep(jh)):(b=a.Sh,ec(jh,.6,.6,.6),b.ep(jh));a.Sh.$Q(Math.round(100*a.gq)+"%");var d=a.sd/2,c=a.fd/2;b=d-150;var e=c-100;d+=150;c+=100;gD.set(b,e,d,e,d,c,b,c);b=a.Ga();b.te(a.Sh.oc());b.Zm(gD,a.Sh.jr())}
function JD(a,b){const d=a.Ga(),c=a.eh.IB,e=a.eh.MB,g=a.eh.RB,k=Date.now();0===a.rN&&(a.hA=k);const l=a.j.Vo()||a.j.s2&&!MD(a.j),n=l?0:200,p=l?0:3E3;let r=1;"fade-in"===a.ml?r=Math.min((k-a.hA)/300,1):"fade-out"===a.ml&&(r=Math.max(1-(k-a.qN)/300,0));d.rk(d.SA);d.tg(.231*r,.251*r,.271*r,r);fg.set(0,0,a.sd,a.fd);d.Rect(fg);const w=Math.ceil(a.sd),x=Math.ceil(a.fd);let z;256<a.fd?(d.tg(.302*r,.334*r,.365*r,r),z=Math.max(.005*x,2),tc(fg,0,.8*x-z/2,w,z),d.Rect(fg),b?d.tg(r,0,0,r):d.tg(.161*r,.953*r,.816*
r,r),b=w*a.gq,tc(fg,.5*w-b/2,.8*x-z/2,b,z),d.Rect(fg),d.tg(r,r,r,r),Xf(d),e&&(b=1.5*mo.$(.22*x,105,.6*w),z=b/8,tc(fg,.5*w-b/2,.2*x-z/2,b,z),d.te(e),d.Rect(fg)),c&&(z=b=Math.min(.395*x,.95*w),tc(fg,.5*w-b/2,.485*x-z/2,b,z),d.te(c),d.Rect(fg)),g&&(b=1.5*mo.$(.22*x,105,.6*w),z=b/8,tc(fg,.5*w-b/2,.868*x-z/2,b,z),d.te(g),d.Rect(fg))):(d.tg(.302*r,.334*r,.365*r,r),z=Math.max(.005*x,2),tc(fg,0,.85*x-z/2,w,z),d.Rect(fg),b?d.tg(r,0,0,r):d.tg(.161*r,.953*r,.816*r,r),b=w*a.gq,tc(fg,.5*w-b/2,.85*x-z/2,b,z),d.Rect(fg),
d.tg(r,r,r,r),Xf(d),c&&(z=b=.55*x,tc(fg,.5*w-b/2,.45*x-z/2,b,z),d.te(c),d.Rect(fg)));a.rN++;"fade-in"===a.ml&&300<=k-a.hA&&2<=a.rN&&(a.ml="wait",a.nU=k);"wait"===a.ml&&k-a.nU>=p&&1<=a.gq&&(a.ml="fade-out",a.qN=k);("fade-out"===a.ml&&k-a.qN>=300+n||l&&1<=a.gq&&500>k-a.hA)&&a.pN()}
mo.UW=class extends mo.Ca{constructor(a){super();this.j=a;this.Ag=[];this.bT=!1;this.Zh=this.ff=null;this.$K="high-performance";this.ZS=!1;this.zm=this.Am=0;this.TD="";this.sn=this.rn=this.Sg=this.Tg=this.fd=this.sd=0;this.It="normalized";this.uS=0;this.$N=1;this.YN=1E4;this.ss=!0;this.Nd=this.Xd=this.uU=0;this.kS=this.yS="letterbox-scale";this.xK=fD.create();this.Gi=this.VN="high";this.Js=!1;this.Ku=[];this.lB=new Set;this.jG=self.C3_Shaders;this.oz=mo.C(mo.W.lX,{vV:()=>[this.Bl(),this.Al()],wV:()=>
{const b={tc:this.j.ic};"low"===this.Gi&&(b.width=this.Bl(),b.height=this.Al());return this.xx(b)},SV:b=>{this.zr(b)},getTime:()=>Vk(this.K()),RV:()=>this.K().qa()});this.Jh=this.Op=0;this.Np=NaN;this.CE=null;this.YL=new Map;this.Bz=NaN;this.QG=new Map;this.mG="";this.kN=1;this.kU=mo.C(mo.Rect);this.QA="";this.lU=this.PA=null;this.hA=0;this.zf=-1;this.gq=0;this.gM=b=>this.gq=b.progress;this.Sh=null;this.eh={IB:null,MB:null,RB:null};this.qN=this.nU=this.rN=0;this.ml="fade-in";this.pN=null;this.mU=
new Promise(b=>this.pN=b)}async oh(a){var b=a.canvas;this.Ag.push({canvas:b,lV:null});Pz(this.j,"runtime","window-resize",c=>this.uJ(c));Pz(this.j,"runtime","fullscreenchange",c=>{this.Js=!!c.isFullscreen;this.Vd(c.innerWidth,c.innerHeight,!0);this.j.qa()});Pz(this.j,"runtime","fullscreenerror",c=>{this.Js=!!c.isFullscreen;this.Vd(c.innerWidth,c.innerHeight,!0);this.j.qa()});b.addEventListener("webglcontextlost",c=>{console.log("[Construct] WebGL context lost");c.preventDefault();this.Ku=[];this.lB.clear();
this.oz.Td();this.ff.Td();this.j.pD()});b.addEventListener("webglcontextrestored",()=>jD(this));this.Js=!!a.isFullscreen;this.TD=a.cssDisplayMode;var d=navigator.gpu&&this.bT;b=!1;if(d)try{await lD(this,!0)}catch(c){mD("WebGPU",c),this.Zh=null}if(!this.Ga())try{await nD(this,!0)}catch(c){mD("WebGL",c),this.ff=null}this.Ga()||(b=!0);if(!this.Ga()&&d)try{await lD(this,!1)}catch(c){mD("WebGPU",c),this.Zh=null}if(!this.Ga())try{await nD(this,!1)}catch(c){mD("WebGL",c),this.ff=null}d=this.Ga();if(!d)throw Error("failed to acquire a renderer - check WebGL or WebGPU is supported");
d.eL=!!b;this.Zh&&(this.Zh.NO=()=>{console.log("[Construct] WebGPU device lost");this.Ku=[];this.lB.clear();this.oz.Td();this.j.pD()},this.Zh.OO=()=>oD(this));"normalized"===this.It?d.It=!1:(d.It=!0,d.LI(this.uS));this.Vd(a.windowInnerWidth,a.windowInnerHeight,!0);await this.Ml()}async Ml(){this.Zh?await pD(this):this.ff&&await qD(this);const a=this.Ga();a.NI(this.ss);a.Ch()&&(this.Np=0);for(const b of this.j.MJ){for(const d of b.hi())d.Ml(a);b.Ml(a);b.Dh()}}A(){this.ff=this.j=null;this.Ag.length=
0}Ld(){return this.j.Ld()}uJ(a){const b=this.j;if(null===b.Bd){var d=a.devicePixelRatio;this.Ld()&&(self.devicePixelRatio=d);null===b.Bd&&(b.Ul=d);this.Js=!!a.isFullscreen;this.TD=a.cssDisplayMode;this.Vd(a.innerWidth,a.innerHeight);b.qa();d=new mo.Event("window-resize");d.data=a;rd(b.sb(),d);a=new mo.Event("resize");a.Bga=this.sd;a.Aga=this.fd;a.Mga=this.Tg;a.Lga=this.Sg;b.ph(a);b.Ib&&(su(b)||self.fi.c9())&&b.Cr()}}Vd(a,b,d=!1){a=Math.floor(a);b=Math.floor(b);if(0>=a||0>=b)throw Error("invalid size");
if(this.Am!==a||this.zm!==b||d){this.Am=a;this.zm=b;d=rD(this);if("letterbox-scale"===d){var c=this.j.Om(),e=this.j.Oi,g=this.j.Ni,k=e/g;a/b>k?(this.sd=Math.round(b*k),this.fd=b,this.rn=Math.floor((a-this.sd)/2),this.sn=0):(this.sd=a,this.fd=Math.round(a/k),this.rn=0,this.sn=Math.floor((b-this.fd)/2));this.Tg=Math.round(this.sd*c);this.Sg=Math.round(this.fd*c);ND(this.j,e,g)}else"letterbox-integer-scale"===d?(c=this.j.Om(),1!==c&&(a+=1,b+=1),e=this.j.Oi,g=this.j.Ni,k=e/g,k=a/b>k?b*k*c/e:a/k*c/g,1<
k?k=Math.floor(k):1>k&&(k=1/Math.ceil(1/k)),this.Tg=Math.round(e*k),this.Sg=Math.round(g*k),this.sd=this.Tg/c,this.fd=this.Sg/c,this.rn=Math.max(Math.floor((a-this.sd)/2),0),this.sn=Math.max(Math.floor((b-this.fd)/2),0),ND(this.j,e,g)):"off"===d?(c=this.j.Om(),this.sd=this.j.jg,this.fd=this.j.df,this.Tg=Math.round(this.sd*c),this.Sg=Math.round(this.fd*c),this.Js?(this.rn=Math.floor((a-this.sd)/2),this.sn=Math.floor((b-this.fd)/2)):this.sn=this.rn=0,ND(this.j,this.j.jg,this.j.df)):(c=this.j.Om(),this.sd=
a,this.fd=b,this.Tg=Math.round(this.sd*c),this.Sg=Math.round(this.fd*c),this.sn=this.rn=0,a=this.ek(),ND(this.j,this.sd/a,this.fd/a));"high"===this.VN?(this.Xd=this.Tg,this.Nd=this.Sg,this.Gi="high"):("off"===rD(this)?(a=this.j.jg,b=this.j.df):(a=this.j.Oi,b=this.j.Ni),this.Tg<a||this.Sg<b?(this.Xd=this.Tg,this.Nd=this.Sg,this.Gi="high"):(this.Xd=a,this.Nd=b,this.Gi="low","scale-inner"===d?(d=a/b,a=this.Am/this.zm,a<d?this.Xd=this.Nd*a:a>d&&(this.Nd=this.Xd/a)):"scale-outer"===d&&(d=a/b,a=this.Am/
this.zm,a>d?this.Xd=this.Nd*a:a<d&&(this.Nd=this.Xd/a))));for(var {canvas:l}of this.Ag)l.width=this.Tg,l.height=this.Sg;ed(this.j,"canvas","update-size",{marginLeft:this.rn,marginTop:this.sn,styleWidth:this.sd,styleHeight:this.fd,displayScale:this.ek()});l=this.Ga();l.Vd(this.Tg,this.Sg,!0);for(var n of this.Ku)l.BP(n);mo.I(this.Ku);Sf(l,this.xK,this.Bl()/this.Al());n=this.j.ib;Kp(n);Lp(n)}}K(){return this.j}rC(){return this.yS}Bl(){return this.Xd}Al(){return this.Nd}NI(a){this.ss=!!a}Nx(){return this.ff}kr(){return this.Zh}Ga(){return this.Zh||
this.ff}Gx(){return"low"===this.Gi?1/this.j.Om():this.ek()}ek(){const a=rD(this);if("off"===a||"crop"===a)return 1;const b=this.j.Oi,d=this.j.Ni,c=b/d,e=this.Tg/this.Sg;return"scale-inner"!==a&&e>c||"scale-inner"===a&&e<c?this.fd/d:this.sd/b}Bx(){return"low"===this.Gi?1:this.ek()}Ax(){return"low"===this.Gi?1:this.j.Om()}Mm(){return this.rn}Nm(){return this.sn}Dx(){return this.Ag.length}xx(a){a.depth=this.j.Yi;const b=this.Ku,d=b.findIndex(e=>e.WP(a));let c;-1!==d?(c=b[d],b.splice(d,1)):c=this.Ga().zP(a);
this.lB.add(c);return c}zr(a){if(!this.lB.has(a))throw Error("render target not in use");this.lB.delete(a);this.Ku.push(a)}sC(){return this.Np}dR(a,b,d,c,e,g){this.mG=a;this.kN=b;tc(this.kU,d,c,e,g);return this.PA?this.PA:this.PA=new Promise(k=>{this.lU=k})}};"use strict";const Y=self.D,OD=self.fi,PD={messagePort:null,runtimeBaseUrl:"",headless:!1,hasDom:!0,isInWorker:!1,useAudio:!0,projectData:"",exportType:""};let QD=!0;
function ed(a,b,d,c){a.kA.postMessage({type:"event",component:b,handler:d,data:c,responseId:null},void 0)}function Uk(a,b){return b&&-1!==b.de?a.qs*b.de:a.mz}function Vk(a){return a.AE.ba()}function Wk(a,b,d,c){const e=a.L2++,g=new Promise((k,l)=>{a.sA.set(e,{resolve:k,reject:l})});a.kA.postMessage({type:"event",component:b,handler:d,data:c,responseId:e},void 0);return g}
function cl(a,b,d,c,e,g,k){if(k&&a.Si){const l=mt(a.Si,b,k);if(l)return b=Eo(a,l,d,!1,c,e,!1,g,void 0,g),nt(a.Si,b,k),b}return Eo(a,b,d,!1,c,e,!1,g,void 0,g)}function gl(a){if(a.EE){for(const b of a.Sp){const d=b.J();d.ri(b);for(const c of d.Ci)c.ri(b),c.Cs=!0}Y.I(a.Sp);a.Wb.uu(!0);for(const [b,d]of a.VE.entries())RD(a,b,d),d.clear();a.VE.clear();a.Wb.uu(!1);a.EE=!1;a.qa()}}
function Fl(a,b){if(!a.Is.has(b)){var d=b.J(),c=a.VE.get(d);if(c){if(c.has(b))return;c.add(b)}else c=new Set,c.add(b),a.VE.set(d,c);a.Ib&&OD.P8(b);b.oJ();a.EE=!0;if(b.Hc())for(const e of b.vd)Fl(a,e);for(const e of b.children())e.zx()&&Fl(a,e);0<a.ib.Ks||a.zj||(d=a.Ea(),dl(d,!0),b.j.na(b.nb().constructor.H.wZ,b,null),dl(d,!1));a=0<a.ib.Ks;b.Ce&&(d=new El.Event("destroy"),d.n4=a,b.ph(d));if(fB(b,"instancedestroy")){d=b.J();c=new El.Event("instancedestroy");c.instance=bl(b);c.n4=a;d.ph(c);for(const e of d.Ci)e.ph(c);
b.j.ph(c)}}}function Cn(a,b){b=Math.floor(b);if(0>b||b>=a.qd.length)throw new RangeError("invalid index");return a.qd[b]}
function Eo(a,b,d,c,e,g,k,l,n,p){var r=null;let w=null;b instanceof Y.LC?(w=b,w.Ya&&(r=w.Hp,w=r[Math.floor(a.rw()*r.length)]),r=w.ns):(r=b,w=Cn(a,r[1]));b=w.nb().$d;if(a.Xk&&b&&!w.KL)return null;const x=d;b||(d=null);var z=c&&!k&&r&&!a.Hs.has(r[2])?r[2]:a.pA++;const F=r?r[0]:null,C=Y.C(Y.Instance,{Kg:a,MO:w,Kt:d,pW:F,CV:r?r[3]:null,uid:z});a.Hs.set(z,C);z=null;b&&(z=C.B(),"undefined"!==typeof e&&"undefined"!==typeof g&&(z.Pg(e),z.Bh(g)),w.Hy=!0);if(d){p||d.ri(C,!0);if(1!==d.xf||1!==d.yf)w.Iy=!0;fp(d.zc(),
w)}a.GM++;let G=!0;n&&(n=n.J(),n.Hc()&&w.Hc()&&w.Ih===n.Ih&&(G=!1));if(w.Hc()&&!c&&!k&&G){for(var J of w.Ih.gm)J!==w&&(n=Eo(a,J,x,!1,z?z.X():e,z?z.Y():g,!0,!1,void 0,p),C.vd.push(n));for(var K of C.vd){K.vd.push(C);for(const O of C.vd)K!==O&&K.vd.push(O)}}b&&!c&&l&&SD(a,C,F,z,d,e,g,p);if(w.Hc()&&!c&&!k&&l)for(const O of C.vd)if(c=O.B())J=O.nb(),K=O.J().ns[0],J.$d?SD(a,O,K,c,d,c.X(),c.Y(),p):SD(a,O,K,c,d,void 0,void 0,p);!k&&l&&("undefined"===typeof e&&(e=F[0]),"undefined"===typeof g&&(g=F[1]),d=z.Ro(),
e=e-z.X()+d.X(),g=g-z.Y()+d.Y(),Ml(d,e,g));w.Cs=!0;g=r?Y.hO(r[5]):null;r=r?r[4].map(O=>Y.hO(O)):null;b&&F&&F[13]&&(C.G|=2);C.jD(g,r);a.Sp.push(C);a.EE=!0;a.Ib&&OD.O8(C);return C}function Bo(a){return a.wn.length?a.wn.at(-1):a.Vb()}function lo(a){return a.Ib&&a.Ga().Ch()&&lo(OD)}function mp(a,b){return a.FM.get(b)||null}function np(a){a.Hs.clear();for(const b of a.qd)if(!b.Ya)for(const d of b.za())a.Hs.set(d.Sb,d)}function TD(a,b){return"low"===a.ca.Gi||b.lj()&&(a.Ft||a.Yi)}
function Lq(a,b){if(a.zj)throw Error("cannot call while loading state - wait until afterload event");return a.Hs.get(b)||null}function mu(a){if(!a.wn.length)throw Error("layout stack empty");a.wn.pop()}function ou(a,b){return a.Xf?ou(OD,b):Promise.resolve()}function su(a){return a.Ib?su(OD):!1}function cv(a){return a.Ib&&cv(OD)}function qv(a){return a.Xf?OD.G6():!1}function Kv(a,b){b?a.wK--:a.wK++;a.Xf=a.Ib&&a.I1&&0===a.wK}
function Pv(a,b){b=Math.floor(b);a=a.OF;if(0>b||b>=a.length)throw Error("invalid object reference");return a[b]}function*Gy(a,b){for(const d of a.Sp)b.Ya?pz(d.J(),b)&&(yield d):d.J()===b&&(yield d)}function zz(a){a.UE=new WeakMap;Y.I(a.Nz)}function Az(a,b="full",d=null){a.Nz.sort(a.c0);for(const c of a.Nz)c.Pf(a.UE.get(c),b,d);for(const c of a.Nz)c.pJ(a.UE.get(c),b,d);zz(a)}
function Pz(a,b,d,c){let e=a.CK.get(b);e||(e=new Map,a.CK.set(b,e));if(e.has(d))throw Error(`[Runtime] Component '${b}' already has handler '${d}'`);e.set(d,c)}function qB(a,b,d){d?a.Fv.has(b)||(d=Y.C(Y.ou),d.JH(a.AE),a.Fv.set(b,d)):a.Fv.delete(b)}function ND(a,b,d){if(a.jg!==b||a.df!==d)a.jg=b,a.df=d,a=a.ib,Kp(a),Lp(a)}async function kD(a){await dp(a.Vb(),null,a.Ga());a.Wb.dispatchEvent(Y.C(Y.Event,"renderercontextrestored"));UD(a,!1);a.qa()}
async function BD(a,b){var d=d||2048;var c=c||2048;return a.Ld()?(await Wk(a,"runtime","raster-svg-image",{blob:b,imageWidth:2048,imageHeight:2048,surfaceWidth:d,surfaceHeight:c,imageBitmapOpts:void 0})).imageBitmap:await self.C3_RasterSvgImageBlob(b,2048,2048,d,c)}function MD(a){return"cordova"===a.Wl}
async function VD(a){const b=Y.C(Y.RC);var d=[];const c=new Map;for(const e of a.cd)for(const g of e.Zd){const k=g.xd().Od;c.has(k)||(c.set(k,null),d.push(b.Tb(async()=>{const l=await Qm(k);c.set(k,l)})))}await Promise.all(d);d=[];for(const e of a.cd)for(const g of e.Zd)d.push(b.Tb(async()=>{var k=g.xd();const l=c.get(k.Od);k=await nA(k,l);return{Oga:await createImageBitmap(k)}}));a=await Promise.all(d);for(const e of c.values())e instanceof ImageBitmap&&e.close&&e.close();return{AV:a}}
async function WD(a,b){return await a.vH("OpusDecode",{arrayBuffer:b},[b])}
function XD(a,b){if(a.aT){var d=b.component,c=b.handler,e=b.data,g=b.dispatchOpts,k=!(!g||!g.dispatchRuntimeEvent);g=!(!g||!g.dispatchUserScriptEvent);var l=b.responseId;if("runtime"===d&&(k&&(b=new Y.Event(c),b.data=e,rd(a.Wb,b)),g)){b=new Y.Event(c,!0);for(const [n,p]of Object.entries(e))b[n]=p;a.ph(b)}if(b=a.CK.get(d))if(b=b.get(c)){k=null;try{k=b(e)}catch(n){console.error(`Exception in '${d}' handler '${c}':`,n);null!==l&&YD(a,l,!1,""+n);return}null!==l&&(k&&k.then?k.then(n=>YD(a,l,!0,n)).catch(n=>
{console.error(`Rejection from '${d}' handler '${c}':`,n);YD(a,l,!1,""+n)}):YD(a,l,!0,k))}else k||g||console.warn(`[Runtime] No DOM handler '${c}' for component '${d}'`);else k||g||console.warn(`[Runtime] No DOM event handlers for component '${d}'`)}else a.TN.push(b)}function YD(a,b,d,c){a.kA.postMessage({type:"result",responseId:b,isOk:d,result:c})}
async function ZD(a){if(!a.pb.sU["audio/webm; codecs=opus"]){var b=null;try{b=a.OL&&a.pb.Up?await zm(a.pb,a.KT,"buffer"):await a.pb.tx(a.KT)}catch(d){console.info("Failed to fetch Opus decoder WASM; assuming project has no Opus audio.",d);return}b?a.Zz.Dv.postMessage({type:"_send_buffer",buffer:b,id:"opus-decoder-wasm"},[b]):a.Zz.Dv.postMessage({type:"_send_blob",blob:null,id:"opus-decoder-wasm"});await $D(a,[a.P2])}}
async function aE(a,b){b=b.project;a.ZF=b[0];a.ST=b[16];a.WM=b[31];var d=b[39]||"loading-logo.png";a.On=!!b[9];a.Oi=a.jg=b[10];a.Ni=a.df=b[11];$C(a.fc,a.Oi,a.Ni);a.QF=a.Oi/2;a.RF=a.Ni/2;a.PD=b[36];a.xv=b[37];a.Yi=!!b[40];a.ic=b[14];a.Ft=b[15];a.JU=b[42];a.ON=b[17];a.IG=!!b[18];a.Xv=b[19];a.pA=b[21];a.NT=b[22];const c=a.pb;um(c,b[45]);Gm(c,b[7],b[25]);c.zT=b[8];c.NS=b[28];qm.Fd(c.WN,b[29]);c.WN.length&&c.FF.push(Em(c));if(0===a.Xv){let n="";a.Vo()?vm(c,d)&&(n=xm(c,d)):n="flat"===c.Ei?c.NS+d:d;n&&(a.Qs=
c.KC({url:n}))}a.ca&&(sD(a.ca,uD(b[12])),tD(a.ca,b[23]?"high":"low"),a.ca.NI(0!==b[24]),a.ca.$K=b[34],a.ca.uU=b[41],a.ca.bT=!!b[13],a.ca.It=b[30],iD(a.ca,b[46],b[47]),a.ca.uS=b[26],a.ca.ZS=!!b[48]);(d=b[43])&&await bE(a,d);gA(a.jm);a.OF=self.tP();for(var e of b[2])fA(a.jm,e);a.OF=self.tP();cE(a);for(var g of b[3])e=Y.LC.Ka(a,a.qd.length,g),a.qd.push(e),a.qA.set(e.ua().toLowerCase(),e),a.FM.set(e.mb,e);for(const n of b[4])LA(a.qd[n[0]],n);for(var k of b[27])g=k.map(n=>a.qd[n]),a.u1.push(Y.C(Y.dX,a,
g));for(const n of a.qd)MA(n);for(const n of b[5])a.ib.Ka(n);if(k=b[1])if(k=Ip(a.ib,k))a.ib.pE=k;for(var l of b[33])a.Rb.Ka(l);for(const n of b[35])a.DN.Ka(n);for(const n of b[44])a.Si.Ka(n);lt(a.Si)||(a.Si.A(),a.Si=null);for(const n of b[49])a.Tc.Ka(n);a.Tc.dI()||(a.Tc.A(),a.Tc=null);dE(a);for(const n of b[6])a.Ua.Ka(n);a.Ua.qc();eE(a);Y.I(a.OF);gl(a);l="any";b=b[20];1===b?l="portrait":2===b&&(l="landscape");ed(a,"runtime","set-target-orientation",{targetOrientation:l})}
async function fE(a,b){a.ca&&(await a.ca.oh(b),DD(a.ca,a.Xv))}async function gE(a,b){try{await b(a.Tk)}catch(d){console.error("[C3 runtime] Error in runOnStartup function: ",d)}}
async function bE(a,b){const d=b.format;"image-sequence"===d?a.Bd=new self.I6(a,b):"image-sequence-gif"===d?a.Bd=new self.H6(a,b):"webm"===d?a.Bd=new self.K6(a,b):"mp4"===d&&(a.Bd=new self.J6(a,b));a.xv="unlimited-frame";sD(a.ca,"off");a.Ul=1;self.devicePixelRatio=1;await Wk(a,"runtime","set-exporting-to-video",{message:a.Bd.i8(0),duration:a.Bd.nz})}function cE(a){for(const b of self.SW){const d=Y.first(Object.keys(b));a.dT.push(d)}}
function dE(a){const b={};for(const d of a.qd)b[d.fk()]={value:d.Iz,enumerable:!0,writable:!1};Object.create(Object.prototype,b);a.Tk=new self.uY(a);a.HU={tick:hE(a,"tick")}}function eE(a){const b={};for(const d of a.Ea().NJ)b[d.fk()]=ju(d);Object.defineProperties(a.Tk.f4,b)}function iE(a,b){a.vD.push(b)}
async function $D(a,b){b=await Promise.all(b.map(async d=>{const c=Y.FC(d)&&(new URL(d)).origin!==location.origin,e=MD(a)&&a.pb.Up;return c||e||a.Vo()||"playable-ad"===a.Wl?(d=await a.pb.Km(d),URL.createObjectURL(d)):Y.mu(d)?(new URL(d,a.dN)).toString():d}));a.Zz.Dv.postMessage({type:"_import_scripts",scripts:b})}function jE(a){a.na(Y.F.ob.H.SZ,null,null);ed(a,"runtime","register-sw")}function*kE(a){for(const b of a.qd)b.Ya||(yield*b.AB())}function lE(a){return a.ca?a.ca.sd:0}
function mE(a){return a.ca?a.ca.fd:0}function nE(a){-1!==a.zf&&(self.cancelAnimationFrame(a.zf),a.zf=-1);-1!==a.nm&&(Y.TW(a.nm),a.nm=-1)}function oE(a){const b=a.d3;"vsync"===a.xv?-1===a.zf&&(a.zf=self.requestAnimationFrame(b.NV)):"unlimited-tick"===a.xv?(-1===a.nm&&(a.nm=Y.EI(b.e5)),-1===a.zf&&(a.zf=self.requestAnimationFrame(b.U4))):-1===a.nm&&(a.nm=Y.EI(b.NV))}
function SD(a,b,d,c,e,g,k,l){var n=(n=UB.get(c))?n.lP:NaN;var p=eB(c);c=b.B();VB.set(c,n);if(p){"undefined"===typeof g&&(g=d[0]);"undefined"===typeof k&&(k=d[1]);n=new Set;c=d[0];d=d[1];for(const C of p){var r=C[0],w=C[1],x=C[2];p=C[3];var z=!!C[4];const G=C[5];var F=C[6];w=F?F:(a.ib.dA.get(r)||null).fa(w).nL.get(x);r=Cn(a,w[1]);x=!!nB(b,r);F=n.has(r);x&&!F&&z?(z=nB(b,r),z.B().Fl(w[0]),x=g+w[0][0]-c,w=k+w[0][1]-d,Ml(z.B(),x,w),w=z.B(),VB.set(w,G),b.Zj(z,{St:!!(p>>0&1),Tt:!!(p>>1&1),Wq:!!(p>>2&1),
Vq:!!(p>>3&1),Pt:!!(p>>4&1),Ww:!!(p>>5&1),Ut:!!(p>>6&1),Qt:!!(p>>7&1),Rt:!!(p>>8&1)}),n.add(r)):(r=Eo(a,w,e,!1,g+w[0][0]-c,k+w[0][1]-d,!1,!0,b,l),z=r.B(),VB.set(z,G),b.Zj(r,{St:!!(p>>0&1),Tt:!!(p>>1&1),Wq:!!(p>>2&1),Vq:!!(p>>3&1),Pt:!!(p>>4&1),Ww:!!(p>>5&1),Ut:!!(p>>6&1),Qt:!!(p>>7&1),Rt:!!(p>>8&1)}))}}}
function RD(a,b,d){for(const e of d){var c=a.ts.instancedestroy;c.instance=e;a.Wb.dispatchEvent(c);a.Hs.delete(e.Sb);a.Fv.delete(e);if(c=e.B())tC(c),Ao(c),c.oJ();a.Is.add(e);a.GM--}Y.$h(b.za(),d);b.Cs=!0;a.WE.add(b);0===b.za().length&&(b.Iy=!1);for(const e of b.Ci)Y.$h(e.za(),d),e.Cs=!0,a.WE.add(e);if(b.nb().$d){a=new Set([...d].map(e=>e.B().fa()));for(const e of a)0!==d.size&&0<V.$h(e.M,d)&&(0===e.M.length&&(e.ln=!1),En(e))}}
function UD(a,b){if(null===a.Bd){var d=a.Xo();a.Ew+=b?1:-1;0>a.Ew&&(a.Ew=0);b=a.Xo();!d&&b?(console.log("[Construct] Suspending"),nE(a),a.Wb.dispatchEvent(Y.C(Y.Event,"suspend")),a.na(Y.F.ob.H.n_,null,null)):d&&!b&&(console.log("[Construct] Resuming"),d=performance.now(),a.yF=d,a.ys=d,a.sE=0,a.uv=0,a.BG=0,a.CN=0,a.HF=0,a.Vn=0,a.Wb.dispatchEvent(Y.C(Y.Event,"resume")),a.na(Y.F.ob.H.i_,null,null),su(a)||a.Oe(d))}}
function*pE(a){ce(a.tp,!0);for(const b of a.tp){const d=b.Oe();Y.Tm(d)&&(yield*d)}ce(a.tp,!1)}function*qE(a){ce(a.sp,!0);for(const b of a.sp){const d=b.vI();Y.Tm(d)&&(yield*d)}ce(a.sp,!1)}function*rE(a){ce(a.up,!0);for(const b of a.up){const d=b.ky();Y.Tm(d)&&(yield*d)}ce(a.up,!1)}
async function sE(a){const b=a.Ua,d=a.Ib;gl(a);dl(b,!0);a.wn.push(a.Vb());d&&OD.zu();if(a.Xf)await Cu(b);else if(b.Vh.length){var c=b.og(),e=!1;b.io++;for(let k=0,l=b.Vh.length;k<l;++k){const n=b.Vh[k];if(Du(n)){Hz(n,c);var g=n.Ok;g.Ck(c,c.pf)&&Yu(g);n.qn&&n.qn.mi()&&Hv(n.qn,n.Ly);uu(n.$e);n.LA=!0}n.LA&&(e=!0)}e&&(Bu(b),c.Yb(null));b.io--}d&&OD.AW();mu(a);dl(b,!1);gl(a);dl(b,!0)}
async function tE(a){const b=a.Ib,d=a.Xf,c=a.Wb,e=a.ts,g=a.HU;b&&OD.zu();if(d)await uE(a,pE(a));else{ce(a.tp,!0);for(const k of a.tp)k.Oe();ce(a.tp,!1)}if(d)await uE(a,qE(a));else{ce(a.sp,!0);for(const k of a.sp)k.vI();ce(a.sp,!1)}b&&OD.xW();b&&OD.zu();d?await uE(a,sd(a.Wb,e.tick)):c.dispatchEvent(e.tick);b&&OD.BW();dl(a.Ua,!1);a.ph(g.tick)}
async function vE(a){a.HA&&(gl(a),await wE(a,a.HA),xE(a));a.gA&&(await yE(a,a.gA),xE(a),a.Ib&&OD.Hea());if(null!==a.Wv){gl(a);try{await zE(a,a.Wv),a.Os=a.Wv,await a.Jc(Y.F.ob.H.qQ,null),a.Os=""}catch(b){console.error("[Construct] Failed to load state from JSON string: ",b),await a.Jc(Y.F.ob.H.rQ,null)}xE(a)}}async function AE(a){const b=a.ib;let d=0;for(;b.Pi&&10>d++;)await BE(a,b.Pi)}
async function CE(a){const b=a.Ua,d=a.Wb,c=a.ts,e=a.Ib,g=a.Xf;e&&OD.zu();if(g)await nu(b,a.ib);else{var k=a.ib;for(const l of b.Gu)l.Av=!1;b.io++;for(const l of Jp(k))if(k=l.ud)b.j.wn.push(l),k.Fa(),mu(b.j);b.io--}e&&OD.AW();FC.I(a.fc.uw);DE(a);a.HL=!1;dl(b,!0);e&&OD.zu();if(g)await uE(a,rE(a));else{ce(a.up,!0);for(const l of a.up)l.ky();ce(a.up,!1)}e&&OD.xW();e&&OD.zu();g?await uE(a,sd(a.Wb,c.tick2)):d.dispatchEvent(c.tick2);e&&OD.BW();dl(b,!1);g&&await tu(b)}
async function uE(a,b){if(b)for(const d of b)await ou(a,d)}function DE(a){if(0!==a.Is.size){var b=a.Wb;b.uu(!0);for(var d of a.WE)d.ll.Br(a.Is);a.WE.clear();d=a.Ua;var c=a.Is;for(const e of d.Vh)e.Br(c);for(const e of a.Is)e.A();a.Is.clear();b.uu(!1)}}
async function BE(a,b){const d=a.Wb,c=a.ib.Vb();await Bp(c);if(b!==c&&a.Ga())for(const e of c.Ti)e.Kf()||b.Es.has(e)||(e.Ar(),c.Ti.delete(e));c===b&&Dp(a.Ua);FC.I(a.fc.uw);DE(a);d.dispatchEvent(a.ts.beforelayoutchange);Y.lx.VQ(!0);await dp(b,c,a.Ga());Y.lx.VQ(!1);await sp(b,!1);d.dispatchEvent(a.ts.layoutchange);a.qa();a.HL=!0;gl(a);a.Bd&&Xq(a.Bd.lc.gk())}
async function wE(a,b){const d=await EE(a);try{await FE(a).setItem(b,d),console.log("[Construct] Saved state to storage ("+d.length+" chars)"),a.Os=d,await a.Jc(Y.F.ob.H.j_,null),a.Os=""}catch(c){console.error("[Construct] Failed to save state to storage: ",c),await a.Jc(Y.F.ob.H.k_,null)}}function xE(a){a.HA="";a.gA="";a.Wv=null}
async function yE(a,b){try{const d=await FE(a).getItem(b);if(!d)throw Error("empty slot");console.log("[Construct] Loaded state from storage ("+d.length+" chars)");await zE(a,d);a.Os=d;await a.Jc(Y.F.ob.H.qQ,null);a.Os=""}catch(d){console.error("[Construct] Failed to load state from storage: ",d),await a.Jc(Y.F.ob.H.rQ,null)}}
async function zE(a,b){var d=a.ib;b=JSON.parse(b);if(b.c2save)throw Error("C2 saves are incompatible with C3 runtime");if(!b.c3save)throw Error("not valid C3 save data");if(1<b.version)throw Error("C3 save data from future version");zz(a);a.Wb.dispatchEvent(Y.C(Y.Event,"beforeload"));for(var c of kE(a))IA(c.J(),Mw.O.qI)||c.Du();c=b.rt;a.AE.Set(c.time);c.hasOwnProperty("timeRaw")&&a.Az.Set(c.timeRaw);a.UN.Set(c.walltime);a.de=c.timescale;a.Ui=c.tickcount;a.Bq=Date.now()-c.start_time_offset;var e=c.running_layout;
a.zj=!0;var g=!1;if(e!==a.Vb().mb)if(g=d.dA.get(e)||null)await BE(a,g),g=!0;else return;for(const [p,r]of Object.entries(b.layouts))(e=d.dA.get(parseInt(p,10))||null)&&e.Ba(r);for(const [p,r]of Object.entries(b.types))e=mp(a,parseInt(p,10)),!e||e.Ya||IA(e,Mw.O.qI)||e.Ba(r);for(var k of a.ib.rj)for(const p of k.Tw())Fn(p,!1),En(p),xn(p),p.kF=!0,p.Xz=!0,p.Yz=!0;gl(a);np(a);a.zj=!1;if(g){for(const p of kE(a))vp(p);for(var [l]of Object.entries(b.types))k=mp(a,parseInt(l,10)),!k||k.Ya||IA(k,Mw.O.qI)||
k.Dy()}a.pA=c.next_uid;a.Ua.Ba(b.events);for(const p of a.qd)if(!p.Ya&&p.Hc())for(const r of p.za()){l=pp(r);for(const w of p.Ih.gm)if(w!==p){k=w.za();if(0>l||l>=k.length)throw Error("missing sibling instance");r.vd.push(k[l])}}a.Rb.Ba(b.timelines);a.Tc&&a.Tc.Ba(b.flowcharts);Kp(d);Lp(d);a.Wb.dispatchEvent(Y.C(Y.Event,"afterload"));Az(a);for(var [n]of Object.entries(b.types))if(d=mp(a,parseInt(n,10)))d.DF=null;n=hE(a,"load");n.saveData=b.user_script_data;await a.Jm(n);a.qa()}
function FE(a){a.fN||(a.fN=localforage.jO({name:"c3-savegames-"+a.WM,description:a.ZF}));return a.fN}
async function EE(a){const b={c3save:!0,version:1,rt:{time:Vk(a),timeRaw:a.Az.ba(),walltime:a.UN.ba(),timescale:a.de,tickcount:a.Ui,next_uid:a.pA,running_layout:a.Vb().mb,start_time_offset:Date.now()-a.Bq},types:{},layouts:{},events:a.Ua.Aa(),timelines:a.Rb.Aa(),flowcharts:a.Tc?a.Tc.Aa():null,user_script_data:null};for(var d of a.qd)d.Ya||IA(d,Mw.O.qI)||(b.types[d.mb.toString()]=d.Aa());for(const c of a.ib.rj)b.layouts[c.mb.toString()]=c.Aa();d=hE(a,"save");d.saveData=null;await a.Jm(d);b.user_script_data=
d.saveData;return JSON.stringify(b)}function hE(a,b){b=Y.C(Y.Event,b,!1);b.Kg=a.Tk;return b}function GE(a){a.hS||(a.hS=!0,ed(a,"runtime","enable-device-orientation"))}function HE(a){a.gS||(a.gS=!0,ed(a,"runtime","enable-device-motion"))}
Y.OQ=class extends Y.Ca{constructor(a){a=Object.assign({},PD,a);super();this.kA=a.messagePort;this.dN=a.runtimeBaseUrl;this.w2=!!a.isInWorker;QD=a.ife;this.Wl=a.exportType;this.OL=!!a.isiOSCordova;this.s2=!!a.isFBInstantAvailable;this.P2=a.opusWasmScriptUrl;this.KT=a.opusWasmBinaryUrl;this.Xf=this.I1=this.Ib=!("preview"!==this.Wl||!a.isDebug);this.wK=0;this.vD=[];this.s1=[];this.WM=this.ST=this.ZF="";this.Ni=this.Oi=0;this.Ul=self.devicePixelRatio;this.Xv=this.df=this.jg=this.RF=this.QF=0;this.IG=
!1;this.Xk=!0;this.ON=this.JU=this.Ft=!1;this.Qs=null;this.pb=Y.C(Y.JW,this,a);this.ib=Y.C(Y.XY,this);this.Ua=Y.C(Y.rX,this);this.jm=Y.C(Y.B_,this,a.wrapperComponentIds);this.fc=Y.C(Y.VW,this);this.Rb=Y.C(Y.x0,this);this.DN=Y.C(Y.z0,this);this.Si=Y.C(Y.l0,this);this.Tc=Y.C(Y.CX,this);this.xG=Y.C(Y.n0,{nha:b=>{const d=[];for(const c of b.cd)for(const e of c.Zd)b=e.xd(),d.push({source:e,width:b.P(),height:b.N(),tag:e.fg});return{AV:d}},mha:b=>VD(b)});this.qd=[];this.qA=new Map;this.FM=new Map;this.rS=
0;this.u1=[];this.MJ=new Set;this.wn=[];this.Sp=[];this.VE=new Map;this.EE=!1;this.pA=this.GM=0;this.Hs=new Map;this.Is=new Set;this.WE=new Set;this.OF=[];this.dT=[];this.ca=null;this.Yi=!1;this.xv="vsync";this.PD="standard";this.ic="trilinear";this.On=!1;this.AM=!0;this.LL=this.NT=!1;this.Bd=null;this.d3={NV:b=>{this.nm=this.zf=-1;this.Oe(b)},e5:b=>{this.nm=-1;this.Oe(b,!1,"skip-render")},U4:()=>{this.zf=-1;this.Cr()}};this.nm=this.zf=-1;this.Fq=this.Ui=0;this.KS=this.gF=this.GE=!1;this.HL=!0;this.Ew=
0;this.rw=()=>Math.random();this.mz=this.qs=this.yF=this.Bq=0;this.de=1;this.nM=1/30;this.rM=0;this.AE=Y.C(Y.ou);this.Az=Y.C(Y.ou);this.UN=Y.C(Y.ou);this.Fv=new Map;this.sE=-1;this.uv=this.ys=0;this.BG=-1;this.HF=this.Vn=this.CN=0;this.zj=!1;this.gA=this.HA="";this.Wv=null;this.Os="";this.fN=this.VM=null;this.Wb=Y.C(Y.Event.sb);this.CK=new Map;this.sA=new Map;this.L2=0;this.aT=this.gS=this.hS=!1;this.TN=[];this.ts={pretick:Y.C(Y.Event,"pretick",!1),tick:Y.C(Y.Event,"tick",!1),tick2:Y.C(Y.Event,"tick2",
!1),instancedestroy:Y.C(Y.Event,"instancedestroy",!1),beforelayoutchange:Y.C(Y.Event,"beforelayoutchange",!1),layoutchange:Y.C(Y.Event,"layoutchange",!1)};this.ts.instancedestroy.instance=null;this.Cf=Y.C(Y.Event.sb);this.HU=null;this.tp=Y.C(Y.yr,Y.VB.TI);this.sp=Y.C(Y.yr,Y.VB.TI);this.up=Y.C(Y.yr,Y.VB.TI);this.Zz=Y.C(Y.QY,this,a.jobScheduler);a.canvas&&(this.ca=Y.C(Y.UW,this));this.kA.onmessage=b=>this._OnMessageFromDOM(b.data);Pz(this,"runtime","visibilitychange",b=>{b=b.hidden;UD(this,b);b||this.qa()});
Pz(this,"runtime","wrapper-extension-message",b=>{if(-1!==b.asyncId){const d=b.asyncId;this.sA.get(d).resolve(b.params);this.sA.delete(d)}else XD(this,{component:"wrapper-extension:"+b.componentId,handler:b.messageId,data:b.params,responseId:null})});Pz(this,"runtime","opus-decode",b=>WD(this,b.arrayBuffer));Pz(this,"runtime","get-remote-preview-status-info",()=>{const b=this.Ga();return{fps:this.uv,tps:this.CN,cpu:this.HF,gpu:this.sC(),layout:this.Vb()?this.Vb().ua():"",renderer:b.lj()?b.jB:jj(b)}});
Pz(this,"runtime","js-invoke-function",b=>this.nD(b));Pz(this,"runtime","go-to-last-error-script",self.goToLastErrorScript);Pz(this,"runtime","offline-audio-render-completed",b=>{this.Bd.S$(b)});this.Wb.addEventListener("window-blur",b=>this.tJ(b));this.Wb.addEventListener("window-focus",()=>{this.LL&&(UD(this,!1),this.LL=!1)});this.Rb.wH();this.Si.wH();this.Tk=null;this.vL=new WeakMap;this.Yu={keyboard:null,GO:null,hP:null,eW:null};this.UE=new WeakMap;this.Nz=[]}static Ka(a){return Y.C(Y.OQ,a)}A(){Y.I(this.qd);
this.qA.clear();this.FM.clear();this.ib.A();this.ib=null;this.Ua.A();this.Ua=null;this.jm.A();this.jm=null;this.pb.A();this.pb=null;this.fc.A();this.fc=null;this.Rb.A();this.Rb=null;this.DN.A();this.DN=null;this.Si.A();this.Si=null;this.Tc.A();this.Tc=null;this.xG.A();this.xG=null;this.ca&&(this.ca.A(),this.ca=null);this.Wb.A();this.Wb=null}_OnMessageFromDOM(a){var b=a.type;if("event"===b)XD(this,a);else if("result"===b){b=a.responseId;const d=a.isOk;a=a.result;const c=this.sA.get(b);d?c.resolve(a):
c.reject(a);this.sA.delete(b)}else throw Error(`unknown message '${b}'`);}async Fl(a){this.Ib?await OD.Fl(this):self.fi&&self.fi.M8(this);var [b]=await Promise.all([this.pb.HP("data.json"),ZD(this),this.Zz.Fl()]);await aE(this,b);await fE(this,a);this.Vo()||console.info("Made with Construct, the game and app creator :: https://www.construct.net");this.Nx()?(b=this.Nx(),console.info(`[C3 runtime] Hosted in ${this.Ld()?"worker":"DOM"}, rendering with WebGL ${b.Zc} [${b.jB}] (${b.LR.desynchronized?"desynchronized":
"standard"} compositing)`)):this.kr()&&console.info(`[C3 runtime] Hosted in ${this.Ld()?"worker":"DOM"}, rendering with WebGPU [${jj(this.kr())}]`);this.Ga().eL&&console.warn("[C3 runtime] The renderer indicates a major performance caveat. Software rendering may be in use. This can result in significantly degraded performance.");this.aT=!0;for(const d of this.TN)XD(this,d);Y.I(this.TN);this.ca&&KD(this.ca);for(const d of a.runOnStartupFunctions)this.vD.push(gE(this,d));await Promise.all([Dm(this.pb),
...this.vD]);Y.I(this.vD);if(this.pb.dL)this.ca&&ED(this.ca);else return this.ca&&await LD(this.ca),await qd(this.Wb,new Y.Event("beforeruntimestart")),await this.bn(),this.kA.postMessage({type:"runtime-ready"}),this}async bn(){this.GE=!0;this.Bq=Date.now();if(this.IG){for(var a of this.qd)a.Ya||a.KL||!a.$d||a.ac();Dm(this.pb).then(()=>{this.Xk=!1;jE(this)})}else this.Xk=!1;this.pb.GS=!0;this.Ib&&OD.sca(QD);for(const b of this.ib.rj)zp(b);null!==this.Bd&&await this.Bd.Fl({width:this.ca.Tg,height:this.ca.Sg});
a=Hp(this.ib);await dp(a,null,this.Ga());await sp(a,!0);this.ys=performance.now();this.IG||jE(this);(await Wk(this,"runtime","before-start-ticking")).isSuspended&&null===this.Bd?this.Ew++:this.Oe()}fk(a){a=Math.floor(a);const b=this.dT;if(0>a||a>=b.length)throw Error("invalid prop reference");return b[a]}Ld(){return this.w2}Ea(){return this.Ua}Id(){return this.Ua.Id()}og(){return this.Ua.og()}$b(){return this.Ua.$b()}Hf(){return this.Ua.Hf()}yx(){return this.Ua.yx()}Kx(){return this.jm.Kx()}sb(){return this.Wb}ph(a){a.Kg=
this.Tk;const b=this.Ib&&!fl(this.Ua);b&&OD.UI();this.Cf.dispatchEvent(a);b&&OD.xH()}Jm(a){a.Kg=this.Tk;return qd(this.Cf,a)}Om(){return this.Ul}Bl(){return this.ca?this.ca.Bl():this.jg}Al(){return this.ca?this.ca.Al():this.df}Gx(){return this.ca?this.ca.Gx():1}ek(){return this.ca?this.ca.ek():1}Bx(){return this.ca?this.ca.Bx():1}Ax(){return this.ca?this.ca.Ax():1}Mm(){return this.ca?this.ca.Mm():0}Nm(){return this.ca?this.ca.Nm():0}rC(){return this.ca?this.ca.rC():"off"}xx(a){return this.ca?this.ca.xx(a):
null}zr(a){this.ca&&this.ca.zr(a)}sC(){return this.ca?this.ca.sC():NaN}qr(){return"nearest"!==this.ic}Vb(){return this.ib.Vb()}KC(a){return this.pb.KC(a)}pD(){this.Wb.dispatchEvent(Y.C(Y.Event,"renderercontextlost"));UD(this,!0);for(var a of this.qd)!a.Ya&&0<a.Jw&&a.Ar();(a=this.Vb())&&a.pD();Y.Tx.ru();Y.fI.ru()}tJ(a){this.Vo()&&this.NT&&!Y.Z.To&&!a.data.parentHasFocus&&(UD(this,!0),this.LL=!0)}Xo(){return 0<this.Ew}async Oe(a,b,d){this.KS=!0;const c="background-wake"===d;d="background-wake"!==d&&
"skip-render"!==d;var e=this.ib,g=this.ca;if(this.GE&&(!this.Xo()||b||c)){b=performance.now();this.gF=!0;a=a||0;var k=0;null!==this.Bd?this.qs=k=1/this.Bd.TX():0!==this.yF&&(k=Math.max(a-this.yF,0)/1E3,.5<k&&(k=0),this.qs=Y.$(k,this.rM,this.nM));this.yF=a;this.mz=this.qs*this.de;this.AE.Tb(this.mz);this.Az.Tb(k*this.de);this.UN.Tb(this.qs);for(const [n,p]of this.Fv)p.Tb(this.qs*n.de);this.ca&&(k=this.ca,k.ff&&k.ff.Ch()&&xD(k),k.Zh&&k.Zh.Ch()&&yD(k));if(1E3<=a-this.ys){this.ys+=1E3;1E3<=a-this.ys&&
(this.ys=a);this.uv=this.sE;this.sE=0;this.CN=this.BG;this.BG=0;this.HF=Math.min(this.Vn/1E3,1);this.Vn=0;if(this.ca&&(a=this.ca,k=a.Ga(),k.Ch()&&0===a.Jh)){a.Jh=k.Vf;a.Bz=NaN;for(var l of wD(a))l.XG=NaN}this.Ib&&OD.vfa()}this.BG++;l=sE(this);this.Xf&&await l;l=this.ts.pretick;l=(a=pd(this.Wb,l.type,!1))?kd(a,l):!0;l instanceof Promise&&await l;l=tE(this);this.Xf&&await l;(this.HA||this.gA||null!==this.Wv)&&await vE(this);e.Pi&&await AE(this);l=CE(this);this.Xf&&await l;l=e.Vb();a=l.NM;e=!1;-1!==
a&&(l.NM=-1,g.Dx()!==a&&(g=up(this.ca,a),this.Ld()&&(e=!0,await g)));d&&this.Cr();e&&ed(this,"canvas","cleanup-html-layers");if(null!==this.Bd&&(d=this.Ui/this.Bd.TX(),await this.Bd.N5(this.ca.Ag[0].canvas,d),Vk(this)>=this.Bd.nz)){this.Bd.Oo();return}this.Xo()||c||oE(this);this.Ui++;this.Fq++;this.gF=!1;this.Vn+=performance.now()-b}}qa(){this.AM=!0}Nx(){return this.ca?this.ca.Nx():null}kr(){return this.ca?this.ca.kr():null}Ga(){return this.ca?this.ca.Ga():null}Cr(){const a=this.ca;if(a&&!a.Ga().mk()){var b=
this.Ga(),d=b.Ch(),c=d&&b.lj();d=d&&b.Sd();if(c)for(var e of b.wD){var g=e,k=b.Vf;for(var l of g.we){if(l.Vf>=k)break;if(l.Vp)break;l.FH()}}if(this.AM||null!==this.Bd){l=this.ib.Vb();this.sE++;b.bn();(e=this.Ib)&&OD.zu();this.AM=!1;g=null;c&&(c=g=Mh(a.CE),b.Ch()&&(k=ei(b),k.Da=18,k.gg=c,b.kc=0));c=null;if(d){c=2*(1+l.Pc.length);if(!b.Ch())throw Error("GPU profiling not supported");if(b.Sk)throw Error("already started frame timing");b.dB=!1;b.BN.clear();b.Sk=oi.C(oi.W.T0,b,c);c=b.Sk;Ti(b,0,1)}this.Yi&&
"low"===a.Gi?b.UQ(a.Bl(),a.Al()):b.SQ();k=this.Ga();Xf(k);k.by();k.tg(1,1,1,1);k.ke(null);k.te(null);k.lf(this.Yi);TD(this,k)&&Fp(l,k);var n=l.Dx();for(var p=1;p<n;++p){var r=l,w=k,x=p,z=null;TD(r.j,w)&&(z=r.rf);w.ke(z);w.gi(0,0,0,0);r.j.Yi&&w.GH();var F=eo(r,x);Io(w,z,F,!0);z=r;F=w;TD(z.j,F)&&(F.lf(!1),F.ke(null),Xf(F),F.cC(z.rf));w.qe();r=r.j.ca;x>=r.Ag.length||(w=r.Ag[0].canvas,x=r.Ag[x].lV,hD(r)?x.transferFromImageBitmap(w.transferToImageBitmap()):(x.globalCompositeOperation="copy",x.drawImage(w,
0,0)));k.Sd()&&Oi(k)}TD(this,k)||Fp(l,k);k.ke(l.rf);k.pe(cp(l));l.j.Yi&&k.GH();n=eo(l,0);Io(k,l.rf,n,!0);k.Sd()&&Ti(k,0,1);l.Au()&&(k.lf(!1),n=l.rf,p=l.j,0===l.Va.Eh.length?(k.ke(null),Xf(k),k.cC(n),k.nr(n),p.zr(n)):(Mo.set(0,0,p.jg,p.df),l.Lg().Cr(k,null,{iO:l,Dm:3,devicePixelRatio:l.j.Ax(),GB:l.j.Bx()*l.ne,EB:l.Na(),Lt:Mo,bH:null,tO:!0})));l.rf=null;g&&ni(b,g);d&&(b.dB&&(Si(b),b.dB=!1),d=this.ca,d.QG.set(d.Zh.Vf,c));b.Oo();e&&(OD.K5(),OD.wfa());a&&zD(a)}else b.Vf++}}na(a,b,d){if(!this.GE)return!1;
var c=!this.gF&&!(0<this.Ua.Ue);let e=0;c&&(e=performance.now());const g=this.Ib;g&&Kv(this,!1);a=this.Ua.Ey(this.ib,a,b,d);c&&(c=performance.now()-e,this.Vn+=c,g&&OD.Z5(c));g&&Kv(this,!0);return a}async Jc(a,b,d){if(!this.Xf)return this.na(a,b,d);if(!this.GE)return!1;if(su(this))return qu(this.Ua,a,b,d);if(!this.Vb())return pu(this.Ua,a,b,d);const c=performance.now();a=this.Ua.qy(this.ib,a,b,d);for(b=a.next();!b.done;)await ou(this,b.value),b=a.next();this.Xo()||0<this.Ua.Ue||(await tu(this.Ua),
this.KS&&!this.gF&&oE(this));this.Vn+=performance.now()-c;return b.value}jy(a){if(isNaN(a)||0>a)a=0;this.de=a}Vo(){return"preview"===this.Wl}ZH(){return this.jm.ZH()}VH(){return this.jm.VH()}If(a){return this.Ga().If(a||this.df)}pI(a){this.Wv=a}c0(a,b){return a.B().eB-b.B().eB}vH(a,b,d,c){return this.Zz.vH(a,b,d,null,null,c)}hI(a,b){ed(this,"runtime","invoke-download",{url:a,filename:b})}nD(a){return this.Ua.nD(a.name,a.params)}};self.C3_CreateRuntime=Y.OQ.Ka;self.C3_InitRuntime=(a,b)=>a.Fl(b);"use strict";
const IE=self.D;
function JE(a,b){var d=b.data,c=d.type;b=d.jobId;switch(c){case "result":d=d.result;c=a.Yp.get(b);if(!c)throw Error("invalid job ID");c.VG||c.resolve(d);a.Yp.delete(b);break;case "progress":d=d.progress;a=a.Yp.get(b);if(!a)throw Error("invalid job ID");!a.VG&&a.progress&&a.progress(d);break;case "error":d=d.error;c=a.Yp.get(b);if(!c)throw Error("invalid job ID");c.VG||c.reject(d);a.Yp.delete(b);break;case "ready":a.Qz&&(a.Qz=!1,a.$z++,a.$z<a.uT?KE(a):a.Dv.postMessage({type:"_no_more_workers"}));break;
default:throw Error(`unknown message from worker '${c}'`);}}async function KE(a){if(!(a.$z>=a.uT||a.Qz||a.ES||LE(a)<=a.$z))try{a.Qz=!0,(await Wk(a.j,"runtime","create-job-worker")).outputPort.onmessage=b=>JE(a,b)}catch(b){a.ES=!0,a.Qz=!1,console.error(`[Construct] Failed to create job worker; stopping creating any more (created ${a.$z} so far)`,b)}}function LE(a){let b=0;a=[...a.Yp.values()].sort((d,c)=>(d.DO||Infinity)-(c.DO||Infinity));for(const d of a)b<(d.DO||Infinity)&&b++;return b}
IE.QY=class extends IE.Ca{constructor(a,b){super();this.j=a;this.Yp=new Map;this.N2=0;this.Dv=b.inputPort;b.outputPort.onmessage=d=>JE(this,d);this.uT=b.maxNumWorkers;this.$z=1;this.ES=this.Qz=!1}async Fl(){}vH(a,b,d,c,e,g){d||(d=[]);if("number"===typeof g&&(g=Math.floor(g),0>=g))throw Error("invalid maxWorkerNum");const k=this.N2++;a={type:a,isBroadcast:!1,maxWorkerNum:g,jobId:k,params:b,transferables:d};b=new Promise((l,n)=>{this.Yp.set(k,{resolve:l,progress:c,reject:n,VG:!1,DO:g})});e&&Od(e,()=>
{const l=this.Yp.get(k);l&&(l.VG=!0,l.resolve=null,l.progress=null,l.reject=null,this.Dv.postMessage({type:"_cancel",jobId:k}))});this.Dv.postMessage(a,d);KE(this);return b}};self.C3_Shaders={};
self.C3_Shaders.setcolor={yV:"varying mediump vec2 vTex;\nuniform lowp sampler2D samplerFront;\nuniform lowp vec3 setColor;\nvoid main(void)\n{\nlowp float a = texture2D(samplerFront, vTex).a;\ngl_FragColor = vec4(setColor.r * a, setColor.g * a, setColor.b * a, a);\n}",zV:"",p5:"%%SAMPLERFRONT_BINDING%% var samplerFront : sampler;\n%%TEXTUREFRONT_BINDING%% var textureFront : texture_2d<f32>;\nstruct ShaderParams {\nsetColor : vec3<f32>\n};\n%%SHADERPARAMS_BINDING%% var<uniform> shaderParams : ShaderParams;\n%%FRAGMENTINPUT_STRUCT%%\n%%FRAGMENTOUTPUT_STRUCT%%\n@fragment\nfn main(input : FragmentInput) -> FragmentOutput\n{\nvar a : f32 = textureSample(textureFront, samplerFront, input.fragUV).a;\nvar output : FragmentOutput;\noutput.color = vec4<f32>(shaderParams.setColor * a, a);\nreturn output;\n}",y3:!1,
m5:!1,R3:0,S3:0,J3:!1,D4:!1,Q4:!0,b5:!0,r3:!1,parameters:[["setColor",0,"color"]]};"use strict";const ME=self.D;let NE=null,OE="",PE="",QE=[],RE="",SE="",TE="";const UE=ME.C(ME.GW);function VE(a,b){a=a[1];b=b[1];if("number"===typeof a&&"number"===typeof b)return a-b;a=""+a;b=""+b;return a<b?-1:a>b?1:0}function WE(a,b){NE&&a===OE&&b===PE||(NE=new RegExp(a,b),OE=a,PE=b);NE.lastIndex=0;return NE}
function XE(a,b,d){if(a===RE&&b===SE&&d===TE)return QE;const c=WE(b,d);QE=a.match(c);RE=a;SE=b;TE=d;return QE}async function YE(a,b,d){if(d.length){a.Ds+=d.length;var c=[];for(const e of d)c.push(fp(b,e));await ME.G_(c,()=>{a.Kz++});a.Kz++;a.Kz===a.Ds&&(a.Kz=0,a.Ds=0,a.j.na(ME.F.ob.H.MZ,null,null))}}
function*ZE(a,b){var d=a.j.Ea();a=d.Id();const c=Vt(a),e=c.$b();var g=e.Jd(),k=Yt(c);const l=a.bb(e);d=d.Fg;const n=d.bb();if(k)for(k=0;k<b&&!n.jd;++k)wu(g),n.xa=k,yield*yv(e,c,l),xu(g);else for(g=0;g<b&&!n.jd;++g)n.xa=g,yield*yv(e,c,l);a.Za();d.Za();return!1}
function*$E(a){var b=a.j.Ea();a=b.Id();const d=Vt(a),c=d.$b();var e=c.Jd(),g=Yt(d);const k=a.bb(c);b=b.Fg;const l=b.bb();if(g)for(g=0;!l.jd;++g)wu(e),l.xa=g,(yield*yv(c,d,k))||l.ue(),xu(e);else for(e=0;!l.jd;++e)l.xa=e,(yield*yv(c,d,k))||l.ue();a.Za();b.Za();return!1}
function*aF(a,b,d,c){var e=a.j.Ea();a=e.Id();const g=Vt(a),k=g.$b();var l=k.Jd();const n=Yt(g),p=a.bb(k);e=e.Fg;const r=e.bb();r.$C(b);if(c<d)if(n)for(b=d;b>=c&&!r.jd;--b)wu(l),r.xa=b,yield*yv(k,g,p),xu(l);else for(l=d;l>=c&&!r.jd;--l)r.xa=l,yield*yv(k,g,p);else if(n)for(b=d;b<=c&&!r.jd;++b)wu(l),r.xa=b,yield*yv(k,g,p),xu(l);else for(l=d;l<=c&&!r.jd;++l)r.xa=l,yield*yv(k,g,p);a.Za();e.Za();return!1}
function*bF(a,b){var d=b.ha();const c=d.za();if(0===c.length)return!1;var e=a.j.Ea();a=e.Id();const g=Vt(a),k=g.$b(),l=k.Jd(),n=Yt(g),p=a.bb(k);e=e.Fg;const r=e.bb(),w=b.Hc(),x=UE.bb();ME.Fd(x,c);if(n)for(let z=0,F=x.length;z<F&&!r.jd;++z)wu(l),d=x[z],Pt(b.ha(),d),w&&Wu(d),r.xa=z,yield*yv(k,g,p),xu(l);else{d.qb=!1;b=d.M;ME.I(b);b.push(null);for(let z=0,F=x.length;z<F&&!r.jd;++z)d=x[z],b[0]=d,w&&Wu(d),r.xa=z,yield*yv(k,g,p)}a.Za();e.Za();ME.I(x);UE.Za();return!1}
function*cF(a,b,d){const c=b.ha(),e=c.za();if(0===e.length)return!1;var g=a.j.Ea();a=g.Id();const k=g.Hf(),l=Vt(a),n=l.$b(),p=n.Jd(),r=Yt(l),w=a.bb(n);g=g.Fg;const x=g.bb(),z=b.Hc(),F=UE.bb();ME.I(F);for(let C=0,G=e.length;C<G;++C)F.push([e[C],k.Ia[1].ba(C)]);F.sort(VE);1===d&&F.reverse();if(r)for(let C=0,G=F.length;C<G&&!x.jd;++C)wu(p),d=F[C][0],Pt(b.ha(),d),z&&Wu(d),x.xa=C,yield*yv(n,l,w),xu(p);else{c.qb=!1;b=c.M;ME.I(b);b.push(null);for(let C=0,G=F.length;C<G&&!x.jd;++C)d=F[C][0],b[0]=d,z&&Wu(d),
x.xa=C,yield*yv(n,l,w)}a.Za();g.Za();ME.I(F);UE.Za();return!1}function dF(a,b,d){let c=a.AS.get(b);if(c)return c;if(!d)return null;c={Tq:null,rH:new Map};a.AS.set(b,c);return c}function*eF(a,b,d,c){yield*Iv(a.Ke(),b,a.Yg);d&&xu(c)}ME.F.ob=class extends ME.Kl{constructor(a){super(a);this.Fg=this.j.Ea().Fg;this.Yd=this.j.Ea().Id();this.Kz=this.Ds=0;this.AS=new Map;this.hN=[]}A(){super.A()}qa(){this.j.qa()}na(a){this.j.na(a,null,null)}};const fF=self.D;
fF.F.ob.nf=class extends fF.Ca{constructor(a){super();this.R=a;this.j=a.K();this.Hj=a.nb()}ac(){}A(){this.Hj=this.j=this.R=null}};const gF=self.D;gF.F.ob.Instance=class extends gF.Ca{constructor(a){super();this.L=a;this.R=this.L.J();this.sc=this.R.sc;this.j=this.L.K()}A(){this.j=this.sc=this.R=this.L=null}};const hF=self.D,iF=[];
hF.F.ob.H={uX(){return!0},pQ(){return!0},RZ(){return!0},n_(){return!0},i_(){return!0},Xo(){return this.j.Xo()},nX(){const a=this.j.og();return a.Ep?!1:!a.Ph},A0(){const a=this.j.Hf().ki();let b=a.get("TriggerOnce_lastTick");"undefined"===typeof b&&(b=-1,a.set("TriggerOnce_lastTick",-1));const d=this.j.Ui;a.set("TriggerOnce_lastTick",d);return this.j.HL||b!==d-1},tX(a){const b=this.j.Hf().ki(),d=b.get("Every_lastTime")||0,c=Vk(this.j);b.has("Every_seconds")||b.set("Every_seconds",a);const e=b.get("Every_seconds");
if(c>=d+e)return b.set("Every_lastTime",d+e),c>=b.get("Every_lastTime")+.04&&b.set("Every_lastTime",c),b.set("Every_seconds",a),!0;c<d-.1&&b.set("Every_lastTime",c);return!1},lu(a){return(a=this.j.Ea().aL.get(a.toLowerCase())||null)&&a.lu()},Vo(){return this.j.Vo()},To(){return hF.Z.To},SZ(){return!0},tZ(){return!0},G7(){return!0},j_(){return!0},k_(){return!0},qQ(){return!0},rQ(){return!0},G$(a){return!!Lq(this.j,a)},w9(a){switch(a){case 0:return"browser"===hF.Z.Im;case 1:return"iOS"===hF.Z.je;case 2:return"Android"===
hF.Z.je;case 8:return"cordova"===hF.Z.Im;case 9:return"scirra-arcade"===this.j.Wl;case 10:return"nwjs"===hF.Z.Im;case 13:return"windows-uwp"===this.j.Wl;default:return!1}},lba(a,b,d){return WE(b,d).test(a)},XW(a,b,d){return hF.compare(a,b,d)},X6(a,b,d){return a>=b&&a<=d},aX(a,b,d){return hF.compare(a.nd(),b,d)},Y6(a){return!!a.nd()},f7(a,b){const d=Vk(this.j);return 0===a?(a=this.j.Hf().ki(),!a.get("CompareTime_executed")&&d>=b?(a.set("CompareTime_executed",!0),!0):!1):hF.compare(d,a,b)},s9(a){return isNaN(a)},
EW(a,b,d){return hF.Rq(hF.Ta(a),hF.Ta(d))<=hF.Ta(b)},IY(a,b){return hF.Ig(hF.Ta(a),hF.Ta(b))},HY(a,b,d){a=hF.Ta(a);b=hF.Ta(b);d=hF.Ta(d);return hF.Ig(d,b)?hF.Ig(a,b)&&!hF.Ig(a,d):!(!hF.Ig(a,b)&&hF.Ig(a,d))},K9(a,b){return"number"===typeof a?0===b:1===b},K7(a){return!!a},l_(a){return a.toLowerCase()===this.hN.at(-1)},paa(a,b,d,c){if(!a)return!1;const e=UE.bb(),g=a.ha();hF.Fd(e,g.za());g.qb&&hF.I(g.zb);const k=this.j.Hf();let l=0;for(let n=0,p=e.length;n<p;++n){const r=e[n];e[l]=r;b=k.Ia[1].ba(n);c=
k.Ia[3].ba(n);hF.compare(b,d,c)?++l:g.zb.push(r)}hF.Ff(e,l);Qt(g,e);b=!!e.length;hF.I(e);UE.Za();Fv(a);return b},qaa(a,b){if(!a)return!1;const d=UE.bb(),c=a.ha();hF.Fd(d,c.za());c.qb&&hF.I(c.zb);const e=this.j.Hf();let g=0;for(let k=0,l=d.length;k<l;++k){const n=d[k];d[g]=n;(b=e.Ia[1].ba(k))?++g:c.zb.push(n)}hF.Ff(d,g);Qt(c,d);b=!!d.length;hF.I(d);UE.Za();Fv(a);return b},raa(a,b,d){if(!a)return!1;const c=a.ha(),e=c.za();if(0===e.length)return!1;const g=this.j.Hf();let k=null,l=0;for(let n=0,p=e.length;n<
p;++n){const r=e[n];d=g.Ia[2].ba(n);if(null===k||0===b&&d<l||1===b&&d>l)l=d,k=r}Ut(c,k);Fv(a);return!0},xaa(a,b){if(!a)return!1;const d=a.ha(),c=d.za();b=Math.floor(b);if(b>=c.length)return!1;Ut(d,c[b]);Fv(a);return!0},Baa(a){if(!a)return!1;const b=a.ha(),d=b.za(),c=Math.floor(this.j.rw()*d.length);if(c>=d.length)return!1;Ut(b,d[c]);Fv(a);return!0},oaa(a){if(!a||!a.M.length)return!1;a.ha().qb=!0;Fv(a);return!0},zaa(a,b,d){if(!a)return!1;const c=a.ha();var e=c.za();const g=this.j.$b().We,k=this.j.Hf().Hi;
c.qb?(hF.Fd(iF,e),Mt(c),c.qb=!1):g?(hF.Fd(iF,c.zb),hF.I(c.zb)):(hF.Fd(iF,c.M),hF.I(c.M));for(let l=0,n=iF.length;l<n;++l)e=iF[l],hF.xor(Pl(e.B(),b,d),k)?c.M.push(e):c.zb.push(e);Fv(a);return hF.xor(!!c.M.length,k)},waa(a){if(!a)return!1;var b=a.Ya;let d=null;const c=this.j.Sp;for(let e=c.length-1;0<=e;--e){const g=c[e];if(b){if(pz(g.J(),a)){d=g;break}}else if(g.J()===a){d=g;break}}d||(b=a.za(),b.length&&(d=b.at(-1)));if(!d)return!1;Ut(a.ha(),d);Fv(a);return!0},sba(a){if(this.j.Xf)a=ZE(this,a);else{var b=
this.j.Ea();const e=b.Id(),g=Vt(e),k=g.$b();var d=k.Jd(),c=Yt(g);const l=e.bb(k);b=b.Fg;const n=b.bb();if(c)for(c=0;c<a&&!n.jd;++c)wu(d),n.xa=c,xv(k,g,l),xu(d);else for(d=0;d<a&&!n.jd;++d)n.xa=d,xv(k,g,l);e.Za();b.Za();a=!1}return a},Pfa(){if(this.j.Xf)var a=$E(this);else{var b=this.j.Ea();a=b.Id();const e=Vt(a),g=e.$b();var d=g.Jd(),c=Yt(e);const k=a.bb(g);b=b.Fg;const l=b.bb();if(c)for(c=0;!l.jd;++c)wu(d),l.xa=c,xv(g,e,k)||l.ue(),xu(d);else for(d=0;!l.jd;++d)l.xa=d,xv(g,e,k)||l.ue();a.Za();b.Za();
a=!1}return a},W7(a,b,d){if(this.j.Xf)d=aF(this,a,b,d);else{var c=this.j.Ea();const g=c.Id(),k=Vt(g),l=k.$b();var e=l.Jd();const n=Yt(k),p=g.bb(l);c=c.Fg;const r=c.bb();r.$C(a);if(d<b)if(n)for(a=b;a>=d&&!r.jd;--a)wu(e),r.xa=a,xv(l,k,p),xu(e);else for(e=b;e>=d&&!r.jd;--e)r.xa=e,xv(l,k,p);else if(n)for(a=b;a<=d&&!r.jd;++a)wu(e),r.xa=a,xv(l,k,p),xu(e);else for(e=b;e<=d&&!r.jd;++e)r.xa=e,xv(l,k,p);g.Za();c.Za();d=!1}return d},HX(a){if(this.j.Xf)var b=bF(this,a);else{{const w=a.ha(),x=w.za();if(0!==x.length){var d=
this.j.Ea();b=d.Id();var c=Vt(b),e=c.$b(),g=e.Jd(),k=Yt(c),l=b.bb(e);d=d.Fg;var n=d.bb(),p=a.Hc(),r=UE.bb();ME.Fd(r,x);if(k)for(let z=0,F=r.length;z<F&&!n.jd;++z)wu(g),k=r[z],Pt(a.ha(),k),p&&Wu(k),n.xa=z,xv(e,c,l),xu(g);else{w.qb=!1;a=w.M;ME.I(a);a.push(null);for(let z=0,F=r.length;z<F&&!n.jd;++z)g=r[z],a[0]=g,p&&Wu(g),n.xa=z,xv(e,c,l)}b.Za();d.Za();ME.I(r);UE.Za()}b=!1}}return b},X7(a,b,d){if(this.j.Xf)b=cF(this,a,d);else{{const z=a.ha(),F=z.za();if(0!==F.length){var c=this.j.Ea();b=c.Id();var e=
c.Hf(),g=Vt(b),k=g.$b(),l=k.Jd(),n=Yt(g),p=b.bb(k);c=c.Fg;var r=c.bb(),w=a.Hc(),x=UE.bb();ME.I(x);for(let C=0,G=F.length;C<G;++C)x.push([F[C],e.Ia[1].ba(C)]);x.sort(VE);1===d&&x.reverse();if(n)for(let C=0,G=x.length;C<G&&!r.jd;++C)wu(l),d=x[C][0],Pt(a.ha(),d),w&&Wu(d),r.xa=C,xv(k,g,p),xu(l);else{z.qb=!1;a=z.M;ME.I(a);a.push(null);for(let C=0,G=x.length;C<G&&!r.jd;++C)d=x[C][0],a[0]=d,w&&Wu(d),r.xa=C,xv(k,g,p)}b.Za();c.Za();ME.I(x);UE.Za()}b=!1}}return b},Y9(a){return a?a.Md():!1},T9(a){return a?Hn(a):
!1},U9(a){return a?a.Ms:!1},S9(a){return a?!a.M.length:!1},R9(a,b,d){return a?hF.compare(100*a.nc(),b,d):!1},W9(a){const b=this.j.Vb();return b?!!Co(b,a):!1},MZ(){return!0},p9(){return 0<this.Ds},Xea(a,b){const d=this.j.Si;return d&&b?!!mt(d,a,b):!1}};const jF=self.D;function kF(a,b){const d=a[0]-b[0];return 0!==d?d:a[1]-b[1]}function lF(a,b){return a[1]-b[1]}const mF=[],nF=[],oF=jF.C(jF.Rect),pF=jF.C(jF.ub);
jF.F.ob.Pa={$_(a,b){a.wg(b)},a6(a,b){a.Uo()&&"number"!==typeof b&&(b=parseFloat(b));a.wg(a.nd()+b)},Tea(a,b){a.Uo()&&a.wg(a.nd()-b)},Lca(a,b){a.wg(!!b)},gfa(a){a.wg(!a.nd())},M_(){var a=this.j.Ea();for(const b of a.NJ)b.Yc=b.Gs},xP(a,b,d,c,e,g){if(a&&b&&(d=cl(this.j,a,b,d,c,e,g))){e&&tn(b,d);b=this.j.Ea();dl(b,!0);el(d);dl(b,!1);b=new Map;kB(d,b,a,e);for(const [k,l]of b)Rt(k.ha(),l)}},t7(a,b,d,c,e,g){a&&b&&(a=this.j.qA.get(a.toLowerCase())||null)&&jF.F.ob.Pa.xP.call(this,a,b,d,c,e,g)},Zx(a,b,d,c,
e,g,k,l,n,p){if(a){var r=Bo(this.j);if(g&&(r=Ip(this.j.ib,g),!r))return;g=null;if("number"!==typeof k||0<=k)if(g=r.fa(k),!g)return;oF.set(b,d,c,e);b=r.Zx(a,oF,g,l,n,p);Qt(a.ha(),b);Fv(a)}},Iea(){const a=this.Fg;0<=a.xa&&a.cu().ue()},wu(a,b){(a=this.j.Ea().aL.get(a.toLowerCase())||null)&&(0===b?a.wu(!1):1===b?a.wu(!0):a.wu(!a.lu()))},pea(a){this.j.jy(a)},bea(a,b){0>b&&(b=0);if(a){a=a.ha().za();for(const d of a)d.jy(b)}},mca(a){if(a){a=a.ha().za();for(const b of a)b.de=-1,QA(b.J())&&qB(b.j,b,!1)}},
$I(a){if(!(0>a)){var b=Au(this.j.Ea());b.Da="timer";b.Bk();b.Gc=Vk(b.Ua.K())+a;return!0}},Dfa(a){var b=Au(this.j.Ea());b.Da="signal";b.Bk();b.MA=a.toLowerCase();return!0},I0(){const a=this.j.Ea();var b=Au(a);const d=Promise.all(a.nn);a.nn=[];Iz(b,d);return!0},xea(a){a=a.toLowerCase();this.hN.push(a);this.j.na(jF.F.ob.H.l_,null);this.hN.pop();for(const b of this.j.Ea().Vh)"signal"===b.Da&&b.MA===a&&(b.Iv=!0)},async dR(a,b,d,c,e,g){const k=this.j.ca;k&&(this.qa(),await k.dR(0===a?"image/png":"image/jpeg",
b/100,d,c,e,g),await this.j.Jc(jF.F.ob.H.tZ,null))},Nca(a,b){if(!(0>=a||0>=b)){ND(this.j,a,b);wn(Bo(this.j));var d=this.j.ca;if(d){if("off"!==rD(d)){var c=this.j;if(c.Oi!==a||c.Ni!==b)c.Oi=a,c.Ni=b,a=c.ib,Kp(a),Lp(a)}d.Vd(d.Am,d.zm,!0);this.j.qa()}}},jda(a){const b=this.j.ca;b&&"off"!==rD(b)&&(tD(b,0!==a?"high":"low"),b.Vd(b.Am,b.zm,!0))},Er(a){this.j.HA=a},c$(a){this.j.gA=a},d$(a){this.j.pI(a)},mda(){},jca(){for(const a of this.j.ib.rj)a.qq={},a.Ls=!0},eea(a){var b=this.j;a=0!==a;b.On!==a&&(b.On=
a,Lp(b.ib),b.qa())},gda(a,b){this.j.nM=Math.max(1/a,0);this.j.rM=Math.max(1/b,0)},Uca(a,b){this.j.rM=Math.max(a,0);this.j.nM=Math.max(b,0)},hda(a){var b=this.j;a=["vsync","unlimited-tick","unlimited-frame"][a];b.xv!==a&&(b.xv=a,-1!==b.zf||-1!==b.nm)&&(nE(b),oE(b))},Cea(a,b){if(a){var d=a.ha().za(),c=Bo(this.j),e=a.Ya;a=a.Di;for(let l=0,n=d.length;l<n;++l){var g=d[l];const p=g.B();if(p){var k=void 0;e?(k=g.J().pv[a],k=cs(g,b+k)):k=cs(g,b);mF.push([p.fa().Ma(),Ol(p)]);nF.push([g,k])}}if(mF.length){mF.sort(kF);
nF.sort(lF);b=!1;for(let l=0,n=mF.length;l<n;++l)d=nF[l][0],e=Do(c,mF[l][0]),a=mF[l][1],g=e.M,g[a]!==d&&(g[a]=d,ip(d.B(),e,!0),En(e,d),b=!0);b&&this.j.qa();jF.I(mF);jF.I(nF)}}},TQ(a,b){a=Math.floor(a);b=Math.floor(b);0>=a||0>=b||!Number.isFinite(a)||!Number.isFinite(b)||this.j.fc.TQ(a,b)},$X(a){if(!this.j.Xk){var b=this.j.ib;b.Pi||(b.Pi=a)}},aY(a){if(!this.j.Xk){var b=this.j.ib;!b.Pi&&(a=Ip(b,a))&&(b.Pi=a)}},A$(a){if(!this.j.Xk){var b=this.j.ib;if(!b.Pi){var d=b.rj,c=d.indexOf(b.Vb());if(!a||0!==
c)if(a||c!==d.length-1)b.Pi=d[c+(a?-1:1)]}}},N_(){if(!this.j.Xk){var a=this.j.ib;if(!a.Pi){a.Pi=a.Vb();a=this.j.Ea();for(const b of a.OJ)b.wu(b.FL)}}},Lda(a,b){a&&a.Ah(b)},Eda(a,b){a&&(a.Hv=!!b)},Dda(a,b){a&&rl(a,b)},Fda(a,b){a&&a.Ne(b/100)},Hda(a,b){a&&sl(a,b)},Ida(a,b){a&&tl(a,b)},xda(a,b){a&&a.ad(jF.Ta(+b))},Jda(a,b,d){a&&(wl(a,!0),a.tk(b),a.uk(d))},lca(a){a&&wl(a,!1)},Gda(a,b,d){if(a&&(b/=100,d/=100,a.xf!==b||a.yf!==d)&&(a.xf=b,a.yf=d,xn(a),a.j.qa(),1!==a.xf||1!==a.yf))for(const c of a.M)c.J().Iy=
!0},Mda(a,b){a&&a.xg(+b)},yda(a,b){a&&(mc(pF,b),pF.$(),a=a.pn,ic(a,pF)||(gc(a,pF),this.qa()))},Kda(a,b){a&&ul(a,b)},zda(a,b){a&&a.Me(b)},Ada(a,b,d){a&&(d=Qq(a.Va,d))&&(b=1===b,d.Pb!==b&&(d.Pb=!!b,a.Dh(),this.j.qa()))},Bda(a,b,d,c){if(a&&(a=a.Va,b=Qq(a,b))){d=Math.floor(d);var e=b.Le().Fx(d);e&&("color"===e?(mc(pF,c),c=pF):"percent"===e&&(c/=100),a.ey(b.Ma(),d,c)&&b.Pb&&this.j.qa())}},Cda(a,b){a&&vl(a,b)},Rda(a){Bo(this.j).OI(+a)},Nda(a){Bo(this.j).ad(jF.Ta(+a))},Oda(a,b){const d=Bo(this.j);if(b=Qq(d.Va,
b))a=1===a,b.Pb!==a&&(b.Pb=!!a,d.Dh(),this.j.qa())},Pda(a,b,d){const c=Bo(this.j).Va;if(a=Qq(c,a)){b=Math.floor(b);var e=a.Le().Fx(b);e&&("color"===e?(mc(pF,d),d=pF):"percent"===e&&(d/=100),c.ey(a.Ma(),b,d)&&a.Pb&&this.j.qa())}},Sda(a,b){var d=Bo(this.j);a/=100;b/=100;if(d.JG!==a||d.KG!==b)d.JG=a,d.KG=b,d.Zg||(Uo(d),Vo(d),d.j.qa())},Qda(a){const b=Bo(this.j);0===a?jl(b):kl(b)},Eca(a){Bo(this.j).tk(a)},Fca(a){Bo(this.j).uk(a)},Cca(a,b){const d=Bo(this.j);d.tk(a);d.uk(b)},Dca(a){if(a&&(a=ay(a))&&(a=
a.B())){var b=Bo(this.j);b.tk(a.X());b.uk(a.Y())}},nP(a,b,d){const c=Bo(this.j);try{c.nP(a,b,d)}catch(e){console.warn("[Construct] Cannot add layer: ",e)}},jQ(a,b,d){if(a){var c=Bo(this.j);try{c.jQ(a,b,d)}catch(e){console.warn("[Construct] Cannot move layer: ",e)}}},DQ(a){a&&Bo(this.j).DQ(a)},AI(){Bo(this.j).AI()},async YY(a){const b=this.j.Vb();b&&a&&!this.j.Xk&&await YE(this,b,a.Ya?a.Hp:[a])},async b$(a){await jF.F.ob.Pa.YY.call(this,this.j.qA.get(a.toLowerCase())||null)},C0(a){const b=this.j.Vb();
if(b&&a){a=a.Ya?a.Hp:[a];for(const d of a)0===d.M.length&&gp(b,d)}},rfa(a){jF.F.ob.Pa.C0.call(this,this.j.qA.get(a.toLowerCase())||null)},sfa(){const a=this.j.Vb();if(a){var b=[...a.Ti];for(const d of b)0===d.M.length&&gp(a,d)}},async Z9(a){const b=this.j.Vb();a&&b&&!this.j.Xk&&await YE(this,b,[...a.Es])},async a$(a){const b=this.j.Vb();(a=Ip(this.j.ib,a))&&b&&!this.j.Xk&&await YE(this,b,[...a.Es])},ZC(a){var b=this.Yd.kE;if(b=0===b.length?null:b.at(-1))switch(b.BS){case 1:"number"===typeof a&&b.ZC(a);
break;case 2:"string"===typeof a&&b.ZC(a);break;case 3:b.ZC(a)}},g$(a,b,d){var c=dF(this,a.toLowerCase(),!0);const e=c.rH,g=b.toLowerCase();e.has(g)&&console.warn(`[Construct] Function map '${a}' string '${b}' already in map; overwriting entry`);(c=jF.first(e.values())||c.Tq)&&0!==c.kl!==(0!==d.kl)?console.error(`[Construct] Function map '${a}' string '${b}' function return type not compatible with other functions in the map; entry ignored`):e.set(g,d)},h$(a,b){const d=dF(this,a.toLowerCase(),!0);
d.Tq&&console.warn(`[Construct] Function map '${a}' already has a default; overwriting entry`);const c=jF.first(d.rH.values())||d.Tq;c&&0!==c.kl!==(0!==b.kl)?console.error(`[Construct] Function map '${a}' default: function return type not compatible with other functions in the map; entry ignored`):d.Tq=b},M6(a,b,d){d=Math.floor(d);var c=dF(this,a.toLowerCase(),!1);if(c){var e=c.rH.get(b.toLowerCase());if(!e)if(c.Tq)e=c.Tq,d=0;else{console.warn(`[Construct] Call mapped function: no function associated with map '${a}' string '${b}'; call ignored (consider setting a default)`);
return}if(e.od())if(0!==e.kl)console.warn(`[Construct] Call mapped function: map '${a}' string '${b}' has a return type so cannot be called`);else{var g=this.j,k=g.Ea().$b();a=k.Rd();(b=0<a.length)&&(e.Yg?wu(a):vu(a));c=[];if(k=Gu(k)){k=k.Wg;for(let n=d,p=k.length;n<p;++n)c.push(k[n].nd())}d=e.Wg;for(let n=c.length,p=d.length;n<p;++n)c.push(d[n].Gs);if(g.Xf)a=eF(e,c,b,a);else{d=e.Ke();var l=e.Yg;e=d.Rd();g=0<e.length;k=d.Yd;const n=d.j.Ea(),p=1<++n.Ue;p&&n.me.bb();Cv(d.Af,c);g&&(l?wu(e):vu(e));c=
k.bb(d);zv(d,c)&&(c.Rf=d,tv(d,c));k.Za();p&&n.me.Za();g&&xu(e);--n.Ue;b&&xu(a);a=void 0}return a}}else console.warn(`[Construct] Call mapped function: map name '${a}' not found; call ignored`)}};const qF=self.D;
qF.F.ob.uc={Bha:function(a){"string"===typeof a&&(a=parseInt(a,10),isNaN(a)&&(a=0));return Math.floor(a)},Vga:function(a){"string"===typeof a&&(a=parseFloat(a),isNaN(a)&&(a=0));return a},Mo(a){return a.toString()},HB(a){return"string"===typeof a?a.length:0},random(a,b){return"undefined"===typeof b?this.j.rw()*a:this.j.rw()*(b-a)+a},iV(...a){return a[Math.floor(this.j.rw()*a.length)]},vga(a,...b){"number"!==typeof a&&(a=0);a=qF.$(Math.floor(a),0,b.length-1);return b[a]},wia(){return Math.PI},zha(){return Infinity},
sqrt(a){return Math.sqrt(a)},abs(a){return Math.abs(a)},round(a){return Math.round(a)},bja(a,b){b=Math.max(Math.floor(b),0);b=Math.pow(10,b);return Math.round((a+Number.EPSILON)*b)/b},floor(a){return Math.floor(a)},ceil(a){return Math.ceil(a)},sign(a){return Math.sign(a)},sin(a){return Math.sin(qF.Ta(a))},cos(a){return Math.cos(qF.Ta(a))},tan(a){return Math.tan(qF.Ta(a))},asin(a){return qF.Gd(Math.asin(a))},acos(a){return qF.Gd(Math.acos(a))},atan(a){return qF.Gd(Math.atan(a))},exp(a){return Math.exp(a)},
y4(a){return Math.log(a)},log10(a){return Math.log10(a)},max(...a){let b=a[0];"number"!==typeof b&&(b=0);for(let d=1,c=a.length;d<c;++d){let e=a[d];"number"===typeof e&&b<e&&(b=e)}return b},min(...a){let b=a[0];"number"!==typeof b&&(b=0);for(let d=1,c=a.length;d<c;++d){let e=a[d];"number"===typeof e&&b>e&&(b=e)}return b},$(a,b,d){return qF.$(a,b,d)},bi(a,b,d,c){return qF.ci(a,b,d,c)},angle(a,b,d,c){return qF.Gd(qF.Do(a,b,d,c))},Ef(a,b,d){return qF.Ef(a,b,d)},sH(a,b,d){return qF.sH(a,b,d)},lH(a,b,
d,c){return qF.lH(a,b,d,c)},mV(a,b,d,c,e){return qF.mV(a,b,d,c,e)},jV(a,b,d){return qF.jV(a,b,d)},iga(a,b){return qF.Gd(qF.Rq(qF.Ta(a),qF.Ta(b)))},jga(a,b,d){return qF.Gd(qF.bO(qF.Ta(a),qF.Ta(b),d))},kga(a,b,d){return qF.Gd(qF.TG(qF.Ta(a),qF.Ta(b),qF.Ta(d)))},nja(a,b,d){b|=0;return(a|0)&~(1<<b)|(0!==d?1:0)<<b},Dja(a,b){return(a|0)^1<<(b|0)},rha(a,b){return(a|0)&1<<(b|0)?1:0},kia(){return"\n"},Lja(a){return"string"===typeof a?a.toUpperCase():""},dia(a){return"string"===typeof a?a.toLowerCase():""},
left(a,b){return"string"===typeof a?a.substr(0,b):""},mid(a,b,d){return"string"!==typeof a?"":0>d?a.substr(b):a.substr(b,d)},right(a,b){return"string"===typeof a?a.substr(Math.max(a.length-b,0)):""},trim(a){return"string"===typeof a?a.trim():""},Eja(a,b,d){if("string"!==typeof a||"string"!==typeof d)return"";a=a.split(d);b=Math.floor(b);return 0>b||b>=a.length?"":a[b]},Fja(a,b){return"string"===typeof a&&"string"===typeof b&&a.length?a.split(b).length:0},find(a,b){return"string"===typeof a&&"string"===
typeof b?a.search(new RegExp(qF.ox(b),"i")):-1},Uga(a,b){return"string"===typeof a&&"string"===typeof b?a.search(new RegExp(qF.ox(b),"")):-1},replace(a,b,d){return"string"===typeof a&&"string"===typeof b&&"string"===typeof d?a.replace(new RegExp(qF.ox(b),"gi"),d):"string"===typeof a?a:""},wja(a,...b){for(let d=0,c=b.length;d<c;++d)a=a.replaceAll(`{${d}}`,b[d].toString());return a},Lia(a,b,d){b=WE(b,d);return a?a.search(b):-1},Kia(a,b,d,c){b=WE(b,d);return a?a.replace(b,c):""},Jia(a,b,d){return(a=
XE(a.toString(),b,d))?a.length:0},Iia(a,b,d,c){c=Math.floor(c);a=XE(a.toString(),b,d);return!a||0>c||c>=a.length?"":a[c]},eka(a,b){let d=0>a?"-":"";0>a&&(a=-a);d+="0".repeat(Math.max(b-a.toString().length,0));return d+a.toString()},Oja(a){return encodeURIComponent(a)},Nja(a){return decodeURIComponent(a)},pV(){return this.j.mz},Bja(){return this.j.de},aka(){return(Date.now()-this.j.Bq)/1E3},Jja(){return Date.now()},time(){return Vk(this.j)},zja(){return this.j.Ui},oia(){return this.j.GM},V3(){return this.j.uv},
zga(){return this.j.HF},sha(){return this.j.sC()},cka(){return this.j.ca.Tg},bka(){return this.j.ca.Sg},sia(){return this.j.Oi},ria(){return this.j.Ni},qia(){return this.j.Oi},pia(){return this.j.Ni},eja(){return Bo(this.j).vh()},fja(){return Bo(this.j).wh()},Zha(){return Bo(this.j).ua()},$ha(){return Bo(this.j).ne},Xha(){return qF.Gd(Bo(this.j).Na())},aia(){return Bo(this.j).P()},Yha(){return Bo(this.j).N()},Qja(){return 100*Qn(Bo(this.j))},Rja(){return 100*Rn(Bo(this.j))},Vja(a){return(a=Bo(this.j).fa(a))?
On(a).la:0},Zja(a){return(a=Bo(this.j).fa(a))?On(a).ea:0},Yja(a){return(a=Bo(this.j).fa(a))?On(a).wa:0},Tja(a){return(a=Bo(this.j).fa(a))?On(a).ra:0},$ja(a){return(a=Bo(this.j).fa(a))?On(a).width():0},Uja(a){return(a=Bo(this.j).fa(a))?On(a).height():0},Wja(a){return(a=Bo(this.j).fa(a))?(a=On(a),(a.la+a.wa)/2):0},Xja(a){return(a=Bo(this.j).fa(a))?(a=On(a),(a.ea+a.ra)/2):0},sga(a,b,d){return(a=Bo(this.j).fa(a))?Mn(a,b,d)[0]:0},tga(a,b,d){return(a=Bo(this.j).fa(a))?Mn(a,b,d)[1]:0},Qha(a,b,d){return(a=
Bo(this.j).fa(a))?zo(a,b,d)[0]:0},Rha(a,b,d){return(a=Bo(this.j).fa(a))?zo(a,b,d)[1]:0},Sha(a,b,d,c){const e=Bo(this.j);a=e.fa(a);b=e.fa(b);if(!a||!b||a===b)return d;const [g,k]=zo(a,d,c);return Mn(b,g,k)[0]},Tha(a,b,d,c){const e=Bo(this.j);a=e.fa(a);b=e.fa(b);if(!a||!b||a===b)return c;const [g,k]=zo(a,d,c);return Mn(b,g,k)[1]},Mha(a){return(a=Bo(this.j).fa(a))?a.ne:0},Hha(a){return(a=Bo(this.j).fa(a))?qF.Gd(a.Qf):0},Jha(a){return(a=Bo(this.j).fa(a))?100*a.nc():0},Nha(a){return(a=Bo(this.j).fa(a))?
a.Mj:0},Oha(a){return(a=Bo(this.j).fa(a))?a.vh():0},Pha(a){return(a=Bo(this.j).fa(a))?a.wh():0},Kha(a){return(a=Bo(this.j).fa(a))?100*a.xf:0},Lha(a){return(a=Bo(this.j).fa(a))?100*a.yf:0},Uha(a){return(a=Bo(this.j).fa(a))?a.eb():0},Iha(a){return(a=Bo(this.j).fa(a))?a.Ma():-1},rga(){const a=this.j.ca;return a?a.QA:""},cia(a){var b=this.Fg;if(!(0<=b.xa))return 0;if(a){a:{const d=b.Bb;for(b=b.xa;0<=b;--b){const c=d[b];if(c.ua()===a){a=c;break a}}a=null}return a?a.Ma():0}return b.cu().Ma()},cja(){return this.j.Os},
qga(a,b,...d){var c=dF(this,a.toLowerCase(),!1);if(!c)return console.warn(`[Construct] Call mapped function: map name '${a}' not found; returning 0`),0;let e=c.rH.get(b.toLowerCase());if(!e)if(c.Tq)e=c.Tq;else return console.warn(`[Construct] Call mapped function: no function associated with map '${a}' string '${b}'; returning 0 (consider setting a default)`),0;c=e.kl;const g=Lu(e);if(0===c)return console.warn(`[Construct] Call mapped function: map '${a}' string '${b}' has no return type so cannot be called from an expression; returning 0`),
0;if(!e.od())return g;a=this.j.Ea().$b().Rd();(b=0<a.length)&&(e.Yg?wu(a):vu(a));var k=e.Wg;for(let l=d.length,n=k.length;l<n;++l)d.push(k[l].Gs);k=e.Ke();d=k.HI(k.Rd(),e.Yg,c,g,...d);b&&xu(a);return d},z4(){return this.j.pb.uF},xha(){return 0===this.Ds?1:this.Kz/this.Ds},Uq(){return this.j.kr()?"webgpu":"webgl"},Pia(){return this.j.kr()?jj(this.j.kr()):this.j.Nx().jB},yha(){let a=this.j.Ga().RH();return Math.round(100*a/1048576)/100},Ria(a,b,d){return qF.w_(a,b,d)},Uia(a,b,d){return qF.xQ(a/100,
b/100,d/100)},Sia(a,b,d,c){return qF.QC(a/100,b/100,d/100,c/100)},Via(a,b,d){return qF.xQ(a/255,b/255,d/255)},Tia(a,b,d,c){return qF.QC(a/255,b/255,d/255,c/255)},Cia(){return this.j.ZF},Dia(){return this.j.ST},Dga(){return this.j.$b().ud.ua()},Cga(){return this.j.$b().hv}};"use strict";const rF=self.D;rF.F.Lb=class extends rF.Kl{constructor(a){super(a)}A(){super.A()}};const sF=self.D,tF=[];function uF(a){for(const b of al(a.R))vF(b.oa)}
function wF(a,b){b=SA(a.J(),b);const d=a.K();rA(b,0).xd().Vm(d.Ga(),{tc:d.ic}).then(()=>uF(a))}function xF(a,b,d){var c=RA(a.R,b);if(!c)throw Error(`cannot find animation name '${b}'`);d=uA(c,d);0>d&&(d+=dm(c)+1);b=sF.UB.dC(a.K());sA(c,b,d);c=a.K();b.xd().Vm(c.Ga(),{tc:c.ic}).then(()=>uF(a));for(const e of al(a.R))yF(e.oa)}
sF.F.Lb.nf=class extends sF.cp{constructor(a){super(a);this.cd=a.cd}A(){sF.I(this.cd);super.A()}ac(){for(const d of this.cd){var a=d,b=this.j;for(const c of a.Zd)lA(c.xd(),b)}}pu(a){const b={tc:this.j.ic};return Promise.all(this.cd.map(d=>qA(d,a,b)))}Ar(){for(const a of this.cd)for(const b of a.Zd)b.xd().qk()}NC(){uF(this)}vx(a){sF.F.Lb.xX(this,a)}BH(){tF.push({LO:null,kV:!1,AB:[]})}yH(){const a=tF.pop(),b=a.LO,d=a.kV;if(b){var c=new Map;for(const e of a.AB)kB(e,c,b,d);for(const [e,g]of c)Rt(e.ha(),
g)}}Jf(){return self.wY}};const zF=new WeakMap;self.wY=class extends self.Rx{constructor(a){super(a);zF.set(this,a.sc)}};const AF=self.D,BF=self.Gf,CF=AF.C(AF.Rect),DF=AF.C(AF.yd),EF=AF.C(AF.Bu);function vF(a){const b=a.Qe.xd();a.tf=b.oc();a.vK=b.jr();a.ez=b.zC();a.B().Fb(65536,!0)}function yF(a){if(!a.tn&&-1===a.Wu){var b=a.Qe,d=rA(a.Gb,AF.$(a.Nb,0,dm(a.Gb)-1));b!==d&&FF(a,b,d);1<dm(a.Gb)&&0<a.wi&&a.ve()}}
function GF(a,b){const d=a.Qe;var c=RA(a.R,a.tn);a.tn="";!c||c===a.Gb&&jB(a.L,2)||(a.Gb=c,iB(a.L,1,0<=c.kk()),a.wi=Math.abs(c.kk()),a.$u=c.bU,a.Nb=AF.$(a.Nb,0,dm(a.Gb)-1),1===a.kK&&(a.Nb=0),iB(a.L,2,!0),a.Rk=a.qp.ba(),c=rA(a.Gb,a.Nb),FF(a,d,c,b))}function HF(a){const b=a.Qe;var d=a.Nb;a.Nb=AF.$(Math.floor(a.Wu),0,dm(a.Gb)-1);a.Wu=-1;d!==a.Nb&&(d=rA(a.Gb,a.Nb),FF(a,b,d),a.Rk=a.qp.ba())}
function IF(a,b){a.Nb=b?0:dm(a.Gb)-1;iB(a.L,2,!1);a.RJ=a.Gb.ua();iB(a.L,4,!0);a.bk("animationend",!1,{animationName:a.RJ});a.na(AF.F.Lb.H.mZ);a.na(AF.F.Lb.H.lZ);iB(a.L,4,!1);a.Pl=0}
function FF(a,b,d,c){if(b!==d){var e=a.B(),g=b.xd();b=d.xd();var k=g.P();g=g.N();var l=b.P(),n=b.N();c&&c.I4?c.I4(e,k,g,l,n):(k!==l&&e.Of(e.P()*(l/k)),g!==n&&e.ug(e.N()*(n/g)));e.cl=+d.Dl();e.dl=+d.El();wC(e,d.cs);U(e);a.Qe=d;a.tf=b.oc();a.vK=b.jr();a.ez=b.zC();d=a.ja().zd;for(let p=0,r=d.length;p<r;++p);a.bk("framechange",!1,{animationName:a.Gb.ua(),bV:a.Nb});a.na(AF.F.Lb.H.HZ);a.j.qa()}}function JF(a){return a.tn?a.tn:a.Gb.ua()}
function KF(a,b){if("string"===typeof b){const d=RA(a.R,JF(a));if(!d)return;b=tA(d,b);if(-1===b)return}isFinite(b)&&(a.Wu=b,jB(a.L,4)||HF(a))}function LF(a,b){b=Math.floor(b);a=a.B();var d=bC(a);const c=d.He.length/2;b===c&&(b=0);if(0>b||b>=c)return[0,0];d=d.He;return[d[2*b]+a.X(),d[2*b+1]+a.Y()]}
AF.F.Lb.Instance=class extends AF.JI{constructor(a,b){super(a);let d=!0,c="",e=0,g=!0;b&&(d=!!b[0],c=b[1],e=b[2],g=b[3]);this.Gb=RA(this.R,c)||this.R.cd[0];this.Nb=AF.$(e,0,dm(this.Gb)-1);this.Qe=rA(this.Gb,this.Nb);b=this.Qe.xd();this.tf=b.oc();this.vK=b.jr();this.ez=b.zC();Xz(this);iB(a,2,!0);iB(a,1,0<=this.Gb.kk());this.wi=Math.abs(this.Gb.kk());this.$u=this.Gb.bU;this.qp=AF.C(AF.ou);this.Pl=this.Rk=0;this.RJ="";this.Wu=-1;this.tn="";this.kK=0;a=this.B();this.H1=$B(a);a.Ah(d);uC(a,g);a.cl=+this.Qe.Dl();
a.dl=+this.Qe.El();wC(a,this.Qe.cs);U(a);1===this.R.cd.length&&1===dm(this.R.cd[0])||0===this.wi||this.ve()}A(){this.qp=this.tf=this.Qe=this.Gb=null;super.A()}ie(){return this.Qe.xd()}jj(){return!0}ru(){this.tf=null}uQ(){vF(this)}xl(a){var b=this.tf;null!==b&&(a.te(b),b=this.B(),Wy(b)?this.iJ(b,a):this.jJ(b,a))}jJ(a,b){let d=this.H1;this.j.On&&(d=vC(a,d));b.SC(d,this.ez)}iJ(a,b){const d=xC(a);if(0!==(a.G&65536)){WB(a,CF,DF,!1);let c=DF;this.j.On&&(c=vC(a,c));mg(d,Xy(a),c,this.ez);a.Fb(65536,!1)}d.xl(b)}Oe(){this.tn&&
GF(this);0<=this.Wu&&HF(this);const a=this.wi;if(jB(this.L,2)&&0!==a){this.qp.Tb(Uk(this.j,this.L));var b=this.qp.ba(),d=this.Qe,c=d.nz/a;if(!(b<this.Rk+c)){var e=this.Gb,g=this.$u,k=dm(e),l=e.ji(),n=e.Tz,p=e.A2;jB(this.L,1)?this.Nb++:this.Nb--;this.Rk+=c;this.Nb>=k&&(p?(iB(this.L,1,!1),this.Nb=k-2):n?this.Nb=g:(this.Pl++,this.Pl>=l?IF(this,!1):this.Nb=g));0>this.Nb&&(p?(this.Nb=1,iB(this.L,1,!0),n||(this.Pl++,this.Pl>=l&&IF(this,!0))):n?this.Nb=g:(this.Pl++,this.Pl>=l?IF(this,!0):this.Nb=g));this.Nb=
AF.$(this.Nb,0,k-1);c=rA(e,this.Nb);b>this.Rk+c.nz/a&&(this.Rk=b);FF(this,d,c)}}else this.Ek()}oc(){return this.tf}jr(){return this.vK}zC(){return this.ez}UH(){return this.Qe.UH()}Cl(a){const b=this.Qe,d=this.B();if("string"===typeof a)a=b.PS.get(a.toLowerCase())||null;else if("number"===typeof a)a=Math.floor(a-1),a=0>a||a>=b.ME.length?null:b.ME[a];else throw new TypeError("expected string or number");let c=so(d);if(!a)return[d.X(),d.Y(),c];EF.Ja(a.RM);if(Wy(d)){const [e,g,k]=pg(Xy(d),EF.ka,EF.aa);
EF.set(e,g);c+=k}EF.offset(-b.Dl(),-b.El());EF.scale(d.P(),d.N());EF.rotate(d.Na());EF.offset(d.X(),d.Y());return[EF.ka,EF.aa,c]}Ic(){const a={a:this.Gb.mb};0!==this.Rk&&(a.fs=this.Rk);var b=this.qp.ba();0!==b&&(a.at=b);0!==this.Nb&&(a.f=this.Nb);0!==this.wi&&(a.cas=this.wi);1!==this.Pl&&(a.ar=this.Pl);0!==this.$u&&(a.rt=this.$u);jB(this.L,2)||(a.ap=jB(this.L,2));jB(this.L,1)||(a.af=jB(this.L,1));b=this.B();b.ni()&&(a.ce=b.ni());return a}pc(a){var b=this.J();if(!b.cd)throw Error("no animations");
if(b=b.Ju.get(a.a)||null)this.Gb=b;this.Rk=a.hasOwnProperty("fs")?a.fs:0;this.qp.Set(a.hasOwnProperty("at")?a.at:0);b=a.hasOwnProperty("f")?a.f:0;this.Nb=AF.$(b,0,dm(this.Gb)-1);this.wi=a.hasOwnProperty("cas")?a.cas:0;this.Pl=a.hasOwnProperty("ar")?a.ar:1;b=a.hasOwnProperty("rt")?a.rt:0;this.$u=AF.$(b,0,dm(this.Gb)-1);b=a.hasOwnProperty("ap")?!!a.ap:!0;iB(this.L,2,b);b=a.hasOwnProperty("af")?!!a.af:!0;iB(this.L,1,b);this.Qe=b=rA(this.Gb,this.Nb);vF(this);const d=this.B();d.cl=+b.Dl();d.dl=+b.El();
wC(d,b.cs);uC(d,!!a.ce);jB(this.L,2)&&this.ve()}Ac(a){const b=this.B();switch(a){case 3:return b.ni();case 2:return AF.$(this.Nb,0,dm(this.Gb)-1);case 1:return this.Gb.ua()}}Nf(a,b,d){var c=this.B();switch(a){case 3:uC(c,!!b);break;case 2:iB(this.L,2,!1);a=dm(this.Gb)-1;c=b=AF.$(b,0,a);b=rA(this.Gb,this.Nb);const e=rA(this.Gb,c);FF(this,b,e,d);this.Nb=AF.$(c,0,a);break;case 1:this.tn=b,GF(this,d),1<dm(this.Gb)&&0<this.Gb.kk()?this.ve():this.Ek()}}Jf(){return self.Kd}};const MF=new WeakMap;
self.Kd=class extends self.DC{constructor(){super();MF.set(this,self.lk.zk().oa)}get animation(){return MF.get(this).Gb.f2}get animationName(){return JF(MF.get(this))}set bV(a){BF.Ud(a);KF(MF.get(this),a)}get bV(){return MF.get(this).Nb}get imageWidth(){return MF.get(this).ie().P()}get imageHeight(){return MF.get(this).ie().N()}};const NF=self.D;
NF.F.Lb.H={T8(a){return NF.kh(JF(this),a)},YW(a,b){return NF.compare(this.Nb,a,b)},b7(a,b){return"string"!==typeof b?!1:NF.compare(this.Qe.fg.toLowerCase(),a,b.toLowerCase())},W6(a,b){return NF.compare(jB(this.L,1)?this.wi:-this.wi,a,b)},lZ(a){return NF.kh(this.RJ,a)},mZ(){return!0},HZ(){return!0},r9(){return 0>this.B().P()},j9(){return 0>this.B().N()},PC(){return!0},tI(){return!0},ni(){return this.B().ni()}};const OF=self.D;
OF.F.Lb.Pa={e0(a,b,d,c){if(a&&b){var [e,g]=this.Cl(d);if(d=cl(this.j,a,b,e,g,c))c&&tn(b,d),a.nb().Wo()&&(b=d.B(),b.ad(this.B().Na()),U(b)),b=this.j.Ea(),dl(b,!0),el(d),dl(b,!1),a!==this.j.yx().J()&&(b=tF.at(-1),b.LO=a,b.kV=c,b.AB.push(d))}},j0(){iB(this.L,2,!1)},Fea(a){iB(this.L,2,!0);this.Rk=this.qp.ba();1===a&&0!==this.Nb&&(this.Wu=0,jB(this.L,4)||HF(this));this.ve()},Q_(a,b){this.tn=a;this.kK=b;this.ve();jB(this.L,4)||GF(this)},R_(a){KF(this,a)},S_(a){this.wi=Math.abs(a);iB(this.L,1,0<=a);0<this.wi&&
this.ve()},Hca(a){a:{if("string"===typeof a&&(a=tA(this.Gb,a),-1===a))break a;this.$u=a=AF.$(Math.floor(a),0,dm(this.Gb)-1)}},U5(a,b){try{if(0===a)wF(this.sc,b);else{var d=this.sc;for(const l of al(d.R)){var c=l.oa;if(AF.kh(b,JF(c))){var e=TA(c.R).ua();c.tn=e;c.kK=1;c.ve();GF(c)}}var g=d.J();const k=RA(g,b);if(!k)throw Error(`animation name '${b}' does not exist`);if(1===g.cd.length)throw Error("cannot remove last animation");g.cd.splice(g.cd.indexOf(k),1);g.Iu.delete(k.ua().toLowerCase());g.Ju.delete(k.mb);
k.A()}}catch(k){console.error(`[Construct] Error ${0===a?"adding":"removing"} animation: `,k)}},V5(a,b,d){try{if(0===a)xF(this.sc,b,d);else{var c=this.sc;const g=RA(c.R,b);if(!g)throw Error(`cannot find animation name '${b}'`);if(1===dm(g))throw Error(`cannot remove last frame from animation '${b}'`);var e=uA(g,d);0>e&&(e+=dm(g));b=g;e=Math.floor(e);if(0>e||e>=b.Zd.length)throw new RangeError("invalid frame");b.Zd[e].A();b.Zd.splice(e,1);for(const k of al(c.R))yF(k.oa)}}catch(g){console.error(`[Construct] Error ${0===
a?"adding":"removing"} animation frame: `,g)}},X_(a){const b=this.B(),d=b.P();a=Math.abs(d)*(0===a?-1:1);d!==a&&(b.Of(a),U(b))},eda(a){const b=this.B(),d=b.N();a=Math.abs(d)*(0===a?-1:1);d!==a&&(b.ug(a),U(b))},OI(a){const b=this.Qe.xd(),d=this.B();var c=0>d.P()?-1:1;const e=0>d.N()?-1:1;c*=b.P()*a;a=b.N()*a*e;if(d.P()!==c||d.N()!==a)d.Vd(c,a),U(d)},async ZY(a,b){const d=this.Qe.xd(),c=this.B(),e=this.j,g=this.sc;if(d.Wi===a)0===b&&(c.Vd(d.P(),d.N()),U(c)),this.na(OF.F.Lb.H.PC);else{var k=OF.C(OF.Tx);
try{await mA(k,e,a);if(!k.HC())throw Error("image failed to load");if(this.vk()){k.A();return}await k.Vm(e.Ga(),{tc:e.ic})}catch(l){console.error("Load image from URL failed: ",l);this.vk()||this.na(OF.F.Lb.H.tI);return}if(this.vk())k.A();else{if(k===d)throw Error("cannot replace with self");d.ZK++;d.qk();d.Wi=k.Wi;d.om=k.om;d.Ws=k.Ws;d.Xs=k.Xs;d.S=k.S;d.T=k.T;d.Wp=k.Wp;d.Dz=k.Dz;d.Od=k.Od;d.qm=k.qm;d.Qi=k.Qi;d.gt=k.gt;jA(d);uF(g);g.J().sb().dispatchEvent(new OF.Event("animationframeimagechange"));
e.qa();0===b&&(c.Vd(d.P(),d.N()),U(c));await this.Jc(OF.F.Lb.H.PC)}}},Pca(a){uC(this.B(),a)},QI(a,b){this.B().QI(0===a,b)},V_(a){this.B().Me(a);this.j.qa()}};
self.D.F.Lb.uc={FW(){return this.Nb},n6(){return this.Qe.fg},m6(){return dm(this.Gb)},o6(){return this.Gb.ua()},p6(){return jB(this.L,1)?this.wi:-this.wi},eaa(){return this.Gb.kk()},H8(a){return this.Cl(a)[0]},I8(a){return this.Cl(a)[1]},J8(a){return this.Cl(a)[2]},G8(){return this.UH()},CY(){return this.ie().P()},AY(){return this.ie().N()},Naa(a){return LF(this,a)[0]},Oaa(a){return LF(this,a)[1]},Maa(){return bC(this.B()).He.length/2}};"use strict";const PF=self.D;PF.F.xb=class extends PF.Kl{constructor(a){super(a)}A(){super.A()}};
const QF=self.D;QF.F.xb.nf=class extends QF.cp{constructor(a){super(a)}A(){super.A()}ac(){}};const RF=self.D;async function SF(a,b){b=!!b.isOnline;a.Uz!==b&&(a.Uz=b,a.Uz?await a.Jc(RF.F.xb.H.ZZ):await a.Jc(RF.F.xb.H.XZ))}async function TF(a){await a.Jc(RF.F.xb.H.sZ)}
RF.F.xb.Instance=class extends RF.bp{constructor(a){super(a,"browser");this.cm="";this.Uz=!1;this.jS=this.$T="";this.US=!1;this.XN=this.gU=this.hU=0;this.Pz=!1;this.YR=new Map;this.GL=!1;this.Mz="";Sz(this,[["online-state",b=>SF(this,b)],["backbutton",()=>TF(this)],["sw-message",b=>{b=b.type;"downloading-update"===b?this.na(RF.F.xb.H.s_):"update-ready"===b||"update-pending"===b?this.na(RF.F.xb.H.t_):"offline-ready"===b&&this.na(RF.F.xb.H.YZ)}],["hashchange",b=>{this.cm=b.location;this.na(RF.F.xb.H.IZ)}],
["install-available",()=>{this.GL=!0;this.na(RF.F.xb.H.NZ)}],["app-installed",()=>{this.GL=!1;this.na(RF.F.xb.H.rZ)}]]);a=this.K().sb();this.Wd=new RF.Hm(RF.Eb.Ub(a,"afterfirstlayoutstart",()=>{Tz(this,"ready-for-sw-messages")}),RF.Eb.Ub(a,"window-resize",()=>this.uJ()),RF.Eb.Ub(a,"suspend",()=>this.rJ()),RF.Eb.Ub(a,"resume",()=>this.qJ()));iE(this.j,Uz(this,"get-initial-state",{exportType:this.j.Wl}).then(b=>{this.cm=b.location;this.Uz=b.isOnline;this.$T=b.referrer;this.jS=b.title;this.US=b.isCookieEnabled;
this.hU=b.screenWidth;this.gU=b.screenHeight;this.XN=b.windowOuterWidth;this.Pz=b.isConstructArcade}))}A(){super.A()}async uJ(){await this.Jc(RF.F.xb.H.h_)}rJ(){this.na(RF.F.xb.H.$Z)}qJ(){this.na(RF.F.xb.H.a_)}};
self.D.F.xb.H={y9(){return this.Uz},ZZ(){return!0},XZ(){return!0},h_(){return!0},o7(){return this.US},l9(){return this.j.ca.Js},sZ(){return!0},E9(a){return(this.j.ca.Am<=this.j.ca.zm?0:1)===a},s_(){return!0},t_(){return!0},YZ(){return!0},IZ(){return!0},NZ(){return!0},n9(){return this.GL},OZ(a){switch(a){case 0:return"accepted"===this.Mz;case 1:return"dismissed"===this.Mz;case 2:return"error"===this.Mz;case 3:return!0;default:return!1}},rZ(){return!0},a7(a){const b=this.j.ca.TD;switch(a){case 0:return"browser"===
b;case 1:return"minimal-ui"===b;case 2:return"standalone"===b;case 3:return"fullscreen"===b;default:return!1}},haa(){return!this.j.Xo()},$Z(){return!0},a_(){return!0},r8(){return!1},f9(){return!1},R$(){return!1},T$(){return!1},q9(){return!1},a9(){return!0},Uea(){return!0}};const UF=self.D,VF="portrait landscape portrait-primary portrait-secondary landscape-primary landscape-secondary".split(" ");
UF.F.xb.Pa={c6(a){Tz(this,"alert",{message:a.toString()})},R6(){this.Pz||(this.j.Ib?self.fi.S6():Tz(this,"close"))},V7(){Tz(this,"set-focus",{isFocus:!0})},F6(){Tz(this,"set-focus",{isFocus:!1})},l8(){this.Pz||Tz(this,"navigate",{type:"back"})},m8(){this.Pz||Tz(this,"navigate",{type:"forward"})},n8(){},oba(){if(!this.Pz)if(this.j.Ib){var a=this.j;if(!a.Ib)throw Error("not in debug mode");ed(a,"runtime","post-to-debugger",{type:"reload"})}else Tz(this,"navigate",{type:"reload"})},bY(a,b){Vz(this,"navigate",
{type:"url",url:a,target:b,exportType:this.j.Wl})},o8(a,b){Vz(this,"navigate",{type:"new-window",url:a,tag:b,exportType:this.j.Wl})},uba(a,b){2<=a&&(a+=1);6===a&&(a=2);1===a&&(a=0);a=uD(a);var d=this.j.ca;if(!dD.has(a))throw Error("invalid fullscreen mode");d.kS=a;a=d.j.ib;Kp(a);Lp(a);Vz(this,"request-fullscreen",{navUI:b})},N6(){Vz(this,"exit-fullscreen")},Cfa(a){a=a.split(",");for(let b=0,d=a.length;b<d;++b)a[b]=parseInt(a[b],10);Vz(this,"vibrate",{pattern:a})},async hI(a,b){a&&b&&(a=await Cm(this.j.pb,
a),this.j.hI(a,b))},S8(a,b,d){d&&(a=`data:${b},${encodeURIComponent(a)}`,this.j.hI(a,d))},n7(a,b){b=b.toString();0===a?console.log(b):1===a?console.warn(b):2===a&&console.error(b)},l7(a){console.group(a)},m7(){console.groupEnd()},M7(a){try{eval(a)}catch(b){console.error("Error executing JavaScript: ",b)}},f$(a){a=Math.floor(a);0>a||a>=VF.length||Vz(this,"lock-orientation",{orientation:VF[a]})},tfa(){Vz(this,"unlock-orientation")},gQ(a){this.j.pb.gQ(a)},async Wca(a,b,d,c){await Uz(this,"set-document-css-style",
{prop:UF.uP(a),value:b,selector:d,"is-all":0!==c})},async g8(a,b,d){a=await Uz(this,"get-document-css-style",{prop:a,selector:b});a.isOk&&this.YR.set(d.toLowerCase(),a.result.trim())},nda(a){Tz(this,"set-hash",{hash:a})},vea(a,b){Tz(this,"set-window-size",{windowWidth:a,windowHeight:b})},uea(a,b){Tz(this,"set-window-position",{windowX:a,windowY:b})},async wba(){this.Mz=(await Uz(this,"request-install")).result;this.na(UF.F.xb.H.OZ)}};
self.D.F.xb.uc={URL(){return this.j.Ld()?this.cm:location.toString()},bba(){return this.j.Ld()?(new URL(this.cm)).protocol:location.protocol},A7(){return this.j.Ld()?(new URL(this.cm)).hostname:location.hostname},Saa(){return this.j.Ld()?(new URL(this.cm)).port:location.port},jaa(){return this.j.Ld()?(new URL(this.cm)).pathname:location.pathname},u8(){return this.j.Ld()?(new URL(this.cm)).hash:location.hash},UC(){return this.j.Ld()?(new URL(this.cm)).search:location.search},gba(a){const b=this.j.Ld()?
(new URL(this.cm)).search:location.search;return(a=RegExp("[?&]"+a+"=([^&]*)").exec(b))?decodeURIComponent(a[1].replace(/\+/g," ")):""},kba(){return this.$T},efa(){return this.jS},P9(){return navigator.language},Z(){return navigator.platform},xfa(){return navigator.userAgent},L7(a){let b=0;try{b=eval(a)}catch(d){console.error("Error executing JavaScript: ",d)}return"number"===typeof b||"string"===typeof b?b:"boolean"===typeof b?b?1:0:0},L6(a){return this.YR.get(a)||""},y$(){return navigator.appName},
Bfa(){return navigator.appVersion},$aa(){return navigator.product},Afa(){return navigator.vendor},A6(){return 1},B6(){return Infinity},z6(){const a=navigator.connection;return a?a.downlink||a.downlinkMax||a.bandwidth||Infinity:Infinity},ConnectionType(){const a=navigator.connection;return a?a.type||"unknown":"unknown"},x7(){return self.devicePixelRatio},Bca(){return this.hU},zca(){return this.gU},Vfa(){return this.j.ca.Am},Ufa(){return this.j.ca.zm},Xfa(){return this.XN},Wfa(){return this.XN},z7(){return this.j.ca.TD},
N8(){return this.Mz}};"use strict";const WF=self.D;WF.F.lg=class extends WF.Kl{constructor(a){super(a)}A(){super.A()}};const XF=self.D;XF.F.lg.nf=class extends XF.cp{constructor(a){super(a)}A(){super.A()}ac(){}};const YF=self.D;async function ZF(a,b,d,c){console.error(`[Construct] AJAX request to '${d}' (tag '${b}') failed: `,c);a.Sl=b;await a.Jc(YF.F.lg.H.pZ);a.Sl=b;await a.Jc(YF.F.lg.H.CZ)}async function $F(a,b){a.Sl=b;await a.Jc(YF.F.lg.H.oZ);a.Sl=b;await a.Jc(YF.F.lg.H.oQ)}
async function aG(a,b,d){d.lengthComputable&&(a.UM=d.loaded/d.total,a.Sl=b,await a.Jc(YF.F.lg.H.g_))}function bG(a,b,d,c){if(a.iF){var e=a.GT,g=a.FT+d;e.existsSync(g)?e.readFile(g,{encoding:"utf8"},(k,l)=>{k?ZF(a,b,d,k):(a.aq=l.replace(/\r\n/g,"\n"),$F(a,b))}):ZF(a,b,d,c)}else ZF(a,b,d,c)}async function cG(a,b,d){const c=a.j.pb,e=a.oA;a.oA=null;try{if(e){const g=await zm(c,d,"buffer");e.T_(g);a.aq=""}else a.aq=(await zm(c,d,"text")).replace(/\r\n/g,"\n");a.cA=0;$F(a,b)}catch(g){ZF(a,b,d,g)}}
function dG(a,b,d,c,e){return new Promise(g=>{const k=n=>{bG(a,b,d,n);g()},l=a.oA;a.oA=null;try{const n=new XMLHttpRequest;n.onreadystatechange=()=>{if(4===n.readyState){a.aq=l?"":(n.responseText||"").replace(/\r\n/g,"\n");a.cA=n.status;if(400<=n.status)ZF(a,b,d,n.status+n.statusText);else{const p=a.aq.length||l&&n.response instanceof ArrayBuffer;a.iF&&!p||!a.iF&&0===n.status&&!p||(l&&l.T_(n.response),$F(a,b))}g()}};n.onerror=k;n.ontimeout=k;n.onabort=k;n.onprogress=p=>aG(a,b,p);n.open(c,d);0<=a.Gq&&
"undefined"!==typeof n.timeout&&(n.timeout=a.Gq);n.responseType=l?"arraybuffer":"text";e&&!a.KF.has("Content-Type")&&("string"!==typeof e?n.setRequestHeader("Content-Type","application/octet-stream"):n.setRequestHeader("Content-Type","application/x-www-form-urlencoded"));for(const [p,r]of a.KF)try{n.setRequestHeader(p,r)}catch(w){console.error(`[Construct] AJAX: Failed to set header '${p}: ${r}': `,w)}a.KF.clear();if(a.LF){try{n.overrideMimeType(a.LF)}catch(p){console.error("[Construct] AJAX: failed to override MIME type: ",
p)}a.LF=""}a.CM&&(n.withCredentials=!0,a.CM=!1);e?n.send(e):n.send()}catch(n){k(n)}})}
YF.F.lg.Instance=class extends YF.bp{constructor(a){super(a);this.aq="";this.cA=0;this.Sl="";this.UM=0;this.Gq=-1;this.KF=new Map;this.oA=null;this.LF="";this.CM=!1;this.FT=this.HT=this.GT=null;if(this.iF="nwjs"===this.j.Wl)this.GT=require("fs"),this.HT=require("path"),this.FT=this.HT.dirname((self.process||nw.process).execPath)+"\\"}A(){super.A()}Ic(){return{lastData:this.aq,lastStatusCode:this.cA}}pc(a){this.aq=a.lastData;this.cA=a.hasOwnProperty("lastStatusCode")?a.lastStatusCode:0;this.Sl="";
this.UM=0}};const eG=self.D;eG.F.lg.H={oQ(a){return eG.kh(this.Sl,a)},oZ(){return!0},CZ(a){return eG.kh(this.Sl,a)},pZ(){return!0},g_(a){return eG.kh(this.Sl,a)}};const fG=self.D;
fG.F.lg.Pa={async Request(a,b){MD(this.j)&&fG.mu(b)&&this.j.pb.Up?await cG(this,a,b):this.j.Vo()&&fG.mu(b)?(b=xm(this.j.pb,b),await dG(this,a,b,"GET",null)):await dG(this,a,b,"GET",null)},async L_(a,b){MD(this.j)&&this.j.pb.Up?await cG(this,a,b):await dG(this,a,xm(this.j.pb,b),"GET",null)},async Taa(a,b,d,c){await dG(this,a,b,c,d)},async Uaa(a,b,d,c){d&&(d=ay(d,this.L))&&(d=d.oa.c8(),await dG(this,a,b,c,d))},oea(a){this.Gq=1E3*a},oda(a,b){this.KF.set(a,b)},fea(a){a&&(a=ay(a,this.L))&&(this.oA=a.oa)},
gaa(a){this.LF=a},wea(a){this.CM=!!a}};self.D.F.lg.uc={VY(){return this.aq},Q9(){return this.cA},aba(){return this.UM},Tag(){return this.Sl}};"use strict";const gG=self.D;gG.F.jp=class extends gG.Kl{constructor(a){super(a)}A(){super.A()}};const hG=self.D;hG.F.jp.nf=class extends hG.cp{constructor(a){super(a)}A(){super.A()}ac(){}};const iG=self.D,jG=self.xmlDomLib,kG=jG.XPathResult;
function lG(a){switch(a){case "number":return kG.NUMBER_TYPE;case "string":return kG.STRING_TYPE;case "unordered-node-snapshot":return kG.UNORDERED_NODE_SNAPSHOT_TYPE;case "ordered-node-snapshot":return kG.ORDERED_NODE_SNAPSHOT_TYPE;default:throw Error("invalid result str");}}
function mG(a,b,d){if(!a.sB)return null;d=lG(d);a=a.iw.length?a.iw.at(-1):a.sB.documentElement;try{const g=jG.evaluate(b,a,null,d,null);if(g){var c=g.resultType;var e=c===kG.NUMBER_TYPE?g.numberValue:c===kG.STRING_TYPE?g.stringValue:0}else e=null;return e}catch(g){return console.warn("Error evaluating XPath: ",g),null}}
function nG(a,b,d){if(!a.sB)return[];d=lG(d);a=a.iw.length?a.iw.at(-1):a.sB.documentElement;try{const c=jG.evaluate(b,a,null,d,null);if(!c)return[];b=[];for(let e=0,g=c.snapshotLength;e<g;++e)b.push(c.snapshotItem(e));return b}catch(c){return console.warn("Error evaluating XPath: ",c),[]}}iG.F.jp.Instance=class extends iG.bp{constructor(a){super(a);this.sB=null;this.iw=[]}A(){super.A()}};
self.D.F.jp.H={HX(a){const b=this.j;var d=b.Ea();const c=b.$b(),e=c.Jd(),g=b.Id(),k=Vt(g),l=g.bb(c);d=d.Fg;const n=d.bb();a=nG(this,a,"ordered-node-snapshot");Kv(b,!1);for(let p=0,r=a.length;p<r;++p){const w=a[p];n.xa=p;this.iw.push(w);wu(e);Ut(this.J().ha(),this.ja());xv(c,k,l);xu(e);this.iw.pop()}Kv(b,!0);d.Za();g.Za();return!1}};self.D.F.jp.Pa={oI(a){try{this.sB=(new self.xmlDomLib.DOMParser).parseFromString(a,"text/xml")}catch(b){console.warn("Error loading XML document: ",b)}}};
self.D.F.jp.uc={D$(a){return mG(this,a,"number")},Qea(a){return mG(this,a,"string")},B$(a){return nG(this,a,"unordered-node-snapshot").length}};"use strict";const oG=self.D;oG.F.re=class extends oG.Kl{constructor(a){super(a)}A(){super.A()}};const pG=self.D;pG.F.re.nf=class extends pG.cp{constructor(a){super(a)}A(){super.A()}ac(){}Jf(){return self.qY}};self.qY=class extends self.Rx{constructor(a){super(a);a.K().Yu.GO=this}};const qG=self.D;let rG=null;
function sG(a,b,d){tG(a,b,d,1,0);tG(a,b,d,4,1);tG(a,b,d,2,2);tG(a,b,d,8,3);tG(a,b,d,16,4)}function tG(a,b,d,c,e){!(b&c)&&d&c?(a.Zr[e]=!0,a.na(qG.F.re.H.nZ),a.At=e,a.Iq=0,a.na(qG.F.re.H.nQ),a.na(qG.F.re.H.sQ)):b&c&&!(d&c)&&a.Zr[e]&&(a.Zr[e]=!1,a.At=e,a.na(qG.F.re.H.tQ))}function uG(a,b){const d=a.j.Vb(),c=a.jq;a=a.kq;return"undefined"===typeof b?xo(Do(d,0),c,a):(b=d.fa(b))?Mn(b,c,a):[0,0]}function vG(a){return 0<=a.jq&&0<=a.kq&&a.jq<lE(a.j)&&a.kq<mE(a.j)}
async function wG(a,b){if(!qG.Z.To&&b){var d=ay(b);d&&(b=d.B(),d=d.ie(),b&&d&&rG!==d&&(rG=d,b=`url(${await oA(d)}) ${Math.round(b.Dl()*d.P())} ${Math.round(b.El()*d.N())}, auto`,Tz(a,"cursor",b)))}}function xG(a,b){a.FE!==b&&(a.FE=b,a.FE?a.na(qG.F.re.H.e_):a.na(qG.F.re.H.f_))}
qG.F.re.Instance=class extends qG.bp{constructor(a){super(a,"mouse");this.Zr=[!1,!1,!1,!1,!1];this.WU=this.VU=this.UU=this.DU=this.Iq=this.At=this.kq=this.jq=0;this.FE=!1;this.vM=this.uM=0;Sz(this,[["pointer-lock-change",b=>{xG(this,b["has-pointer-lock"])}],["pointer-lock-error",b=>{xG(this,b["has-pointer-lock"]);this.na(qG.F.re.H.d_)}]]);a=this.K().sb();this.Wd=new qG.Hm(qG.Eb.Ub(a,"pointermove",b=>this.xy(b.data)),qG.Eb.Ub(a,"pointerdown",b=>this.wy(b.data)),qG.Eb.Ub(a,"pointerup",b=>this.Nr(b.data)),
qG.Eb.Ub(a,"dblclick",b=>{this.At=b.data.button;this.Iq=1;this.na(qG.F.re.H.nQ);this.na(qG.F.re.H.sQ)}),qG.Eb.Ub(a,"wheel",b=>{b=b.data;this.DU=0>b.deltaY?1:0;this.UU=b.deltaX;this.VU=b.deltaY;this.WU=b.deltaZ;this.na(qG.F.re.H.v_)}),qG.Eb.Ub(a,"window-blur",()=>this.tJ()))}A(){super.A()}wy(a){"mouse"===a.pointerType&&(this.jq=a.pageX-this.j.Mm(),this.kq=a.pageY-this.j.Nm(),sG(this,a.lastButtons,a.buttons))}xy(a){this.uM=a.movementX;this.vM=a.movementY;this.na(qG.F.re.H.UZ);this.vM=this.uM=0;"mouse"===
a.pointerType&&(this.jq=a.pageX-this.j.Mm(),this.kq=a.pageY-this.j.Nm(),sG(this,a.lastButtons,a.buttons))}Nr(a){"mouse"===a.pointerType&&sG(this,a.lastButtons,a.buttons)}tJ(){for(let a=0,b=this.Zr.length;a<b&&this.Zr[a];++a)this.Zr[a]=!1,this.At=a,this.na(qG.F.re.H.tQ)}};const yG=self.D;
yG.F.re.H={nQ(a,b){return this.At===a&&this.Iq===b},nZ(){return!0},Y8(a){return this.Zr[a]},tQ(a){return this.At===a},A9(a){const b=this.j.Hf().Hi,d=[];vG(this)&&d.push([this.jq,this.kq]);return yG.xor(TC(this.j.fc,a,d,b),b)},sQ(a,b,d){return a===this.At&&b===this.Iq&&vG(this)?TC(this.j.fc,d,[[this.jq,this.kq]],!1):!1},v_(a){return 2===a||this.DU===a},e_(){return!0},f_(){return!0},d_(){return!0},t8(){return this.FE},UZ(){return!0}};const zG="auto pointer text crosshair move help wait none".split(" ");
self.D.F.re.Pa={Qca(a){a=zG[a];rG!==a&&(rG=a,Tz(this,"cursor",a))},Rca(a){wG(this,a)},yba(){Vz(this,"request-pointer-lock")},mba(){Tz(this,"release-pointer-lock")}};self.D.F.re.uc={hD(a){return uG(this,a)[0]},iD(a){return uG(this,a)[1]},vW(){return this.jq},wW(){return this.kq},w$(){return this.uM},x$(){return this.vM},Mfa(){return this.UU},Nfa(){return this.VU},Ofa(){return this.WU}};"use strict";const AG=self.D,BG=[];AG.F.Audio=class extends AG.Kl{constructor(a){super(a)}cJ(a){BG.push(a)}A(){super.A()}};
const CG=self.D;CG.F.Audio.nf=class extends CG.cp{constructor(a){super(a)}A(){super.A()}ac(){}Jf(){return self.iY}};self.iY=class extends self.Rx{constructor(a){super(a)}};const DG=self.D,EG=["interactive","balanced","playback"];function Dr(a){return null!==a.j.Bd?"running":a.TJ}function FG(a,b){const d=b.tickCount;a.KM=b.outputLatency;const c=a.Oh.filter(e=>e.hasOwnProperty("placeholder")&&(e.placeholder>d||-1===e.placeholder));a.Oh=b.audioInstances;a.qF=b.analysers;0<c.length&&DG.Bm(a.Oh,c)}
async function GG(a,b){const d=b.type;a.FN=b.tags;b=b.aiid;if("ended"===d){for(const c of a.Oh)if(c.aiid===b){c.isPlaying=!1;break}await a.Jc(DG.F.Audio.H.BZ)}else"fade-ended"===d&&await a.Jc(DG.F.Audio.H.DZ)}function HG(a,b){return a.mS?b.split(" ").filter(d=>!!d):b?[b]:[]}function IG(a,b){for(const d of b){b=!1;for(const c of a)if(DG.kh(c,d)){b=!0;break}if(!b)return!1}return!0}function JG(a){a=Math.pow(10,a/20);return isFinite(a)?Math.max(Math.min(a,1),0):0}
function KG(a,b){b=HG(a,b);for(const d of a.Oh)if(IG(d.tags,b))return d;return null}function LG(a,b){const d=HG(a,b);return a.Oh.some(c=>IG(c.tags,d)&&c.isPlaying)}function MG(a,b,d,c,e,g){if(LG(a,d))return null;const k=a.RR.get(b);b={tags:HG(a,d),duration:k?k.duration:0,volume:g,isPlaying:!0,playbackTime:0,playbackRate:1,uid:-1,bufferOriginalUrl:b,bufferUrl:"",bufferType:"",isMusic:c,isLooping:e,isMuted:!1,resumePosition:0,pan:null,placeholder:-1};a.Oh.push(b);return b}
function NG(a){return a.Oh.filter(b=>-1!==b.uid).map(b=>Lq(a.j,b.uid)).filter(b=>b).map(b=>{const d=b.B(),c=d.fa().Na(),[e,g]=OG(d.X(),d.Y(),-c,a.Zf[0],a.Zf[1]);return{uid:b.Sb,x:e,y:g,z:so(d),angle:d.Na()-c}})}function OG(a,b,d,c,e){if(0===d)return[a,b];const g=Math.sin(d);d=Math.cos(d);a-=c;b-=e;const k=a*g;a=a*d-b*g;b=b*d+k;return[a+c,b+e]}function PG(a,b,d){for(const c of a.qF)if(c.index===d&&DG.kh(c.tag,b))return c;return null}
function QG(a,b){for(const d of HG(a,b))b=d.toLowerCase(),a.fE.set(b,(a.fE.get(b)||0)+1)}
DG.F.Audio.Instance=class extends DG.bp{constructor(a,b){super(a,"audio");this.Ki=0;this.FN=[];this.mS=!0;this.GA=this.wU=0;this.PM=!1;this.iS=this.MT=1;this.Zf=[this.j.jg/2,this.j.df/2,600];this.eq=[0,0,-1];this.fq=[0,1,0];this.WT=600;this.tT=1E4;this.dU=1;this.Cj=null;this.EF=-1;this.bw=1;this.Nh=!1;this.eU=0;this.TJ="suspended";this.KM=0;this.fE=new Map;this.SM=this.TM=0;this.RR=new Map;this.fo=new Map;a="interactive";b&&(this.wU=b[0],this.GA=b[1],this.PM=b[2],a=EG[b[3]],this.mS=b[4],this.MT=b[5],
this.iS=b[6],this.Zf[2]=b[7],this.WT=b[8],this.tT=b[9],this.dU=b[10]);this.Oh=[];this.Qv=[];this.qF=[];Sz(this,[["state",d=>FG(this,d)],["audiocontext-state",d=>{this.TJ=d.audioContextState}],["fxstate",d=>{this.Qv=d.fxstate}],["trigger",d=>GG(this,d)],["buffer-metadata",d=>{this.RR.set(d.originalUrl,{duration:d.duration})}]]);b=this.K().sb();this.Wd=new DG.Hm(DG.Eb.Ub(b,"instancedestroy",d=>this.vy(d.instance)),DG.Eb.Ub(b,"afterload",()=>this.Pf()),DG.Eb.Ub(b,"suspend",()=>this.rJ()),DG.Eb.Ub(b,
"resume",()=>this.qJ()));iE(this.j,Uz(this,"create-audio-context",{preloadList:Jm(this.j.pb).map(d=>({originalUrl:d.J4,url:d.url,type:d.type,fileSize:d.fileSize})),isiOSCordova:this.j.OL,isSafari:"Safari"===DG.Z.xb,timeScaleMode:this.wU,latencyHint:a,panningModel:this.MT,distanceModel:this.iS,refDistance:this.WT,maxDistance:this.tT,rolloffFactor:this.dU,listenerPos:this.Zf}).then(d=>{this.eU=d.sampleRate;this.TJ=d.audioContextState;this.KM=d.outputLatency}));this.ve()}A(){this.Cj=null;super.A()}cJ(a){this.nb().cJ(a)}vy(a){this.Cj===
a&&(this.Cj=null)}rJ(){this.PM||Tz(this,"set-suspended",{isSuspended:!0})}qJ(){this.PM||Tz(this,"set-suspended",{isSuspended:!1})}Oe(){const a={timeScale:this.j.de,gameTime:this.j.Az.ba(),instPans:NG(this),tickCount:this.j.Fq};if(this.Cj){const b=this.Cj.B();this.Zf[0]=b.X();this.Zf[1]=b.Y();a.listenerPos=this.Zf;a.listenerOrientation=[...this.eq,...this.fq]}Tz(this,"tick",a)}Ic(){return{isSilent:this.Nh,masterVolume:this.bw,listenerZ:this.Zf[2],listenerForwardVec:this.eq,listenerUpVec:this.fq,listenerUid:this.Cj?
this.Cj.Sb:-1,remoteUrls:[...this.fo.entries()],playing:this.Oh.filter(a=>a.hasOwnProperty("placeholder")||3===this.GA?!1:a.isMusic&&1===this.GA?!1:a.isMusic||2!==this.GA?!0:!1),effects:this.Qv,analysers:this.qF}}pc(a){this.Nh=a.isSilent;this.bw=a.masterVolume;this.Zf[2]=a.listenerZ;this.Cj=null;this.EF=a.listenerUid;a.hasOwnProperty("listenerForwardVec")?this.eq=a.listenerForwardVec:this.eq=[0,0,-1];a.hasOwnProperty("listenerUpVec")?this.fq=a.listenerUpVec:this.fq=[0,1,0];this.fo.clear();if(a.remoteUrls)for(const [b,
d]of a.remoteUrls)this.fo.set(b,d);this.Oh=a.playing;for(const b of this.Oh)b.hasOwnProperty("tag")&&!b.hasOwnProperty("tags")&&(b.tags=[b.tag].filter(d=>!!d));this.Qv=a.effects;this.qF=a.analysers}Pf(){if(-1!==this.EF&&(this.Cj=Lq(this.j,this.EF),this.EF=-1,this.Cj)){var a=this.Cj.B();this.Zf[0]=a.X();this.Zf[1]=a.Y()}for(var b of this.Oh)(a=Im(this.j.pb,b.bufferOriginalUrl))?(b.bufferUrl=a.url,b.bufferType=a.type):b.bufferUrl=null;for(const d of Object.values(this.Qv))for(const c of d)c.hasOwnProperty("bufferOriginalUrl")&&
(b=Im(this.j.pb,c.bufferOriginalUrl))&&(c.bufferUrl=b.url,c.bufferType=b.type);Tz(this,"load-state",{saveLoadMode:this.GA,timeScale:this.j.de,gameTime:this.j.Az.ba(),listenerPos:this.Zf,listenerOrientation:[...this.eq,...this.fq],isSilent:this.Nh,masterVolume:this.bw,playing:this.Oh.filter(d=>null!==d.bufferUrl),effects:this.Qv})}};
self.D.F.Audio.H={BZ(a){return IG(this.FN,HG(this,a))},DZ(a){return IG(this.FN,HG(this,a))},Xaa(){return this.SM===this.TM},b6(){return!0},F9(){return this.Nh},U8(){for(const a of this.Oh)if(a.isPlaying)return!0;return!1},H9(a){return LG(this,a)}};const RG=self.D,SG="lowpass highpass bandpass lowshelf highshelf peaking notch allpass".split(" ");
RG.F.Audio.Pa={Play(a,b,d,c,e){a=RG.F.Audio.Pa.sR.call(this,a,b,d,c,e);this.cJ(a);return a},yQ(a,b,d,c){RG.F.Audio.Pa.sR.call(this,a,0,b,0,d,c)},async sR(a,b,d,c,e,g){if(!this.Nh){var k=a[1],l=Im(this.j.pb,a[0]);if(l){var n=this.Ki;this.Ki=0;var p=MG(this,a[0],e,k,0!==b,JG(d));try{await Uz(this,"play",{originalUrl:a[0],url:l.url,type:l.type,isMusic:k,tags:HG(this,e),isLooping:0!==b,vol:JG(d),stereoPan:RG.$(c/100,-1,1),pos:g||0,off:n,trueClock:!!self.C3_GetAudioContextCurrentTime})}finally{p&&(p.placeholder=
this.j.Fq)}}}},async Jaa(a,b,d,c,e,g,k,l,n,p,r){if(!this.Nh){var w=a[1],x=Im(this.j.pb,a[0]);if(x){var z=this.Ki;this.Ki=0;var F=MG(this,a[0],r,w,0!==b,JG(d));try{await Uz(this,"play",{originalUrl:a[0],url:x.url,type:x.type,isMusic:w,tags:HG(this,r),isLooping:0!==b,vol:JG(d),pos:0,off:z,trueClock:!!self.C3_GetAudioContextCurrentTime,panning:{x:c,y:e,z:g,angle:RG.Ta(k),innerAngle:RG.Ta(l),outerAngle:RG.Ta(n),outerGain:JG(p)}})}finally{F&&(F.placeholder=this.j.Fq)}}}},async Haa(a,b,d,c,e,g,k,l){if(!this.Nh&&
c&&(c=ay(c))&&c.B()){var n=c.B(),p=n.fa().Na(),[r,w]=OG(n.X(),n.Y(),-p,this.Zf[0],this.Zf[1]),x=a[1],z=Im(this.j.pb,a[0]);if(z){var F=this.Ki;this.Ki=0;var C=MG(this,a[0],l,x,0!==b,JG(d));try{await Uz(this,"play",{originalUrl:a[0],url:z.url,type:z.type,isMusic:x,tags:HG(this,l),isLooping:0!==b,vol:JG(d),pos:0,off:F,trueClock:!!self.C3_GetAudioContextCurrentTime,panning:{x:r,y:w,z:so(n),angle:n.Na()-p,innerAngle:RG.Ta(e),outerAngle:RG.Ta(g),outerGain:JG(k),uid:c.Sb}})}finally{C&&(C.placeholder=this.j.Fq)}}}},
async Laa(a,b,d,c,e,g){if(!this.Nh){a=1===a;var k=Im(this.j.pb,b)||this.fo.get(b.toLowerCase());if(k){var l=this.Ki;this.Ki=0;var n=MG(this,b,g,a,0!==d,JG(c));try{await Uz(this,"play",{originalUrl:b,url:k.url,type:k.type,isMusic:a,tags:HG(this,g),isLooping:0!==d,vol:JG(c),stereoPan:RG.$(e/100,-1,1),pos:0,off:l,trueClock:!!self.C3_GetAudioContextCurrentTime})}finally{n&&(n.placeholder=this.j.Fq)}}}},async Kaa(a,b,d,c,e,g,k,l,n,p,r,w){if(!this.Nh){a=1===a;var x=Im(this.j.pb,b)||this.fo.get(b.toLowerCase());
if(x){var z=this.Ki;this.Ki=0;var F=MG(this,b,w,a,0!==d,JG(c));try{await Uz(this,"play",{originalUrl:b,url:x.url,type:x.type,isMusic:a,tags:HG(this,w),isLooping:0!==d,vol:JG(c),pos:0,off:z,trueClock:!!self.C3_GetAudioContextCurrentTime,panning:{x:e,y:g,z:k,angle:RG.Ta(l),innerAngle:RG.Ta(n),outerAngle:RG.Ta(p),outerGain:JG(r)}})}finally{F&&(F.placeholder=this.j.Fq)}}}},async Iaa(a,b,d,c,e,g,k,l,n){if(!this.Nh&&!this.Nh&&e&&(e=ay(e))&&e.B()){var p=e.B(),r=p.fa().Na(),[w,x]=OG(p.X(),p.Y(),-r,this.Zf[0],
this.Zf[1]);a=1===a;var z=Im(this.j.pb,b)||this.fo.get(b.toLowerCase());if(z){var F=this.Ki;this.Ki=0;var C=MG(this,b,n,a,0!==d,JG(c));try{await Uz(this,"play",{originalUrl:b,url:z.url,type:z.type,isMusic:a,tags:HG(this,n),isLooping:0!==d,vol:JG(c),pos:0,off:F,trueClock:!!self.C3_GetAudioContextCurrentTime,panning:{x:w,y:x,z:so(p),angle:p.Na()-r,innerAngle:RG.Ta(g),outerAngle:RG.Ta(k),outerGain:JG(l),uid:e.Sb}})}finally{C&&(C.placeholder=this.j.Fq)}}}},Wda(a,b){Tz(this,"set-looping",{tags:HG(this,
a),isLooping:0===b})},aea(a,b){Tz(this,"set-muted",{tags:HG(this,a),isMuted:0===b})},gp(a,b){Tz(this,"set-volume",{tags:HG(this,a),vol:JG(b)})},P7(a,b,d,c){Tz(this,"fade-volume",{tags:HG(this,a),vol:JG(b),duration:d,stopOnEnd:0===c})},iea(a,b){Tz(this,"set-stereo-pan",{tags:HG(this,a),p:RG.$(b/100,-1,1)})},async Vaa(a){const b=a[1],d=Im(this.j.pb,a[0]);d&&(this.TM++,await Uz(this,"preload",{originalUrl:a[0],url:d.url,type:d.type,isMusic:b}),this.SM++)},async Waa(a,b){a=1===a;const d=Im(this.j.pb,
b)||this.fo.get(b.toLowerCase());d&&(this.TM++,await Uz(this,"preload",{originalUrl:b,url:d.url,type:d.type,isMusic:a}),this.SM++)},nj(a,b){Tz(this,"set-playback-rate",{tags:HG(this,a),rate:Math.max(b,0)})},ue(a){Tz(this,"stop",{tags:HG(this,a)})},i0(){Tz(this,"stop-all")},cea(a,b){Tz(this,"set-paused",{tags:HG(this,a),paused:0===b})},Gca(a,b){Tz(this,"seek",{tags:HG(this,a),pos:b})},hea(a){2===a&&(a=this.Nh?1:0);a=0===a;this.Nh!==a&&(this.Nh=a,Tz(this,"set-silent",{isSilent:a}))},Xda(a){a=JG(a);
this.bw!==a&&(this.bw=a,Tz(this,"set-master-volume",{vol:a}))},L5(a,b,d,c,e,g,k){b=SG[b];QG(this,a);Tz(this,"add-effect",{type:"filter",tags:HG(this,a),params:[b,d,c,e,g,RG.$(k/100,0,1)]})},I5(a,b,d,c){QG(this,a);Tz(this,"add-effect",{type:"delay",tags:HG(this,a),params:[b,JG(d),RG.$(c/100,0,1)]})},M5(a,b,d,c,e,g){QG(this,a);Tz(this,"add-effect",{type:"flanger",tags:HG(this,a),params:[b/1E3,d/1E3,c,e/100,RG.$(g/100,0,1)]})},S5(a,b,d,c,e,g,k){QG(this,a);Tz(this,"add-effect",{type:"phaser",tags:HG(this,
a),params:[b,d,c,e,g,RG.$(k/100,0,1)]})},H5(a,b,d,c){const e=Im(this.j.pb,b[0]);e&&(QG(this,a),Tz(this,"add-effect",{type:"convolution",tags:HG(this,a),bufferOriginalUrl:b[0],bufferUrl:e.url,bufferType:e.type,params:[0===d,RG.$(c/100,0,1)]}))},O5(a,b){QG(this,a);Tz(this,"add-effect",{type:"gain",tags:HG(this,a),params:[JG(b)]})},X5(a,b){QG(this,a);Tz(this,"add-effect",{type:"stereopan",tags:HG(this,a),params:[RG.$(b/100,-1,1)]})},R5(a){QG(this,a);Tz(this,"add-effect",{type:"gain",tags:HG(this,a),
params:[0]})},Y5(a,b,d){QG(this,a);Tz(this,"add-effect",{type:"tremolo",tags:HG(this,a),params:[b,RG.$(d/100,0,1)]})},W5(a,b,d){QG(this,a);Tz(this,"add-effect",{type:"ringmod",tags:HG(this,a),params:[b,RG.$(d/100,0,1)]})},J5(a,b,d,c,e,g){QG(this,a);Tz(this,"add-effect",{type:"distortion",tags:HG(this,a),params:[Math.pow(10,b/20),Math.pow(10,d/20),c,Math.pow(10,e/20),RG.$(g/100,0,1)]})},G5(a,b,d,c,e,g){QG(this,a);Tz(this,"add-effect",{type:"compressor",tags:HG(this,a),params:[b,d,c,e/1E3,g/1E3]})},
F5(a,b,d){QG(this,a);Tz(this,"add-effect",{type:"analyser",tags:HG(this,a),params:[b,d]})},pba(a){a=HG(this,a);for(const b of a)this.fE.set(b.toLowerCase(),0);Tz(this,"remove-effects",{tags:a});this.Qv={}},ey(a,b,d,c,e,g){Tz(this,"set-effect-param",{tags:HG(this,a),index:Math.floor(b),param:d,value:c,ramp:e,time:g})},Tda(a){a&&(a=ay(a))&&a.B()&&(this.Cj=a)},Vda(a){this.Zf[2]=a},Uda(a,b,d,c,e,g){this.eq[0]=a;this.eq[1]=b;this.eq[2]=-d;this.fq[0]=c;this.fq[1]=e;this.fq[2]=-g},yca(a){this.Ki=Math.max(a,
0)},pfa(a){const b=a[1];(a=Im(this.j.pb,a[0]))&&Tz(this,"unload",{url:a.url,type:a.type,isMusic:b})},qfa(a,b){a=1===a;(b=Im(this.j.pb,b)||this.fo.get(b.toLowerCase()))&&Tz(this,"unload",{url:b.url,type:b.type,isMusic:a})},ofa(){Tz(this,"unload-all")},T5(a,b,d){this.fo.set(d.toLowerCase(),{url:a,type:b})}};
self.D.F.Audio.uc={E7(a){return(a=KG(this,a))?a.duration:0},A_(a){return(a=KG(this,a))?a.playbackTime:0},z_(a){return(a=KG(this,a))?a.playbackRate:0},G0(a){return(a=KG(this,a))?Math.log(Math.max(Math.min(a.volume,1),0))/Math.log(10)*20:0},j$(){return Math.log(Math.max(Math.min(this.bw,1),0))/Math.log(10)*20},F7(a){return this.fE.get(a.toLowerCase())||0},g6(a,b){return(a=PG(this,a,Math.floor(b)))?a.binCount:0},f6(a,b,d){a=PG(this,a,Math.floor(b));if(!a)return 0;d=Math.floor(d);return 0>d||d>=a.binCount?
0:a.freqBins[d]},h6(a,b){return(a=PG(this,a,Math.floor(b)))?a.peak:0},i6(a,b){return(a=PG(this,a,Math.floor(b)))?a.rms:0},xca(){return this.eU},u7(){return self.C3_GetAudioContextCurrentTime?self.C3_GetAudioContextCurrentTime():performance.now()/1E3},faa(){return this.KM}};"use strict";const TG=self.D;TG.F.Touch=class extends TG.Kl{constructor(a){super(a)}A(){super.A()}};const UG=self.D,VG=self.Gf;UG.F.Touch.nf=class extends UG.cp{constructor(a){super(a)}A(){super.A()}ac(){}Jf(){return self.yY}};
let WG=null;self.yY=class extends self.Rx{constructor(a){super(a);WG=a;a.K().Yu.hP=this}requestPermission(a){VG.kf(a);const b=WG.jk().oa;if("orientation"===a)return XG(b,0);if("motion"===a)return XG(b,1);throw Error("invalid type");}};const YG=self.D;function XG(a,b){Vz(a,"request-permission",{type:b});return new Promise((d,c)=>{a.TF.push({type:b,resolve:d,reject:c})})}
function ZG(a,b){const d=b.result,c=b.type;a.EN=c;b=a.TF.filter(e=>e.type===c);for(const e of b)e.resolve(d?"granted":"denied");a.TF=a.TF.filter(e=>e.type!==c);d?(a.na(YG.F.Touch.H.c_),0===c?GE(a.j):HE(a.j)):a.na(YG.F.Touch.H.b_)}function $G(a,b){b=Math.floor(b);for(const d of a.ge.values()){if(0===b)return d;--b}return null}function aH(a,b,d){return 0<=b&&0<=d&&b<lE(a.j)&&d<mE(a.j)}
YG.F.Touch.Instance=class extends YG.bp{constructor(a,b){super(a,"touch");this.ge=new Map;this.hF=this.FU=!1;this.Iq=this.BE=this.vi=this.ti=this.EN=this.EG=this.Pw=this.EJ=this.DJ=this.CJ=this.HJ=this.GJ=this.FJ=this.JM=this.IM=this.HM=this.PF=0;this.TF=[];b&&(this.FU=b[0]);this.uH("permission-result",d=>ZG(this,d));a=this.K().sb();this.Wd=new YG.Hm(YG.Eb.Ub(a,"pointerdown",d=>this.wy(d.data)),YG.Eb.Ub(a,"pointermove",d=>this.xy(d.data)),YG.Eb.Ub(a,"pointerup",d=>this.Nr(d.data,!1)),YG.Eb.Ub(a,"pointercancel",
d=>this.Nr(d.data,!0)),YG.Eb.Ub(a,"deviceorientation",d=>{d=d.data;"number"===typeof d.webkitCompassHeading?this.PF=d.webkitCompassHeading:d.absolute&&(this.PF=d.alpha);this.HM=d.alpha;this.IM=d.beta;this.JM=d.gamma}),YG.Eb.Ub(a,"deviceorientationabsolute",d=>{this.PF=d.data.alpha}),YG.Eb.Ub(a,"devicemotion",d=>{d=d.data;const c=d.acceleration;c&&(this.FJ=c.x,this.GJ=c.y,this.HJ=c.z);if(d=d.accelerationIncludingGravity)this.CJ=d.x,this.DJ=d.y,this.EJ=d.z}),YG.Eb.Ub(a,"tick2",()=>this.sJ()))}A(){this.ge.clear();
super.A()}wy(a){if("mouse"===a.pointerType)if(this.FU)this.hF=!0;else return;const b=a.pointerId;if(!this.ge.has(b)){var d=a.pageX-this.j.Mm();a=a.pageY-this.j.Nm();var c=performance.now(),e=this.ge.size;this.Pw=e;this.EG=b;var g=YG.C(YG.F.Touch.y0);g.Fl(c,d,a,b,e);this.ge.set(b,g);this.na(YG.F.Touch.H.WZ);this.na(YG.F.Touch.H.r_);this.ti=d;this.vi=a;this.Iq=0;this.na(YG.F.Touch.H.sI)}}xy(a){if("mouse"!==a.pointerType||this.hF){var b=this.ge.get(a.pointerId);if(b){var d=performance.now();2>d-b.Ha()||
b.fn(d,a.pageX-this.j.Mm(),a.pageY-this.j.Nm(),a.width,a.height,a.pressure)}}}Nr(a,b){if("mouse"===a.pointerType)if(this.hF)this.hF=!1;else return;const d=performance.now(),c=a.pointerId,e=this.ge.get(c);if(e){this.Pw=e.Je;this.EG=e.hj();if(!b){const g=a.pageY-this.j.Nm();this.ti=a.pageX-this.j.Mm();this.vi=g;this.Iq=1;this.na(YG.F.Touch.H.sI)}this.na(YG.F.Touch.H.VZ);this.na(YG.F.Touch.H.wQ);b||(a=bH(e,d),"single-tap"===a?(this.na(YG.F.Touch.H.p_),this.ti=e.X(),this.vi=e.Y(),this.na(YG.F.Touch.H.q_)):
"double-tap"===a&&(this.na(YG.F.Touch.H.xZ),this.ti=e.X(),this.vi=e.Y(),this.na(YG.F.Touch.H.yZ)));e.A();this.ge.delete(c)}}sJ(){const a=performance.now();let b=0;for(const c of this.ge.values()){c.Ha()<=a-50&&(c.zF=a);var d=c.gL?!1:500<=a-c.Bq&&!c.oF&&15>cH.ci(c.uG,c.vG,c.ka,c.aa)?c.gL=!0:!1;d&&(this.Pw=c.Je,this.EG=c.hj(),this.BE=b,this.na(YG.F.Touch.H.KZ),this.ti=c.X(),this.vi=c.Y(),this.na(YG.F.Touch.H.LZ),this.BE=0);++b}}};const dH=self.D;
dH.F.Touch.H={r_(){return!0},wQ(){return!0},m9(){return 0<this.ge.size},sI(a,b){return a&&b===this.Iq&&aH(this,this.ti,this.vi)?TC(this.j.fc,a,[[this.ti,this.vi]],!1):!1},OY(a){if(!a)return!1;const b=this.j.Hf().Hi,d=[...this.ge.values()].filter(c=>aH(this,c.X(),c.Y())).map(c=>[c.X(),c.Y()]);return dH.xor(TC(this.j.fc,a,d,b),b)},g7(a,b,d){return(a=$G(this,a))?dH.compare(a.kk(),b,d):!1},daa(){return!0},n$(){return!0},e7(a,b,d){GE(this.j);return dH.compare(0===a?this.HM:1===a?this.IM:this.JM,b,d)},
V6(a,b,d){HE(this.j);return dH.compare(0===a?this.CJ:1===a?this.DJ:2===a?this.EJ:3===a?this.FJ:4===a?this.GJ:this.HJ,b,d)},WZ(a){a=Math.floor(a);return a===this.Pw},VZ(a){a=Math.floor(a);return a===this.Pw},s8(a){a=Math.floor(a);return this.ge.size>=a+1},KZ(){return!0},p_(){return!0},xZ(){return!0},LZ(a){return a&&aH(this,this.ti,this.vi)?TC(this.j.fc,a,[[this.ti,this.vi]],!1):!1},q_(a){return a&&aH(this,this.ti,this.vi)?TC(this.j.fc,a,[[this.ti,this.vi]],!1):!1},yZ(a){return a&&aH(this,this.ti,this.vi)?
TC(this.j.fc,a,[[this.ti,this.vi]],!1):!1},c_(a){return this.EN===a},b_(a){return this.EN===a}};self.D.F.Touch.Pa={xba(a){XG(this,a)}};const eH=self.D;
eH.F.Touch.uc={ifa(){return this.ge.size},hD(a){const b=$G(this,this.BE);return b?fH(b,Bo(this.j),a,!0):0},iD(a){const b=$G(this,this.BE);return b?fH(b,Bo(this.j),a,!1):0},Yfa(a,b){return(a=$G(this,a))?fH(a,Bo(this.j),b,!0):0},$fa(a,b){return(a=$G(this,a))?fH(a,Bo(this.j),b,!1):0},Zfa(a,b){return(a=this.ge.get(a))?fH(a,Bo(this.j),b,!0):0},aga(a,b){return(a=this.ge.get(a))?fH(a,Bo(this.j),b,!1):0},vW(){const a=$G(this,0);return a?a.X():0},wW(){const a=$G(this,0);return a?a.Y():0},v5(a){return(a=$G(this,
a))?a.X():0},x5(a){return(a=$G(this,a))?a.Y():0},w5(a){return(a=this.ge.get(a))?a.X():0},y5(a){return(a=this.ge.get(a))?a.Y():0},Dea(a){return(a=$G(this,a))?a.kk():0},Eea(a){return(a=this.ge.get(a))?a.kk():0},k6(a){return(a=$G(this,a))?eH.Gd(a.Na()):0},l6(a){return(a=this.ge.get(a))?eH.Gd(a.Na()):0},k7(){GE(this.j);return this.PF},e6(){GE(this.j);return this.HM},C6(){GE(this.j);return this.IM},b8(){GE(this.j);return this.JM},A5(){HE(this.j);return this.CJ},C5(){HE(this.j);return this.DJ},E5(){HE(this.j);
return this.EJ},z5(){HE(this.j);return this.FJ},B5(){HE(this.j);return this.GJ},D5(){HE(this.j);return this.HJ},kfa(){return this.Pw},jfa(){return this.EG},Sfa(a){return(a=this.ge.get(a))?a.P():0},w8(a){return(a=this.ge.get(a))?a.N():0},Yaa(a){return(a=this.ge.get(a))?a.RT:0}};"use strict";const cH=self.D;let gH=-1E3,hH=-1E3,iH=-1E4;
function bH(a,b){if(a.gL)return"";if(333>=b-a.Bq&&!a.oF&&15>cH.ci(a.uG,a.vG,a.ka,a.aa)){if(666>=b-iH&&25>cH.ci(gH,hH,a.ka,a.aa))return hH=gH=-1E3,iH=-1E4,"double-tap";gH=a.ka;hH=a.aa;iH=b;return"single-tap"}return""}function fH(a,b,d,c){return"undefined"===typeof d?xo(Do(b,0),a.ka,a.aa)[c?0:1]:(b=b.fa(d))?Mn(b,a.ka,a.aa)[c?0:1]:0}
cH.F.Touch.y0=class extends cH.Ca{constructor(){super();this.RT=this.T=this.S=this.BF=this.AF=this.aa=this.ka=this.vG=this.uG=this.zF=this.Gc=this.Bq=this.Je=this.PT=0;this.oF=this.gL=!1}A(){}Fl(a,b,d,c,e){this.PT=c;this.Je=e;this.Bq=this.zF=this.Gc=a;this.uG=b;this.vG=d;this.ka=b;this.aa=d;this.AF=b;this.BF=d}fn(a,b,d,c,e,g){this.zF=this.Gc;this.Gc=a;this.AF=this.ka;this.BF=this.aa;this.ka=b;this.aa=d;this.S=c;this.T=e;this.RT=g;!this.oF&&15<=cH.ci(this.uG,this.vG,this.ka,this.aa)&&(this.oF=!0)}hj(){return this.PT}Ha(){return this.Gc}X(){return this.ka}Y(){return this.aa}kk(){const a=
cH.ci(this.ka,this.aa,this.AF,this.BF),b=(this.Gc-this.zF)/1E3;return 0<b?a/b:0}Na(){return cH.Do(this.AF,this.BF,this.ka,this.aa)}P(){return this.S}N(){return this.T}};"use strict";const jH=self.D;jH.F.oi=class extends jH.Kl{constructor(a){super(a)}A(){super.A()}};const kH=self.D;function lH(a){switch(a){case 0:return"clamp-to-edge";case 2:return"mirror-repeat"}return"repeat"}
kH.F.oi.nf=class extends kH.cp{constructor(a,b){super(a);this.$i=this.Zi="repeat";b&&(this.Zi=lH(b[0]),this.$i=lH(b[1]))}A(){super.A()}ac(){lA(this.xd(),this.j)}pu(a){return this.xd().Vm(a,{tc:this.j.ic,Fm:this.Zi,Gm:this.$i})}Ar(){this.xd().qk()}};const mH=self.D,nH=mH.C(mH.Rect),oH=mH.C(mH.yd),pH=mH.C(mH.Rect),qH=mH.C(mH.yd);function rH(a){a.B().Fb(65536,!0)}function sH(a,b){a.Gn!==b&&(a.Gn=b,a.j.qa(),rH(a))}function tH(a,b){a.Hn!==b&&(a.Hn=b,a.j.qa(),rH(a))}
function uH(a,b){a.Zl!==b&&(a.Zl=b,a.j.qa(),rH(a))}function vH(a,b){a.$l!==b&&(a.$l=b,a.j.qa(),rH(a))}function wH(a,b){a.yj!==b&&(a.yj=b,a.j.qa(),rH(a))}function xH(a,b){b=!!b;a.Ai!==b&&(a.Ai=b,a.j.qa())}function yH(a,b){a.uo!==b&&(a.uo=b,a.Ai&&a.j.qa())}function zH(a,b){a.vo!==b&&(a.vo=b,a.Ai&&a.j.qa())}function AH(a,b){a.qo!==b&&(a.qo=b,a.Ai&&a.j.qa())}function BH(a,b){a.ro!==b&&(a.ro=b,a.Ai&&a.j.qa())}function CH(a,b){a.to!==b&&(a.to=b,a.Ai&&a.j.qa())}
mH.F.oi.Instance=class extends mH.JI{constructor(a,b){super(a);this.Hn=this.Gn=0;this.$l=this.Zl=1;this.yj=0;this.Ai=!1;this.to=this.ro=this.qo=this.vo=this.uo=0;this.hm=null;b&&(this.B().Ah(!!b[0]),this.Gn=b[4],this.Hn=b[5],this.Zl=b[6],this.$l=b[7],this.yj=mH.Ta(b[8]),this.Ai=!!b[9],this.uo=b[10],this.vo=b[11],this.qo=b[12],this.ro=b[13],this.to=b[14])}A(){this.hm&&(this.hm.A(),this.hm=null);super.A()}xl(a){var b=this.ie(),d=b.oc();if(null!==d){if(this.Ai){var c=this.ie();a.rk(a.UA);a.aR(c.P()*
this.Zl,c.N()*this.$l,this.uo,this.vo,this.qo,this.ro,this.to)}else Xf(a);a.te(d);d=b.P();b=b.N();c=this.Gn/d;var e=this.Hn/b,g=this.B();pH.set(0,0,g.P()/(d*this.Zl),g.N()/(b*this.$l));pH.offset(-c,-e);Wy(g)?this.iJ(g,a):this.jJ(g,a)}}jJ(a,b){let d=$B(a);this.j.On&&(d=vC(a,d));0===this.yj?b.Zm(d,pH):(Fc(qH,pH,-this.yj),b.SC(d,qH))}iJ(a,b){const d=xC(a);if(0!==(a.G&65536)){WB(a,nH,oH,!1);let c=oH;this.j.On&&(c=vC(a,c));let e=pH;0!==this.yj&&(Fc(qH,pH,-this.yj),e=qH);mg(d,Xy(a),c,e);a.Fb(65536,!1)}d.xl(b)}ie(){return this.hm||
this.R.xd()}jj(){return!0}oc(){return this.ie().oc()}Ic(){const a={};0!==this.Gn&&(a.iox=this.Gn);0!==this.Hn&&(a.ioy=this.Hn);1!==this.Zl&&(a.isx=this.Zl);1!==this.$l&&(a.isy=this.$l);0!==this.yj&&(a.ia=this.yj);this.Ai&&(a.tr=!0);1!==this.uo&&(a.trx=this.uo);1!==this.vo&&(a["try"]=this.vo);1!==this.qo&&(a.tra=this.qo);.1!==this.ro&&(a.trbmx=this.ro);.1!==this.to&&(a.trbmy=this.to);return a}pc(a){this.Gn=a.iox||0;this.Hn=a.ioy||0;this.Zl=a.hasOwnProperty("isx")?a.isx:1;this.$l=a.hasOwnProperty("isy")?
a.isy:1;this.yj=a.ia||0;this.Ai=!!a.tr;this.uo=a.hasOwnProperty("trx")?a.trx:1;this.vo=a.hasOwnProperty("try")?a["try"]:1;this.qo=a.hasOwnProperty("tra")?a.tra:1;this.ro=a.hasOwnProperty("trbmx")?a.trbmx:.1;this.to=a.hasOwnProperty("trbmy")?a.trbmy:.1}Ac(a){switch(a){case 4:return this.Gn;case 5:return this.Hn;case 6:return this.Zl;case 7:return this.$l;case 8:return this.yj;case 9:return this.Ai;case 10:return this.uo;case 11:return this.vo;case 12:return this.qo;case 13:return this.ro;case 14:return this.to}}Nf(a,
b){switch(a){case 4:sH(this,b);break;case 5:tH(this,b);break;case 6:uH(this,b);break;case 7:vH(this,b);break;case 8:wH(this,b);break;case 9:xH(this,!!b);break;case 10:yH(this,b);break;case 11:zH(this,b);break;case 12:AH(this,b);break;case 13:BH(this,b);break;case 14:CH(this,b)}}Jf(){return self.Sx}};const DH=new WeakMap;self.Sx=class extends self.DC{constructor(){super();DH.set(this,self.lk.zk().oa)}get imageWidth(){return DH.get(this).ie().P()}get imageHeight(){return DH.get(this).ie().N()}};
self.D.F.oi.H={PC(){return!0},tI(){return!0},I9(){return this.Ai}};const EH=self.D;
EH.F.oi.Pa={rda(a){sH(this,a)},sda(a){tH(this,a)},tda(a){uH(this,a/100)},uda(a){vH(this,a/100)},qda(a){wH(this,EH.Ta(a))},nea(a){xH(this,a)},mea(a,b){yH(this,a/100);zH(this,b/100)},kea(a){AH(this,a/100)},lea(a,b){BH(this,a/100);CH(this,b/100)},V_(a){this.B().Me(a);this.j.qa()},async ZY(a){if(!this.hm||this.hm.Wi!==a){var b=this.j,d=EH.C(EH.Tx);try{await mA(d,b,a);if(!d.HC())throw Error("image failed to load");if(this.vk())return d.A(),null;if(!await d.Vm(b.Ga(),{tc:b.ic,Fm:"repeat",Gm:"repeat"}))return}catch(c){console.error("Load image from URL failed: ",
c);this.vk()||this.na(EH.F.oi.H.tI);return}this.vk()?d.A():(this.hm&&(this.hm.A(),this.hm=null),this.hm=d,b.qa(),await this.Jc(EH.F.oi.H.PC))}}};const FH=self.D;FH.F.oi.uc={CY(){return this.ie().P()},AY(){return this.ie().N()},E8(){return this.Gn},F8(){return this.Hn},K8(){return 100*this.Zl},L8(){return 100*this.$l},B8(){return FH.Gd(this.yj)},cfa(){return 100*this.uo},dfa(){return 100*this.vo},$ea(){return 100*this.qo},afa(){return 100*this.ro},bfa(){return 100*this.to}};"use strict";const GH=self.D;
async function HH(a,b,d,c){var e=a.za();let g=a=null,k=0,l=0;for(const n of e){e=bt(n,GH.O.gj);if(!e.od()||e.ku()||Mq(n))continue;const p=n.B(),r=p.fa(),[w,x]=Mn(r,d,c,so(p));if(!Hn(r)||!Pl(p,w,x))continue;if(!a){a=n;g=e;k=w;l=x;continue}const z=a.B();if(r.Ma()>z.fa().Ma()||r.Ma()===z.fa().Ma()&&Ol(p)>Ol(z))a=n,g=e,k=w,l=x}a&&await IH(g,b,k,l)}async function JH(a,b){a=a.za();for(const d of a)a=bt(d,GH.O.gj),a.ku()&&a.DK===b&&await KH(a)}
GH.O.gj=class extends GH.Yo{constructor(a){super(a);a=this.j.sb();this.Wd=new GH.Hm(GH.Eb.Ub(a,"pointerdown",b=>this.wy(b.data)),GH.Eb.Ub(a,"pointermove",b=>this.xy(b.data)),GH.Eb.Ub(a,"pointerup",b=>this.Nr(b.data,!1)),GH.Eb.Ub(a,"pointercancel",b=>this.Nr(b.data,!0)))}A(){this.Wd.A();this.Wd=null;super.A()}wy(a){"mouse"===a.pointerType&&0!==a.button||HH(this,a.pointerId.toString(),a.pageX-this.j.Mm(),a.pageY-this.j.Nm())}xy(a){if(0!==(a.lastButtons&1)&&0===(a.buttons&1))JH(this,a.pointerId.toString());
else{var b=a.pointerId.toString(),d=a.pageX-this.j.Mm();a=a.pageY-this.j.Nm();var c=this.za();for(const k of c){c=bt(k,GH.O.gj);if(!c.od()||!c.ku()||c.ku()&&c.DK!==b)continue;var e=k.B(),g=e.fa();const [l,n]=Mn(g,d,a,so(e));e=c.B();g=l-c.tb;const p=n-c.cb;if(0===c.Ik){if(e.X()!==g||e.Y()!==p)Ml(e,g,p),U(e)}else 1===c.Ik?e.X()!==g&&(e.Pg(g),U(e)):2===c.Ik&&e.Y()!==p&&(e.Bh(p),U(e))}}}Nr(a){"mouse"===a.pointerType&&0!==a.button||JH(this,a.pointerId.toString())}};const LH=self.D;LH.O.gj.nf=class extends LH.$o{constructor(a){super(a)}A(){super.A()}ac(){}};
const MH=self.D,NH=self.lr;async function IH(a,b,d,c){const e=a.B();a.tb=d-e.X();a.cb=c-e.Y();a.Gv=!0;a.DK=b;a.bk("dragstart");await a.Jc(MH.O.gj.H.zZ)}async function KH(a){a.Gv=!1;a.bk("drop");await a.Jc(MH.O.gj.H.AZ)}
MH.O.gj.Instance=class extends MH.Zo{constructor(a,b){super(a);this.Gv=!1;this.cb=this.tb=0;this.DK="<none>";this.Ik=0;this.fb=!0;b&&(this.Ik=b[0],this.fb=b[1])}A(){super.A()}Ic(){return{a:this.Ik,e:this.fb}}pc(a){this.Ik=a.a;this.fb=a.e;this.Gv=!1}Pe(a){this.fb=!!a;this.fb||(this.Gv=!1)}od(){return this.fb}ku(){return this.Gv}Ac(a){switch(a){case 0:return this.Ik;case 1:return this.od()}}Nf(a,b){switch(a){case 0:this.Ik=b;break;case 1:this.Pe(!!b)}}Jf(){return self.lY}};
const OH=new WeakMap,PH=["both","horizontal","vertical"];self.lY=class extends NH{constructor(){super();OH.set(this,NH.zk().oa)}set axes(a){a=PH.indexOf(a);if(-1===a)throw Error("invalid axes");OH.get(this).Ik=a}get axes(){return PH[OH.get(this).Ik]}get isEnabled(){return OH.get(this).od()}set isEnabled(a){OH.get(this).Pe(a)}};self.D.O.gj.H={ku(){return this.ku()},zZ(){return!0},AZ(){return!0},od(){return this.od()}};self.D.O.gj.Pa={zh(a){this.Pe(!!a)},Ica(a){this.Ik=a},D7(){this.Gv&&KH(this)}};
self.D.O.gj.uc={};"use strict";const QH=self.D;QH.O.sg=class extends QH.Yo{constructor(a){super(a)}A(){super.A()}};const RH=self.D;RH.O.sg.nf=class extends RH.$o{constructor(a){super(a)}A(){super.A()}ac(){}};const SH=self.D,TH=self.Gf,UH=self.lr;function VH(a,b,d,c,e){c&&SH.I(a.mc);a.mc.push({x:b,y:d,ej:e});a.fb&&a.ve()}function WH(a){SH.I(a.mc);a.md=0;a.Ek()}function XH(a){return 0<a.mc.length&&(a=a.mc[0],a.ej)?a.ej.uO:!1}
function YH(a){return 0<a.mc.length&&(a=a.mc[0],a.ej)?a.ej.uO&&a.ej.o4:!1}function ZH(a){return a.fb&&a.mp()&&XH(a)?YH(a)?!0:!1:0!==a.mm}function $H(a,b,d,c){Ml(b,d,c);U(b);b=a.mc[0];b.ej&&b.ej.uO?(a.Mv=b.ej.dV,a.$p=b.ej.eV):(a.Mv=NaN,a.$p=NaN);a.mc.shift();0===a.mc.length&&(a.rm&&(a.rm.A(),a.rm=null,a.Mv=NaN,a.$p=NaN),a.md=0,a.Ek());a.bk("arrived");a.na(SH.O.sg.H.mQ)}
SH.O.sg.Instance=class extends SH.Zo{constructor(a,b){super(a);this.Xe=200;this.Cg=this.si=600;this.mm=0;this.lt=!0;this.tt=!1;this.fb=!0;this.md=0;this.bl=this.B().Na();this.mc=[];b&&(this.Xe=b[0],this.si=b[1],this.Cg=b[2],this.mm=SH.Ta(b[3]),this.lt=b[4],this.tt=b[5],this.fb=b[6]);this.rm=null;this.$p=this.Mv=NaN}A(){this.rm&&(this.rm.A(),this.rm=null);this.$p=this.Mv=NaN;super.A()}Ic(){return{ms:this.Xe,acc:this.si,dec:this.Cg,rs:this.mm,sa:this.lt,sos:this.tt,s:this.md,ma:this.bl,wp:this.mc.map(a=>
({x:a.x,y:a.y})),e:this.fb}}pc(a){this.Xe=a.ms;this.si=a.acc;this.Cg=a.dec;this.mm=a.rs;this.lt=a.sa;this.tt=a.sos;this.md=a.s;this.bl=a.ma;this.mc=a.wp.map(b=>({x:b.x,y:b.y}));this.Pe(a.e);this.fb&&0<this.mc.length&&this.ve()}mp(){return 0<this.mc.length}Rr(a){this.mp()&&(this.md=Math.min(a,this.Xe))}Ak(){return this.md}By(a){this.Xe=Math.max(a,0);this.Rr(this.md)}Oe(){if(this.fb&&this.mp()){var a=Uk(this.j,this.L),b=this.L.B(),d=b.X(),c=b.Y(),e=b.Na(),g=this.md,k=this.Xe,l=this.si,n=this.Cg,p=0<
this.mc.length?this.mc[0].x:0,r=0<this.mc.length?this.mc[0].y:0,w=SH.Do(d,c,p,r),x=!1;0<n&&1===this.mc.length&&(x=.5*g*g/n*1.0001,x=SH.$G(d,c,p,r)<=x*x)&&(this.md=k=g=Math.sqrt(2*n*SH.ci(d,c,p,r)));if(ZH(this)){var z=SH.Rq(this.bl,w);if(z>Number.EPSILON){const F=z/this.mm;z*=SH.ci(b.X(),b.Y(),p,r)/(2*Math.sin(z));k=Math.min(k,SH.$(z/F,0,this.Xe))}}g=Math.min(g*a+.5*(x?-n:l)*a*a,k*a);if(x){if(0<n&&(this.md=Math.max(this.md-n*a,0),0===this.md)){$H(this,b,p,r);return}}else this.md=0===l?k:Math.min(this.md+
l*a,k);if(SH.$G(b.X(),b.Y(),p,r)<=g*g)$H(this,b,p,r);else{this.bl=ZH(this)?SH.TG(this.bl,w,this.mm*a):w;Fo(b,Math.cos(this.bl)*g,Math.sin(this.bl)*g);if(this.lt)if(a=YH(this),XH(this)&&!a){a:{if(0<this.mc.length&&(a=this.mc[0],a.ej)){a=a.ej.eV;break a}a=!1}a:{if(0<this.mc.length&&(k=this.mc[0],k.ej)){k=k.ej.dV;break a}k=!1}n=k;k=b.X();l=b.Y();self.isNaN(this.$p)&&(this.$p=0);a=this.$p===a?this.rm.su(k,l,{kx:[this.Mv,n]}):this.rm.su(k,l);a=this.rm.WI(k,l,a[2],a[4]);b.ad(a)}else b.ad(this.bl),this.$p=
this.Mv=NaN;U(b);b=this.j.fc;this.tt&&UC(b,this.L)&&(WH(this),a=this.L.B(),k=a.X(),l=a.Y(),n=SH.Do(k,l,d,c),XC(b,this.L,Math.cos(n),Math.sin(n),Math.max(SH.ci(k,l,d,c),1))||(Ml(a,d,c),a.ad(e),U(a)),this.bk("hitsolid"),this.na(SH.O.sg.H.JZ))}}}Dk(a){this.si=Math.max(a,0)}yk(){return this.si}Ay(a){this.Cg=Math.max(a,0)}Pe(a){a=!!a;this.fb!==a&&((this.fb=a)&&this.mp()?this.ve():this.Ek())}Ac(a){switch(a){case 0:return this.Xe;case 1:return this.yk();case 2:return this.Cg;case 3:return SH.Gd(this.mm);
case 4:return this.lt;case 5:return this.tt;case 6:return this.fb}}Nf(a,b){switch(a){case 0:this.By(b);break;case 1:this.Dk(b);break;case 2:this.Ay(b);break;case 3:this.mm=Math.max(SH.Ta(b),0);break;case 4:this.lt=!!b;break;case 5:this.tt=!!b;break;case 6:this.Pe(b)}}Jf(){return self.rY}};const aI=new WeakMap;
self.rY=class extends UH{constructor(){super();aI.set(this,UH.zk().oa)}stop(){WH(aI.get(this))}get speed(){return aI.get(this).Ak()}set speed(a){TH.Ud(a);aI.get(this).Rr(a)}get acceleration(){return aI.get(this).yk()}set acceleration(a){TH.Ud(a);aI.get(this).Dk(a)}get isEnabled(){return aI.get(this).fb}set isEnabled(a){aI.get(this).Pe(a)}};const bI=self.D;bI.O.sg.H={aQ(){return this.mp()},$W(a,b){return bI.compare(this.Ak(),a,b)},od(){return this.fb},mQ(){return!0},JZ(){return!0}};const cI=self.D;
cI.O.sg.Pa={fZ(a,b,d){VH(this,a,b,0===d)},u$(a,b,d){if(a&&(a=gx(a,this.L))&&a.B()){var [c,e]=a.Cl(b);VH(this,c,e,0===d)}},o$(a){var b=bt(this.L,cI.O.kaa);if(b&&(b=b.fga(),0!==b.length))for(let d=0,c=b.length;d<c;++d){const e=b[d];VH(this,e.x,e.y,0===d&&0===a)}},eZ(a,b,d){a=cI.C(cI.v0,a,b);if(a.Rp){a.aD(this.L.B());b=!0;for(const g of a.Pj)switch(g.vc()){case "line":var c=g.X(),e=g.Y();VH(this,c,e,b&&0===d);b=!1;break;case "cubic-bezier":for(c=0;c<=Math.floor(g.aM/30);c++){e=1/Math.floor(g.aM/30)*
c;const k=g.Map(e);VH(this,k[0],k[1],b&&0===d,{uO:!0,o4:b,dV:kq(g,e),eV:g.Ma()});b=!1}}this.rm=a}else a.A()},p$(a,b,d){(a=Pp(this.j.Rb,a))&&cI.O.sg.Pa.eZ.call(this,a,b,d)},ue(){WH(this)},$da(a){this.bl=cI.Ta(a);this.fb&&this.lt&&!this.mp()&&(a=this.B(),a.ad(this.bl),U(a))},Z_(a){this.Rr(a)},WQ(a){this.By(a)},RQ(a){this.Dk(a)},U_(a){this.Ay(a)},gea(a){this.mm=Math.max(cI.Ta(a),0)},jea(a){this.tt=!!a},zh(a){this.Pe(a)}};const dI=self.D;
dI.O.sg.uc={fR(){return this.Ak()},hQ(){return this.Xe},mP(){return this.yk()},gX(){return this.Cg},gZ(){return dI.Gd(this.bl)},pca(){return dI.Gd(this.mm)},Vea(){return 0<this.mc.length?this.mc[0].x:0},Wea(){return 0<this.mc.length?this.mc[0].y:0},Ffa(){return this.mc.length},Gfa(a){a=Math.floor(a);return 0>a||a>=this.mc.length?0:this.mc[a].x},Hfa(a){a=Math.floor(a);return 0>a||a>=this.mc.length?0:this.mc[a].y}};"use strict";const fI=self.D;fI.O.Jt=class extends fI.Yo{constructor(a){super(a)}A(){super.A()}};
const gI=self.D;gI.O.Jt.nf=class extends gI.$o{constructor(a){super(a)}A(){super.A()}ac(){}};const hI=self.D;hI.O.Jt.Instance=class extends hI.Zo{constructor(a){super(a);this.ve()}A(){super.A()}Oe(){var a=this.L.B();const b=Nl(a);a=a.zc();(0>b.wa||0>b.ra||b.la>a.P()||b.ea>a.N())&&Fl(this.j,this.L)}};self.D.O.Jt.H={};self.D.O.Jt.Pa={};self.D.O.Jt.uc={};"use strict";const iI=self.D;iI.O.Dr=class extends iI.Yo{constructor(a){super(a)}A(){super.A()}};const jI=self.D;jI.O.Dr.nf=class extends jI.$o{constructor(a){super(a)}A(){super.A()}ac(){}};
const kI=self.D,lI=self.Gf,mI=self.lr;
kI.O.Dr.Instance=class extends kI.Zo{constructor(a,b){super(a);this.Tr=this.md=0;this.fb=!0;b&&(this.md=kI.Ta(b[0]),this.Tr=kI.Ta(b[1]),this.fb=b[2]);this.fb&&this.ve()}A(){super.A()}Rr(a){this.md=a}Ak(){return this.md}Dk(a){this.Tr=a}yk(){return this.Tr}Ic(){return{s:this.md,a:this.Tr,e:this.fb}}pc(a){this.md=a.s;this.Tr=a.a;this.Pe(a.e)}Oe(){if(this.fb){var a=Uk(this.j,this.L);if(0!==a&&(0!==this.Tr&&(this.md+=this.Tr*a),0!==this.md)){const b=this.L.B();b.ad(b.Na()+this.md*a);U(b)}}}Ac(a){switch(a){case 0:return kI.Gd(this.Ak());
case 1:return kI.Gd(this.yk());case 2:return this.fb}}Nf(a,b){switch(a){case 0:this.Rr(kI.Ta(b));break;case 1:this.Dk(kI.Ta(b));break;case 2:this.Pe(b)}}Pe(a){(this.fb=!!a)?this.ve():this.Ek()}Jf(){return self.tY}};const nI=new WeakMap;self.tY=class extends mI{constructor(){super();nI.set(this,mI.zk().oa)}set speed(a){lI.Ud(a);nI.get(this).Rr(a)}get speed(){return nI.get(this).Ak()}set acceleration(a){lI.Ud(a);nI.get(this).Dk(a)}get acceleration(){return nI.get(this).yk()}get isEnabled(){return nI.get(this).fb}set isEnabled(a){nI.get(this).Pe(a)}};
self.D.O.Dr.H={od(){return this.fb}};const oI=self.D;oI.O.Dr.Pa={Z_(a){this.Rr(oI.Ta(a))},RQ(a){this.Dk(oI.Ta(a))},zh(a){this.Pe(a)}};const pI=self.D;pI.O.Dr.uc={fR(){return pI.Gd(this.Ak())},mP(){return pI.Gd(this.yk())}};"use strict";const qI=self.D;qI.O.ck=class extends qI.Yo{constructor(a){super(a)}A(){super.A()}};const rI=self.D;rI.O.ck.nf=class extends rI.$o{constructor(a){super(a)}A(){super.A()}ac(){}};const sI=self.D,tI=self.lr;
sI.O.ck.Instance=class extends sI.Zo{constructor(a,b){super(a);this.An=this.xm=this.Xl=0;this.tD=this.xi=!0;this.iU=!1;this.Bf=0;this.nl=sI.C(sI.ou);this.hq=this.L.B().nc()||1;b&&(this.Xl=b[0],this.xm=b[1],this.An=b[2],this.xi=!!b[3],this.Bf=(this.tD=!!b[4])?0:3);this.tD&&(0===this.Xl?(this.Bf=1,0===this.xm&&(this.Bf=2)):(this.L.B().Ne(0),this.j.qa()));this.ve()}A(){super.A()}Ic(){return{fit:this.Xl,wt:this.xm,fot:this.An,d:this.xi,s:this.Bf,st:this.nl.ba(),mo:this.hq}}pc(a){this.Xl=a.fit;this.xm=
a.wt;this.An=a.fot;this.xi=a.d;this.Bf=a.s;this.nl.Set(a.st);this.hq=a.mo;3===this.Bf?this.Ek():this.ve()}Oe(){this.nl.Tb(Uk(this.j,this.L));const a=this.L.B();0===this.Bf&&(a.Ne(this.nl.ba()/this.Xl*this.hq),this.j.qa(),a.nc()>=this.hq&&(a.Ne(this.hq),this.Bf=1,this.nl.Yb(),this.bk("fadeinend"),this.na(sI.O.ck.H.EZ)));1===this.Bf&&this.nl.ba()>=this.xm&&(this.Bf=2,this.nl.Yb(),this.bk("waitend"),this.na(sI.O.ck.H.u_));2===this.Bf&&(0!==this.An?(a.Ne(this.hq-this.nl.ba()/this.An*this.hq),this.j.qa(),
0>=a.nc()&&(this.Bf=3,this.nl.Yb(),this.bk("fadeoutend"),this.na(sI.O.ck.H.FZ),this.xi&&Fl(this.j,this.L))):(this.Bf=3,this.nl.Yb()));3===this.Bf&&this.Ek()}bn(){this.Bf=0;this.nl.Yb();0===this.Xl?(this.Bf=1,0===this.xm&&(this.Bf=2)):(this.L.B().Ne(0),this.j.qa());this.ve()}Ac(a){switch(a){case 0:return this.Xl;case 1:return this.xm;case 2:return this.An;case 3:return this.xi}}Nf(a,b){switch(a){case 0:this.Xl=Math.max(b,0);break;case 1:this.xm=Math.max(b,0);break;case 2:this.An=Math.max(b,0);break;
case 3:this.xi=!!b}}Jf(){return self.mY}};const uI=new WeakMap;self.mY=class extends tI{constructor(){super();uI.set(this,tI.zk().oa)}};self.D.O.ck.H={FZ(){return!0},EZ(){return!0},u_(){return!0}};self.D.O.ck.Pa={g0(){this.tD||this.iU||(this.hq=this.L.B().nc()||1,this.iU=!0);3===this.Bf&&this.bn()},kca(){this.bn()},bda(a){this.Xl=Math.max(a,0)},tea(a){this.xm=Math.max(a,0)},cda(a){this.An=Math.max(a,0)}};self.D.O.ck.uc={N7(){return this.Xl},Efa(){return this.xm},O7(){return this.An}};"use strict";
const vI=self.D;vI.O.Ym=class extends vI.Yo{constructor(a){super(a)}A(){super.A()}};const wI=self.D;wI.O.Ym.nf=class extends wI.$o{constructor(a){super(a)}A(){super.A()}ac(){}};const xI=self.D;function yI(a,b){b?(a.gl=b,a.DR()):(a.gl=null,a.rD())}
function zI(a,b,d,c){if(b&&(b=ay(b,a.L)))if(a.Ji=d,yI(a,b),d=a.L.B(),b=b.B(),"properties"===a.Ji){const e=a.dt;e.clear();for(const g of c)e.add(g);a.tb=d.X()-b.X();a.cb=d.Y()-b.Y();a.Bp=d.Na()-b.Na();a.bq=d.Na();a.eE=d.eb()-b.eb();e.has("x")&&e.has("y")&&(a.Zs=xI.Do(b.X(),b.Y(),d.X(),d.Y())-b.Na(),a.$f=xI.ci(b.X(),b.Y(),d.X(),d.Y()));e.has("width-abs")?a.gv=d.P()-b.P():e.has("width-scale")&&(a.gv=d.P()/b.P());e.has("height-abs")?a.dv=d.N()-b.N():e.has("height-scale")&&(a.dv=d.N()/b.N())}else a.$f=
xI.ci(b.X(),b.Y(),d.X(),d.Y())}
xI.O.Ym.Instance=class extends xI.Zo{constructor(a,b){super(a);this.gl=null;this.UF=-1;this.Ji="";this.dt=new Set;this.bq=this.eE=this.Bp=this.dv=this.gv=this.cb=this.tb=this.uA=this.Zs=this.$f=0;this.xi=!1;b&&(this.xi=b[0]);a=this.j.sb();this.Wd=new xI.Hm(xI.Eb.Ub(a,"instancedestroy",d=>this.vy(d.instance)),xI.Eb.Ub(a,"afterload",()=>this.Pf()))}A(){this.gl=null;super.A()}Ic(){const a=this.dt,b=this.Ji,d={uid:this.gl&&!Mq(this.gl)?this.gl.Sb:-1,m:b,d:this.xi};if("rope"===b||"bar"===b)d.pd=this.$f;
else if("properties"===b){d.ps=[...this.dt];a.has("imagepoint")?d.ip=this.uA:a.has("x")&&a.has("y")?(d.pa=this.Zs,d.pd=this.$f):(a.has("x")&&(d.dx=this.tb),a.has("y")&&(d.dy=this.cb));a.has("angle")&&(d.da=this.Bp,d.lka=this.bq);if(a.has("width-abs")||a.has("width-scale"))d.dw=this.gv;if(a.has("height-abs")||a.has("height-scale"))d.dh=this.dv;a.has("z")&&(d.dz=this.eE)}return d}pc(a){var b=a.m,d=this.dt;d.clear();this.UF=a.uid;if("number"===typeof b){b=this.dt;d=a.msa;var c=a.tsa;const e=a.pa,g=a.pd;
switch(a.m){case 0:this.Ji="properties";b.add("x").add("y").add("angle");this.Zs=e;this.$f=g;this.Bp=d-c;this.bq=a.lka;break;case 1:this.Ji="properties";b.add("x").add("y");this.Zs=e;this.$f=g;break;case 2:this.Ji="properties";b.add("angle");this.Bp=d-c;this.bq=a.lka;break;case 3:this.Ji="rope";this.$f=a.pd;break;case 4:this.Ji="bar",this.$f=a.pd}}else if(this.Ji=b,a.hasOwnProperty("d")&&(this.xi=!!a.d),"rope"===b||"bar"===b)this.$f=a.pd;else if("properties"===b){for(c of a.ps)d.add(c);d.has("imagepoint")?
this.uA=a.ip:d.has("x")&&d.has("y")?(this.Zs=a.pa,this.$f=a.pd):(d.has("x")&&(this.tb=a.dx),d.has("y")&&(this.cb=a.dy));d.has("angle")&&(this.Bp=a.da,this.bq=a.lka||0);if(d.has("width-abs")||d.has("width-scale"))this.gv=a.dw;if(d.has("height-abs")||d.has("height-scale"))this.dv=a.dh;d.has("z")&&(this.eE=a.dz)}}Pf(){-1===this.UF?yI(this,null):(yI(this,Lq(this.j,this.UF)),this.UF=-1)}vy(a){this.gl===a&&(yI(this,null),this.xi&&Fl(this.j,this.L))}ky(){var a=this.gl;if(a&&!Mq(a)){var b=a.B(),d=this.L.B(),
c=this.Ji,e=!1;if("rope"===c||"bar"===c){if(a=xI.ci(d.X(),d.Y(),b.X(),b.Y()),a>this.$f||"bar"===c&&a<this.$f)e=xI.Do(b.X(),b.Y(),d.X(),d.Y()),Ml(d,b.X()+Math.cos(e)*this.$f,b.Y()+Math.sin(e)*this.$f),e=!0}else{c=this.dt;if(c.has("imagepoint")){const [g,k]=a.Cl(this.uA);if(d.X()!==g||d.Y()!==k)Ml(d,g,k),e=!0}else if(c.has("x")&&c.has("y")){a=b.X()+Math.cos(b.Na()+this.Zs)*this.$f;const g=b.Y()+Math.sin(b.Na()+this.Zs)*this.$f;if(d.X()!==a||d.Y()!==g)Ml(d,a,g),e=!0}else a=b.X()+this.tb,c.has("x")&&
a!==d.X()&&(d.Pg(a),e=!0),a=b.Y()+this.cb,c.has("y")&&a!==d.Y()&&(d.Bh(a),e=!0);c.has("angle")&&(this.bq!==d.Na()&&(this.Bp=xI.Ed(this.Bp+(d.Na()-this.bq))),a=xI.Ed(b.Na()+this.Bp),a!==d.Na()&&(d.ad(a),e=!0),this.bq=d.Na());c.has("width-abs")&&(a=b.P()+this.gv,a!==d.P()&&(d.Of(a),e=!0));c.has("width-scale")&&(a=b.P()*this.gv,a!==d.P()&&(d.Of(a),e=!0));c.has("height-abs")&&(a=b.N()+this.dv,a!==d.N()&&(d.ug(a),e=!0));c.has("height-scale")&&(a=b.N()*this.dv,a!==d.N()&&(d.ug(a),e=!0));c.has("z")&&(a=
b.eb()+this.eE,a!==d.eb()&&(d.xg(a),this.j.qa()))}e&&U(d)}}};self.D.O.Ym.H={D9(){return!!this.gl},Tfa(){return this.xi}};
self.D.O.Ym.Pa={Eaa(a,b){zI(this,a,0===b?"rope":"bar")},y_(a,b,d,c,e,g,k){const l=[];b&&l.push("x");d&&l.push("y");c&&l.push("angle");k&&l.push("z");1===e?l.push("width-abs"):2===e&&l.push("width-scale");1===g?l.push("height-abs"):2===g&&l.push("height-scale");0!==l.length&&zI(this,a,"properties",l)},Faa(a,b,d,c,e,g){const k=["imagepoint"];d&&k.push("angle");g&&k.push("z");1===c?k.push("width-abs"):2===c&&k.push("width-scale");1===e?k.push("height-abs"):2===e&&k.push("height-scale");this.uA=b;zI(this,
a,"properties",k)},dea(a){if("rope"===this.Ji||"bar"===this.Ji)this.$f=Math.max(a,0)},Vca(a){this.xi=a},ufa(){yI(this,null);this.Ji="";this.dt.clear();this.uA=""},Ym(a,b){switch(b){case 0:zI(this,a,"properties",["x","y","angle"]);break;case 1:zI(this,a,"properties",["x","y"]);break;case 2:zI(this,a,"properties",["angle"]);break;case 3:zI(this,a,"rope");break;case 4:zI(this,a,"bar")}}};self.D.O.Ym.uc={Gaa(){return this.gl?this.gl.Sb:-1}};"use strict";const AI=self.D;AI.O.Lo=class extends AI.Yo{constructor(a){super(a)}A(){super.A()}};
const BI=self.D;BI.O.Lo.nf=class extends BI.$o{constructor(a){super(a)}A(){super.A()}ac(){}};const CI=self.D,DI=self.Gf,EI=self.lr,FI=new Set;
CI.O.Lo.Instance=class extends CI.Zo{constructor(a,b){super(a);this.zh(!0);b&&(this.zh(b[0]),this.Gr(b[1]))}A(){super.A()}zh(a){var b=this.L;b.G=a?b.G|8:b.G&-9}od(){return 0!==(this.L.G&8)}Gr(a){const b=this.L.ki();if(a.trim()){var d=b.get("solidTags");d||(d=new Set,b.set("solidTags",d));d.clear();for(const c of a.split(" "))c&&d.add(c.toLowerCase())}else b.delete("solidTags")}yC(){return this.L.ki().get("solidTags")||FI}Ic(){return{e:this.od()}}pc(a){this.zh(a.e)}Ac(a){switch(a){case 0:return this.od()}}Nf(a,
b){switch(a){case 0:this.zh(b)}}Jf(){return self.vY}};const GI=new WeakMap;self.vY=class extends EI{constructor(){super();GI.set(this,EI.zk().oa)}set isEnabled(a){GI.get(this).zh(!!a)}get isEnabled(){return GI.get(this).od()}set bW(a){DI.kf(a);GI.get(this).Gr(a)}get bW(){return[...GI.get(this).yC()].join(" ")}};self.D.O.Lo.H={od(){return this.od()}};self.D.O.Lo.Pa={zh(a){this.zh(a)},Gr(a){this.Gr(a)}};self.D.O.Lo.uc={};"use strict";const HI=self.D;HI.O.Z=class extends HI.Yo{constructor(a){super(a)}A(){super.A()}};
const II=self.D;II.O.Z.nf=class extends II.$o{constructor(a){super(a)}A(){super.A()}ac(){}};const JI=self.D,KI=self.Gf,LI=self.lr;
function MI(a){if(!a.Zk){var b=a.j.sb();a.Zk=new JI.Hm(JI.Eb.Ub(b,"keydown",d=>{switch(d.data.key){case "ArrowLeft":a.eA=!0;break;case "ArrowRight":a.DA=!0;break;case "ArrowUp":a.Lv=!0}}),JI.Eb.Ub(b,"keyup",d=>{switch(d.data.key){case "ArrowLeft":a.eA=!1;break;case "ArrowRight":a.DA=!1;break;case "ArrowUp":a.Lv=!1,a.Ns=!1}}),JI.Eb.Ub(b,"window-blur",()=>NI(a)),JI.Eb.Ub(b,"keyboard-blur",()=>NI(a)))}}
function OI(a){a.Se=Math.cos(a.Dn);a.Te=Math.sin(a.Dn);a.xq=Math.cos(a.Dn-Math.PI/2);a.yq=Math.sin(a.Dn-Math.PI/2);a.Se=JI.jx(a.Se);a.Te=JI.jx(a.Te);a.xq=JI.jx(a.xq);a.yq=JI.jx(a.yq);a.zE=a.Ra;0>a.Ra&&(a.Se*=-1,a.Te*=-1,a.Ra=Math.abs(a.Ra))}function NI(a){a.eA=!1;a.DA=!1;a.Lv=!1;a.Ns=!1}function PI(a,b){if(a.$g=b)b=b.B(),a.Ov=b.X(),a.Pv=b.Y()}function QI(a){return Vk(a.j)>a.mE+.05}
function RI(a){var b=a.L.B();const d=a.j.fc,c=a.L;var e=a.$g;const g=b.X(),k=b.Y();Fo(b,a.Se,a.Te);U(b);if(!e||!vy(c,e)||IA(e.J(),Mw.O.Lo)&&!d.IC(e,c)||IA(e.J(),Mw.O.JV)&&0===(e.G&16)){let l=UC(d,c);e=null;!l&&QI(a)&&(e=VC(d,c,!0));Ml(b,g,k);U(b);if(l){if(vy(c,l))return null;a.Jp=!1;return l}if(e&&e.length){b=0;for(let n=0,p=e.length;n<p;++n)e[b]=e[n],vy(c,e[n])||++b;if(1<=b)return a.Jp=!0,e[0]}return null}Ml(b,g,k);U(b);return e}
function SI(a,b,d=2,c=3){const e=a.L,g=a.B(),k=a.j.fc,l=g.X(),n=g.Y();0===b?Fo(g,-a.xq*d,-a.yq*d):Fo(g,a.xq*d,a.yq*d);U(g);if(!UC(k,e))return Ml(g,l,n),U(g),null;Fo(g,-a.Se*c,-a.Te*c);U(g);a=UC(k,e);Ml(g,l,n);U(g);return a}
function TI(a){if(0!==a.cb)return!1;const b=a.L,d=a.B(),c=a.j.fc,e=d.X(),g=d.Y();Fo(d,a.Se,a.Te);U(d);const k=UC(c,b);let l=null;!k&&QI(a)&&(l=VC(c,b,!0));Ml(d,e,g);U(d);if(k)return!vy(b,k);if(l&&l.length){a=0;for(let n=0,p=l.length;n<p;++n)l[a]=l[n],vy(b,l[n])||a++;if(1<=a)return!0}return!1}function UI(a,b){if(a.zE!==b){a.Ra=b;OI(a);b=a.j.fc;var d=a.B();UC(b,a.L)&&(XC(b,a.L,a.Se,a.Te,10),Fo(d,2*a.Se,2*a.Te),U(d));a.$g=null}}
function VI(a,b){b=!!b;a.zn!==b&&(a.zn=b,a.zn?MI(a):(a.Zk&&(a.Zk.A(),a.Zk=null),NI(a)))}
JI.O.Z.Instance=class extends JI.Zo{constructor(a,b){super(a);this.Zk=null;this.zw=this.OA=this.NA=this.LE=this.Uy=this.kv=this.Ns=this.Lv=this.DA=this.eA=!1;this.$g=null;this.dM=-1;this.Pv=this.Ov=0;this.Ht=this.Jp=!1;this.Bo=VC(this.j.fc,this.L);this.eM=-1;this.Gk="stopped";this.mE=-1;this.dF=!0;this.yq=this.xq=this.Te=this.Se=this.cb=this.tb=0;this.zE=this.Ra=1500;this.Dn=JI.Ta(90);this.Xe=330;this.Cg=this.si=1500;this.em=650;this.Wn=1E3;this.Fp=!1;this.ut=this.Zp=0;this.zn=!0;this.Xy=0;this.fb=
!0;b&&(this.Xe=b[0],this.si=b[1],this.Cg=b[2],this.em=b[3],this.Ra=b[4],this.Wn=b[5],this.Fp=!!b[6],this.Zp=b[7]/1E3,this.zn=!!b[8],this.fb=!!b[9]);a=this.j.sb();this.Wd=new JI.Hm(JI.Eb.Ub(a,"instancedestroy",d=>this.vy(d.instance)),JI.Eb.Ub(a,"afterload",()=>this.Pf()));this.zn&&MI(this);this.fb&&dA(this);OI(this);this.L.iu().set("isPlatformBehavior",!0)}A(){this.Zk&&(this.Zk.A(),this.Zk=null);this.Bo=this.$g=null;super.A()}vy(a){this.$g===a&&(this.$g=null);this.Bo===a&&(this.Bo=null)}Ic(){return{ii:this.LE,
lfx:this.Ov,lfy:this.Pv,lfo:this.$g?this.$g.Sb:-1,am:this.Gk,en:this.fb,fallt:this.mE,ft:this.dF,dx:this.tb,dy:this.cb,ms:this.Xe,acc:this.si,dec:this.Cg,js:this.em,g:this.Ra,g1:this.zE,mf:this.Wn,wof:this.Ht,woj:this.Bo?this.Bo.Sb:-1,ga:this.Dn,edj:this.Fp,cdj:this.Uy,dj:this.kv,sus:this.Zp,dc:this.zn,cc:this.Xy}}pc(a){this.LE=a.ii;this.Ov=a.lfx;this.Pv=a.lfy;this.dM=a.lfo;this.Gk=a.am;const b=a.en;this.mE=a.fallt||-1;this.dF=a.ft;this.tb=a.dx;this.cb=a.dy;this.Xe=a.ms;this.si=a.acc;this.Cg=a.dec;
this.em=a.js;this.Ra=a.g;this.zE=a.g1;this.Wn=a.mf;this.Ht=a.wof;this.eM=a.woj;this.Dn=a.ga;this.Fp=a.edj;this.Uy=a.cdj;this.kv=a.dj;this.Zp=a.sus;this.zn=a.dc;this.Xy=a.cc||0;this.zw=this.OA=this.NA=this.Ns=this.Lv=this.DA=this.eA=!1;this.ut=0;this.zn?MI(this):this.Zk&&(this.Zk.A(),this.Zk=null);this.Pe(b);OI(this)}Pf(){this.$g=-1===this.dM?null:Lq(this.j,this.dM);this.Bo=-1===this.eM?null:Lq(this.j,this.eM)}vI(){if(this.fb){var a=Uk(this.j,this.L);this.Lv||this.zw||(this.Ns=!1);var b=this.eA||this.NA,
d=this.DA||this.OA,c=this.Lv||this.zw,e=c&&!this.Ns;this.zw=this.OA=this.NA=!1;this.LE&&(e=c=d=b=!1);c||(this.ut=0);if(this.dF){var g=this.L,k=this.j.fc;(UC(k,g)||VC(k,g))&&XC(k,g,-this.Se,-this.Te,4,!0);this.dF=!1}const qe=this.$g,Ud=qe?qe.B():null;let Ad=0,Jc=0,Ze=!1;if(qe&&0===this.cb&&(Ud.Y()!==this.Pv||Ud.X()!==this.Ov)){const pb=this.L,bb=pb.B(),Kc=this.j.fc,Hb=Ud.X(),jc=Ud.Y();Ad=Hb-this.Ov;Jc=jc-this.Pv;Fo(bb,Ad,Jc);U(bb);this.Ov=Hb;this.Pv=jc;Ze=!0;const $e=UC(Kc,pb);$e&&(RC(Kc,pb,$e),XC(Kc,
pb,-Ad,-Jc,2.5*Math.hypot(Ad,Jc)))}var [l,,n]=[Ad,Jc,Ze],p=RI(this),r=p&&!this.Ht,w;{var x=p;let pb=!1;const bb=this.L,Kc=bb.B(),Hb=this.j.fc,jc=UC(Hb,bb);if(jc){var z=Math.abs(Kc.P()),F=Math.abs(Kc.N());bb.ki().get("inputPredicted")?XC(Hb,bb,-this.Se,-this.Te,10,!1):XC(Hb,bb,-this.Se,-this.Te,F/8)?(RC(Hb,bb,jc),x=jc,PI(this,jc),this.Jp=!1,this.cb=0):YC(Hb,bb,this.xq,this.yq,z/2)||YC(Hb,bb,this.Se,this.Te,F/2)||ZC(Hb,bb,Math.max(z,F)/2)?RC(Hb,bb,jc):pb=!0;var C=[pb,x]}else C=[!1,x]}[w,p]=C;if(!w){var G=
p,J=c;const pb=this.L,bb=this.j.fc;if(G){const ua=this.Se,fa=this.Te,Ka=this.xq,Ab=this.yq;this.Uy=this.kv=!1;0<this.cb&&(this.Ht||(WC(bb,pb,-ua,-fa,G,16),this.Ht=!0),this.cb=0);if(this.$g!==G)PI(this,G),RC(bb,pb,G);else if(n){const Bb=UC(bb,pb);Bb&&(RC(bb,pb,Bb),0!==l&&(0<l?XC(bb,pb,-Ka,-Ab):XC(bb,pb,Ka,Ab)),XC(bb,pb,-ua,-fa))}}else J||(this.Uy=!0);var K=p,O=e;if(K&&O||!K&&this.Fp&&c&&this.Uy&&!this.kv){const ua=this.L,fa=ua.B(),Ka=this.j.fc,Ab=fa.X(),Bb=fa.Y();Fo(fa,-this.Se,-this.Te);U(fa);UC(Ka,
ua)?O=!1:(this.ut=this.Zp,this.na(JI.O.Z.H.PZ),this.Gk="jumping",this.cb=-this.em,O=!0,K?this.Ns=!0:this.kv=!0);Ml(fa,Ab,Bb);U(fa)}e=O;p||(c&&0<this.ut?(this.cb=-this.em,this.ut-=a):this.$g=null,e&&(this.Ns=!0));this.Ht=!!p;let Kc=0;const Hb=this.si,jc=this.Cg;b&&!d&&(Kc=0<this.tb?-(Hb+jc):-Hb);d&&!b&&(Kc=0>this.tb?Hb+jc:Hb);var na=Kc;var ka=!1,Ja=0;if(0!==this.tb){var $b=p,id=e;const ua=this.L,fa=ua.B(),Ka=this.j.fc,Ab=this.Se,Bb=this.Te,Bd=this.xq,se=this.yq,Vd=this.Xe;let Wd=!1;const Vf=new Set(VC(Ka,
ua,!0));let jd=fa.X(),Ib=fa.Y();const Xd=JI.$(this.tb*a+.5*na*a*a,-Vd*a,Vd*a)*Bd,af=JI.$(this.tb*a+.5*na*a*a,-Vd*a,Vd*a)*se;Fo(fa,Bd*(1<this.tb?1:-1)-Ab,se*(1<this.tb?1:-1)-Bb);U(fa);let te=!1;const Tb=UC(Ka,ua);Ml(fa,jd+Xd,Ib+af);U(fa);let wc=UC(Ka,ua);!wc&&$b&&this.Jp&&(wc=VC(Ka,ua),Vf.has(wc)?wc=null:te=!0);if(wc){let cc=Math.abs(this.tb*a)+2;Tb||!XC(Ka,ua,-Ab,-Bb,cc,te,wc)?(RC(Ka,ua,wc),cc=Math.max(Math.abs(this.tb*a*2.5),Math.floor(fa.P())),XC(Ka,ua,Bd*(0>this.tb?1:-1),se*(0>this.tb?1:-1),cc,
!1)?!$b||te||this.Jp||(jd=fa.X(),Ib=fa.Y(),Fo(fa,Ab,Bb),UC(Ka,ua)?XC(Ka,ua,-Ab,-Bb,3,!1)||(Ml(fa,jd,Ib),U(fa)):(Ml(fa,jd,Ib),U(fa))):(Ml(fa,jd,Ib),U(fa)),te||(this.tb=0)):!Tb&&!id&&Math.abs(this.cb)<Math.abs(this.em/4)&&(this.cb=0,$b||(Wd=!0))}else{const cc=RI(this);if($b&&!cc){const ue=Math.ceil(Math.abs(this.tb*a))+2;jd=fa.X();Ib=fa.Y();Fo(fa,Ab*ue,Bb*ue);U(fa);const bf=VC(Ka,ua);let hi=!1;bf&&!Vf.has(bf)&&XC(Ka,ua,-Ab,-Bb,ue+2,!0,bf)&&($b=bf,PI(this,bf),hi=this.Jp=!0);hi||(UC(Ka,ua)?XC(Ka,ua,-Ab,
-Bb,ue+2,!1):(Ml(fa,jd,Ib),U(fa)))}else cc&&(!$b&&this.Jp&&(PI(this,cc),this.cb=0,Wd=!0),0===this.cb&&WC(Ka,ua,-Ab,-Bb,cc,16))}[ka,p]=[Wd,$b]}if(0!==this.cb){var Gb=p;const ua=this.L,fa=ua.B(),Ka=this.j.fc,Ab=this.Se,Bb=this.Te;let Bd=!1,se=fa.X(),Vd=fa.Y();const Wd=JI.$(this.cb*a+.5*this.Ra*a*a,-Infinity*a,this.Wn*a);Fo(fa,Wd*Ab,Wd*Bb);const Vf=fa.X(),jd=fa.Y();U(fa);let Ib=UC(Ka,ua),Xd=!1;if(!Ib&&0<this.cb&&!Gb){const Tb=QI(this)?VC(Ka,ua,!0):null;if(Tb&&Tb.length){if(this.Bo){Ml(fa,se,Vd);U(fa);
let wc=0;for(let cc=0,ue=Tb.length;cc<ue;++cc)Tb[wc]=Tb[cc],vy(ua,Tb[cc])||++wc;JI.Ff(Tb,wc);Ml(fa,Vf,jd);U(fa)}1<=Tb.length&&(Ib=Tb[0])}Xd=!!Ib}if(Ib){RC(Ka,ua,Ib);this.ut=0;let Tb=1.1;Xd&&!this.Bo&&(Tb=2);if(XC(Ka,ua,Ab*(0>this.cb?1:-1),Bb*(0>this.cb?1:-1),Math.max(Math.abs(this.cb*a*Tb),2),Xd,Ib)){PI(this,Ib);this.Jp=Xd;0<this.cb&&(Bd=!0);if(0<this.cb||0===this.Xy)this.cb=0;0>this.cb&&1===this.Xy&&WC(Ka,ua,Ab,Bb,Ib,32)}else Ml(fa,se,Vd),U(fa),this.Ht=!0,Xd||(this.cb=0)}const [af,te]=[Bd,Wd];ka=
ka||af;Ja=te}!ka&&r&&0>this.cb&&0<Ja&&(this.cb=0,ka=!0);const $e=this.Cg;b===d&&(0>this.tb?this.tb=Math.min(this.tb+$e*a,0):0<this.tb&&(this.tb=Math.max(this.tb-$e*a,0)));this.tb=JI.$(this.tb+na*a,-this.Xe,this.Xe);const gi=this.j.fc,re=0>this.tb?SI(this,0,1,1):null;if(re)this.tb=0,RC(gi,this.L,re);else{const ua=0<this.tb?SI(this,1,1,1):null;ua&&(this.tb=0,RC(gi,this.L,ua))}p&&!e||ka||(this.cb=Math.min(this.cb+this.Ra*a,this.Wn));var vc=p,Sd=ka,Td=e;"falling"!==this.Gk&&0<this.cb&&!vc&&(this.na(JI.O.Z.H.GZ),
this.Gk="falling");(vc||Sd)&&0<=this.cb&&("falling"===this.Gk||Sd||Td&&0===this.cb?(this.na(JI.O.Z.H.QZ),this.Gk=0===this.tb&&0===this.cb?"stopped":"moving"):("stopped"!==this.Gk&&0===this.tb&&0===this.cb&&(this.na(JI.O.Z.H.m_),this.Gk="stopped"),"moving"===this.Gk||0===this.tb&&0===this.cb||Td||(this.na(JI.O.Z.H.TZ),this.Gk="moving")));this.Bo=VC(this.j.fc,this.L)}}}mp(){return 0!==this.tb||0!==this.cb}Ak(){return Math.hypot(this.tb,this.cb)}By(a){this.Xe=Math.max(a,0)}Dk(a){this.si=Math.max(a,0)}yk(){return this.si}Ay(a){this.Cg=
Math.max(a,0)}Pe(a){a=!!a;this.fb!==a&&((this.fb=a)?dA(this):(cA(this),this.$g=null,this.zw=this.OA=this.NA=!1))}Ac(a){switch(a){case 0:return this.Xe;case 1:return this.yk();case 2:return this.Cg;case 3:return this.em;case 4:return this.Ra;case 5:return this.Wn;case 6:return this.Fp;case 7:return 1E3*this.Zp;case 8:return this.zn;case 9:return this.fb}}Nf(a,b){switch(a){case 0:this.By(b);break;case 1:this.Dk(b);break;case 2:this.Ay(b);break;case 3:this.em=Math.max(b,0);break;case 4:UI(this,b);break;
case 5:this.Wn=Math.max(b,0);break;case 6:this.Fp=!!b;break;case 7:this.Zp=b/1E3;break;case 8:VI(this,!!b);break;case 9:this.Pe(!!b)}}Jf(){return self.sY}};const WI=new WeakMap;self.sY=class extends LI{constructor(){super();WI.set(this,LI.zk().oa)}get speed(){return WI.get(this).Ak()}get acceleration(){return WI.get(this).yk()}set acceleration(a){KI.Ud(a);WI.get(this).Dk(a)}get isEnabled(){return WI.get(this).fb}set isEnabled(a){WI.get(this).Pe(!!a)}};const XI=self.D;
XI.O.Z.H={aQ(){return this.mp()},$W(a,b){return XI.compare(this.Ak(),a,b)},u9(){return TI(this)},Z8(a){return!!SI(this,a,2,3)},o9(){return 0>this.cb},h9(){return 0<this.cb},e9(){return this.Fp},PZ(){return!0},GZ(){return!0},m_(){return!0},TZ(){return!0},QZ(){return!0},od(){return this.fb}};const YI=self.D;
YI.O.Z.Pa={WQ(a){this.By(a)},RQ(a){this.Dk(a)},U_(a){this.Ay(a)},vda(a){this.em=Math.max(a,0)},Yda(a){this.Wn=Math.max(a,0)},kda(a){UI(this,a)},yea(a){if(this.fb)switch(a){case 0:this.NA=!0;break;case 1:this.OA=!0;break;case 2:this.zw=!0}},pda(a){this.LE=!!a},rea(a){this.tb=a},sea(a){this.cb=a},lda(a){a=YI.Ta(a);a=JI.Ed(a);this.Dn!==a&&(this.Dn=a,OI(this),this.$g=null)},zh(a){this.Pe(0!==a)},Q7(){const a=this.B(),b=a.X(),d=a.Y();Fo(a,this.Se,this.Te);U(a);const c=VC(this.j.fc,this.L,!1);Ml(a,b,d);
U(a);c&&(this.mE=Vk(this.j),this.$g=null)},Xca(a){this.Fp=0!==a},wda(a){this.Zp=a/1E3},Oca(a){this.Xy=a},Tca(a){VI(this,a)},ica(a){this.kv=!a}};const ZI=self.D;ZI.O.Z.uc={fR(){return this.Ak()},hQ(){return this.Xe},mP(){return this.yk()},gX(){return this.Cg},M9(){return this.em},p8(){return this.Ra},q8(){return ZI.Gd(this.Dn)},k$(){return this.Wn},gZ(){return ZI.Gd(Math.atan2(this.cb,this.tb))},yfa(){return this.tb},zfa(){return this.cb},N9(){return 1E3*this.Zp}};const Z=self.D;
self.tP=function(){return[Z.F.Lb,Z.O.gj,Z.O.sg,Z.O.Jt,Z.O.Dr,Z.O.ck,Z.O.Ym,Z.O.Lo,Z.O.Z,Z.F.xb,Z.F.lg,Z.F.jp,Z.F.re,Z.F.Audio,Z.F.Touch,Z.F.oi,Z.F.Touch.H.OY,Z.F.ob.Pa.aY,Z.F.ob.H.XW,Z.F.ob.uc.z4,Z.F.ob.H.A0,Z.F.ob.Pa.$I,Z.F.ob.Pa.$X,Z.F.ob.H.pQ,Z.F.ob.Pa.$_,Z.F.lg.Pa.L_,Z.F.lg.H.oQ,Z.F.lg.uc.VY,Z.F.ob.H.lu,Z.F.ob.H.aX,Z.O.sg.H.aQ,Z.O.sg.Pa.fZ,Z.F.oi.H.bX,Z.F.oi.Pa.Pg,Z.F.Lb.Pa.Y_,Z.F.Lb.Pa.YQ,Z.F.Lb.uc.hD,Z.F.Lb.uc.iD,Z.F.Lb.H.cX,Z.F.Lb.Pa.Bh,Z.F.Touch.H.sI,Z.F.Audio.Pa.Play,Z.F.ob.H.tX,Z.F.ob.Pa.xP,
Z.F.ob.uc.random,Z.F.Lb.H.uZ,Z.O.sg.Pa.WQ,Z.O.gj.Pa.zh,Z.F.Lb.Pa.e0,Z.F.Lb.Pa.R_,Z.F.ob.H.uX,Z.O.sg.uc.hQ,Z.F.Touch.H.wQ,Z.F.Lb.H.ZW,Z.O.Ym.Pa.y_,Z.F.Lb.Pa.hX,Z.O.ck.Pa.g0,Z.F.Lb.Pa.W_,Z.F.Lb.uc.FW,Z.F.ob.Pa.I0,Z.F.Lb.H.YW,Z.F.Lb.Pa.Ah,Z.F.Lb.Pa.Q_,Z.O.sg.H.mQ,Z.F.xb.Pa.bY,Z.F.ob.Pa.M_,Z.F.ob.Pa.N_,Z.F.ob.uc.iV,Z.O.sg.Pa.ue,Z.F.Lb.Pa.ad,Z.F.oi.uc.hD,Z.F.oi.uc.iD,Z.F.oi.Pa.YQ,Z.F.Lb.Pa.Pg,Z.O.Z.Pa.zh,Z.F.Lb.Pa.X_,Z.F.Lb.Pa.j0,Z.F.Audio.Pa.i0,Z.F.Lb.Pa.S_]};
self.SW=[{C7:0},{sg:0},{w3:0},{B3:0},{w7:0},{J0:0},{active:0},{Dr:0},{ck:0},{x3:0},{Ym:0},{zea:0},{x4:0},{dka:0},{Z:0},{S4:0},{yX:0},{iX:0},{W4:0},{o5:0},{q3:0},{v3:0},{id:0},{z3:0},{Q3:0},{close:0},{a5:0},{q5:0},{A3:0},{xb:0},{lg:0},{jp:0},{re:0},{Audio:0},{Touch:0},{f0:0},{P4:0},{j5:0},{q0:0},{SY:0},{TY:0},{r0:0},{p0:0},{start:0},{url:0},{Mja:0}];
self.Q8={w3:class extends self.Kd{},B3:class extends self.Kd{},J0:class extends self.Kd{},x3:class extends self.Kd{},x4:class extends self.Kd{},S4:class extends self.Kd{},yX:class extends self.Kd{},iX:class extends self.Kd{},W4:class extends self.Kd{},o5:class extends self.Kd{},q3:class extends self.Kd{},v3:class extends self.Kd{},z3:class extends self.Kd{},Q3:class extends self.Kd{},close:class extends self.Kd{},a5:class extends self.Kd{},q5:class extends self.Kd{},A3:class extends self.Kd{},xb:class extends self.lk{},
lg:class extends self.lk{},jp:class extends self.lk{},re:class extends self.lk{},Audio:class extends self.lk{},Touch:class extends self.lk{},f0:class extends self.Kd{},P4:class extends self.Kd{},j5:class extends self.Sx{},q0:class extends self.Sx{},SY:class extends self.Kd{},TY:class extends self.Kd{},r0:class extends self.Sx{},p0:class extends self.Sx{}};
self.RW=[a=>{const b=Bw(a);return()=>{var d=ew(b);return"game_"+("number"===typeof d?(Math.round(1E10*d)/1E10).toString():d)}},a=>{const b=Bw(a).fr();return()=>b()},()=>1,()=>"ur",()=>"ur2",()=>"\u0414\u0432\u0438\u0436\u0435\u043d\u0438\u0435 \u0441\u0430\u043c\u043e\u043b\u0435\u0442\u0430",()=>-6E3,()=>0,()=>-5808,()=>"polzunok",a=>{const b=Bw(a);return()=>bw(b)},()=>150,()=>1770,()=>"",()=>"\u0427\u0430\u0439\u043a\u0438",()=>2,()=>"game_top",()=>2E3,a=>{const b=Bw(a).fr();return()=>b(180,1750)},
()=>-2E3,()=>-400,()=>500,()=>"game",()=>3,()=>555,()=>2500,()=>540,()=>1E3,()=>1500,()=>50,()=>"\u041e\u0433\u043e\u043d\u044c",()=>"game_bot",a=>{const b=Bw(a).fr();return()=>b(1400,1800)},a=>{const b=Bw(a);return()=>{var d=b.R;var c=Ot(d.ha()),e=c.length;0===e?d=b.CA?"":0:(e=aw(b.Ab.Aw,e),Vt(b.Yd).lE=d,c=c[e],e=0,d.Ya&&(e=Lw(c.J(),d.Di)),d=b.Wa.apply(c.zd[b.vj+e].oa,[]));return d}},()=>2100,a=>{const b=Bw(a);return()=>bw(b)+1},()=>5,()=>"win",()=>"UI",()=>.1,a=>{const b=Bw(a).qz;return()=>b.nd()},
()=>"\u0414\u0432\u0438\u0436\u0435\u043d\u0438\u0435 \u0441\u0430\u043c\u043e\u043b\u0435\u0442\u04302",()=>-5736,()=>"polzunok2",()=>"\u0411\u0430\u043a\u0442\u0435\u0440\u0438\u0438",a=>{const b=Bw(a).fr();return()=>b("one","two","three")},()=>-1500,()=>3E3,()=>100,()=>70,()=>"star",()=>1200,()=>"UI2",()=>"\u0414\u0432\u0438\u0436\u0435\u043d\u0438\u0435 \u0441\u0430\u043c\u043e\u043b\u0435\u0442\u04303",()=>-7170,a=>{const b=Bw(a);return()=>bw(b)+7939},()=>2.5,()=>-189,a=>{const b=Bw(a).fr();
return()=>755+b(30)},()=>"polzunok3",()=>"\u043f\u043e\u0440\u0430\u0436\u0435\u043d\u0438\u0435",()=>"rat",a=>{const b=Bw(a);return()=>ew(b)},()=>15,()=>"UI3"];
